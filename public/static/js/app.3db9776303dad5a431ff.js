webpackJsonp([1],{"/QFq":function(e,t){},"2m7E":function(e,t){},"4/hK":function(e,t){},"4DCW":function(e,t){},"8Ygm":function(module,exports,__webpack_require__){var md5=__webpack_require__("NC6I"),str_count=function(e,t){var i=void 0,a=[];for(i=e.indexOf(t);i>-1;)a.push(i),i=e.indexOf(t,i+1);return a.length},t=function t(){var times=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],timestamp=arguments[1],date=new Date(timestamp),Y=date.getFullYear(),M=date.getMonth()+1<10?"0"+eval(date.getMonth()+1):date.getMonth()+1,D=date.getDate()<10?"0"+date.getDate():date.getDate(),h=date.getHours()<10?"0"+date.getHours():date.getHours(),m=date.getMinutes()<10?"0"+date.getMinutes():date.getMinutes(),s=date.getSeconds()<10?"0"+date.getSeconds():date.getSeconds();return times?Y+"-"+M+"-"+D+" "+h+":"+m+":"+s:Y+"-"+M+"-"+D+".log"},get_timestamp=function(){return Math.round((new Date).getTime()/1e3)},set_time=function(e){return t(!0,e)},repeat_str=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"　　",a=str_count(e,t);return Array(a).join(i)},set_tree=function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=[];for(var s in t)t[s].pid===i&&(t[s].__child=e(t,t[s].id),a.push(t[s]));return a},set_random=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t=void 0;switch(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all"){case"all":t="MNBVCXZASDFGHJKLPOIUYTREWQ0123456789qwertyuioplkjhgfdsazxcvbnm";break;case"number":t="0123456789";break;case"l":t="QWERTYUIOPLKJHGFDSAZXCVBNM";break;case"s":t="zxcvbnmlkjhgfdsaqwertyuiop"}for(var i="",a=0;a<e;a++)i+=str_shuffle(t).substring(0,1);return i},str_shuffle=function(e){for(var t="",i=e.length;i>0;i--){t+=e[Math.random()*(i+1)|0]}return t},set_password=function(e,t){return md5(md5(e)+md5(t))},func={str_count:str_count,set_time:set_time,repeat_str:repeat_str,set_tree:set_tree,get_timestamp:get_timestamp,set_random:set_random,str_shuffle:str_shuffle,set_password:set_password};module.exports=func},ABQI:function(e,t){},AeVr:function(e,t){},AqrC:function(e,t){},FDVj:function(e,t){},IBgp:function(e,t){},IcnI:function(e,t,i){"use strict";var a=i("7+uW"),s=i("NYxO"),n=i("mvHQ"),l=i.n(n),o={state:{tabs:[{label:"欢迎页",name:"/admin/index"}],currTabs:{label:null,name:null},activeAuthName:"/admin/index",contentVisible:!0},getters:{tabs:function(e){return e.tabs},currTabs:function(e){return e.currTabs},activeAuthName:function(e){return e.activeAuthName},contentVisible:function(e){return e.contentVisible}},mutations:{setTabs:function(e,t){e.tabs.push(t)},setCurrTabs:function(e,t){e.currTabs=t},setActiveAuthName:function(e,t){e.activeAuthName=t,e.contentVisible=!0},delTabs:function(e,t){e.tabs=t}},actions:{addTabs:function(e,t){var i=e.state,a=e.commit;-1===l()(i.tabs).indexOf(l()(t))&&a("setTabs",t)},addCurrTabs:function(e,t){e.state;var i=e.commit;i("setCurrTabs",t),i("setActiveAuthName",t.label)},deleteTabs:function(e,t){var i=e.state,a=e.commit,s=0;for(var n in i.tabs)t===i.tabs[n].name&&(s=n);i.tabs.splice(s,1),a("delTabs",i.tabs)}}},r={state:{fileTabs:[],currFileObj:{name:null,content:null,path:null,label:null}},getters:{fileTabs:function(e){return e.fileTabs},currFileObj:function(e){return e.currFileObj}},mutations:{setFileTabs:function(e,t){e.fileTabs.push(t)},delFileTabs:function(e,t){e.fileTabs=t},setCurrFileObj:function(e,t){e.currFileObj=t}},actions:{addFileTabs:function(e,t){var i=e.state,a=e.commit;-1===l()(i.fileTabs).indexOf(l()(t))&&a("setFileTabs",t)},deleteFileTabs:function(e,t){var i=e.state,a=e.commit,s=0;for(var n in i.fileTabs)t===i.fileTabs[n].name&&(s=n);i.fileTabs.splice(s,1),a("delFileTabs",i.fileTabs)},addCurrFileObj:function(e,t){e.state;(0,e.commit)("setCurrFileObj",t)}}},c={state:{apiVisible:!1,interfaceName:"",apiModel:{}},getters:{apiVisible:function(e){return e.apiVisible},interfaceName:function(e){return e.interfaceName},apiModel:function(e){return e.apiModel}},mutations:{setApiVisible:function(e,t){e.apiVisible=t},setInterfaceName:function(e,t){e.interfaceName=t},setApiModel:function(e,t){e.apiModel=t}},actions:{addApiVisible:function(e,t){e.state;var i=e.commit;i("setApiVisible",t.apiVisible),i("setInterfaceName",t.interfaceName)},addApiModel:function(e,t){e.state,(0,e.commit)("setApiModel",t)}}},u=i("zL8q"),d=i("P9l9"),m=i("k3x/"),h=i.n(m),p=i("YaEn"),f=i("8Ygm"),g=i.n(f),v={state:{token:localStorage.getItem("token"),username:localStorage.getItem("username"),auth_url:localStorage.getItem("urls"),menuLists:[]},getters:{token:function(e){return e.token},username:function(e){return e.username},auth_url:function(e){return e.auth_url},menuLists:function(e){return e.menuLists}},mutations:{setToken:function(e,t){e.token=t,localStorage.setItem("token",t)},setUserName:function(e,t){e.username=t,localStorage.setItem("username",t)},setMenuLists:function(e,t){e.menuLists=t}},actions:{loginSystem:function(e,t){e.state;var i=e.commit;d.a.LoginSys(t).then(function(e){e.data.code===h.a.SUCCESS&&(u.Message.success(e.data.msg),i("setToken",e.data.item.token),i("setUserName",e.data.item.username),p.a.push({path:"/admin/index"}))})},getAuthMenu:function(e,t){var i=e.state,a=e.commit;i.menuLists.length>0?a("setMenuLists",i.menuLists):d.a.AuthTree({username:t}).then(function(e){e.data.code===h.a.SUCCESS&&a("setMenuLists",g.a.set_tree(e.data.item))})},logoutSystem:function(e,t){e.state;var i=e.commit;d.a.LogoutSys(t).then(function(e){u.Message.success(e.data.msg),i("setToken",""),i("setUserName",""),p.a.push({path:"/login"})})},saveSystemLog:function(e,t){var i=e.state;e.commit;t.username=i.username,d.a.LogSave(t).then(function(e){u.Message.success(e.data.msg)})}}};a.default.use(s.a);var b=new s.a.Store({modules:{tabs:o,fileTabs:r,api:c,login:v}});t.a=b},IcuI:function(e,t){},JqXC:function(e,t){},Lgoy:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i("pFYg"),s=i.n(a),n=i("8U58");i("4/hK");var l={props:{value:{type:String,default:""},options:{type:Object,default:function(){return{mode:"text/javascript",lineNumbers:!0,lineWrapping:!0}}}},data:function(){return{skipNextChangeEvent:!1}},ready:function(){var e=this;this.editor=n.fromTextArea(this.$el.querySelector("textarea"),this.options),this.editor.setValue(this.value),this.editor.on("change",function(t){e.skipNextChangeEvent?e.skipNextChangeEvent=!1:(e.value=t.getValue(),e.$emit&&e.$emit("change",t.getValue()))})},mounted:function(){var e=this;this.editor=n.fromTextArea(this.$el.querySelector("textarea"),this.options),this.editor.setValue(this.value),this.editor.on("change",function(t){e.skipNextChangeEvent?e.skipNextChangeEvent=!1:e.$emit&&(e.$emit("change",t.getValue()),e.$emit("input",t.getValue()))})},watch:{value:function(e,t){if(e!==this.editor.getValue()){this.skipNextChangeEvent=!0;var i=this.editor.getScrollInfo();this.editor.setValue(e),this.editor.scrollTo(i.left,i.top)}},options:function(e,t){if("object"===(void 0===e?"undefined":s()(e)))for(var i in e)e.hasOwnProperty(i)&&this.editor.setOption(i,e[i])}},beforeDestroy:function(){this.editor&&this.editor.toTextArea()}},o={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"vue-codemirror-wrap"},[t("textarea")])}]};var r=i("VU/8")(l,o,!1,function(e){i("n76T")},null,null);t.default=r.exports},N0Sb:function(e,t){},NHnr:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i("mvHQ"),s=i.n(a),n=i("7+uW"),l={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var o=i("VU/8")({name:"App"},l,!1,function(e){i("vRGJ")},null,null).exports,r=i("YaEn"),c=i("zL8q"),u=i.n(c),d=(i("tvR6"),i("/ocq")),m=i("l/JR"),h=i("NC6I"),p=i.n(h),f=i("IcnI"),g=i("k3x/"),v=i.n(g),b=i("P9l9");n.default.config.productionTip=!1,n.default.use(u.a),n.default.use(d.a),n.default.prototype.$http=m.a,n.default.prototype.md5=p.a,n.default.prototype.code=v.a,r.a.beforeEach(function(e,t,i){if(e.meta.title&&(document.title=e.meta.title),"Login"===e.name||"/"===e.name){if(!f.a.state.login.token)return void i();b.a.CheckToken({token:f.a.state.login.token}).then(function(t){200===t.data.code&&i({path:"/admin",redirect:e.path}),i()})}else b.a.CheckToken({token:f.a.state.login.token}).then(function(t){if(200!==t.data.code)return u.a.Message.warning(t.data.msg),localStorage.clear(),void i({path:"/login",redirect:e.path});if(localStorage.setItem("urls",t.data.item.auth),-1===(null===f.a.state.login.auth_url?localStorage.getItem("urls"):f.a.state.login.auth_url).indexOf(e.path)&&"Welcome"!==e.name&&"admin"!==f.a.state.login.username){var a={},n="你没有访问权限，请联系管理员【"+v.a.QQ+"】检验数据的正确性";a.username=f.a.state.login.username,a.token=f.a.state.login.token,a.info=s()({url:e.path,info:n}),b.a.LogSave(a).then(function(t){t.data.code===v.a.SUCCESS&&(u.a.MessageBox.alert(n,{callback:function(e){location.href="tencent://message/?uin="+v.a.QQ+"&Site=后台权限认证&Menu=yes"}}),i({path:"/login",redirect:e.path}))})}else i()})}),new n.default({el:"#app",router:r.a,store:f.a,components:{App:o},template:"<App/>"})},P9l9:function(e,t,i){"use strict";var a=i("woOf"),s=i.n(a),n=i("myXI"),l=i("l/JR"),o=i("mw3O"),r=i.n(o),c={token:i("IcnI").a.state.login.token},u={LoginSys:function(e){return l.a.post(n.a.login,r.a.stringify(s()(c,e)))},LogoutSys:function(e){return l.a.post(n.a.logout,r.a.stringify(s()(c,e)))},LogSave:function(e){return l.a.post(n.a.logSave,r.a.stringify(s()(c,e)))},CheckToken:function(e){return l.a.post(n.a.checkToken,r.a.stringify(s()(c,e)))},AuthLists:function(e){return l.a.post(n.a.authLists,r.a.stringify(s()(c,e)))},RoleLists:function(e){return l.a.post(n.a.roleLists,r.a.stringify(s()(c,e)))},AuthTree:function(e){return l.a.post(n.a.tree,r.a.stringify(s()(c,e)))},UserLists:function(e){return l.a.post(n.a.userLists,r.a.stringify(s()(c,e)))},LogLists:function(e){return l.a.post(n.a.logLists,r.a.stringify(s()(c,e)))},ApiLists:function(e){return l.a.post(n.a.apiLists,r.a.stringify(s()(c,e)))},CategoryLists:function(e){return l.a.post(n.a.categoryLists,r.a.stringify(s()(c,e)))},FileLists:function(e){return l.a.post(n.a.fileLists,r.a.stringify(s()(c,e)))},FileRead:function(e){return l.a.post(n.a.fileRead,r.a.stringify(s()(c,e)))},FileRename:function(e){return l.a.post(n.a.fileRename,r.a.stringify(s()(c,e)))},FileSave:function(e){return l.a.post(n.a.fileSave,r.a.stringify(s()(c,e)))},FileDelete:function(e){return l.a.post(n.a.fileDelete,r.a.stringify(s()(c,e)))},DatabaseLists:function(e){return l.a.post(n.a.databaseLists,r.a.stringify(s()(c,e)))},MusicLists:function(e){return l.a.post(n.a.musicLists,r.a.stringify(s()(c,e)))},MusicPlay:function(e){return l.a.post(n.a.musicPlay,r.a.stringify(s()(c,e)))},LocalLists:function(e){return l.a.post(n.a.localLists,r.a.stringify(s()(c,e)))},LocalTools:function(e){return l.a.post(n.a.localTools,r.a.stringify(s()(c,e)))},CategoryDelete:function(e){return l.a.post(n.a.categoryDelete,r.a.stringify(s()(c,e)))}};t.a=u},PsxY:function(e,t){},Qago:function(e,t){},UoAS:function(e,t){},YaEn:function(e,t,i){"use strict";var a=i("7+uW"),s=i("/ocq"),n=i("Dd8w"),l=i.n(n),o=i("NYxO"),r={name:"baseModule",data:function(){return{isCollapse:!1,activeName:null,activeIndex:"1",menuClass:"el-icon-s-unfold",asideWidth:"200px",asideHeight:{"min-height":window.innerHeight-60+"px"},headerStyle:{"margin-left":"200px"}}},computed:l()({},Object(o.c)(["tabs","token","username","activeAuthName","contentVisible","menuLists"])),methods:l()({},Object(o.b)(["addTabs","deleteTabs","addCurrTabs","logoutSystem","getAuthMenu"]),{setAttr:function(e){var t={label:e.name,name:e.href};this.activeName=t.name,this.addCurrTabs(t),this.addTabs(t),this.asideHeight={"min-height":window.innerHeight-60+"px"}},goto:function(e){this.$router.push({path:e.name})},remove:function(e){var t=this;this.tabs.forEach(function(i,a){if(i.name===e){var s=t.tabs[a+1]||t.tabs[a-1];s&&(t.deleteTabs(e),t.activeName=s.name,t.$router.push({path:t.activeName}),t.addCurrTabs(s))}})},handleSelect:function(e,t){switch(e){case"2-3":this.logoutSystem(this.token)}},hideMenu:function(){this.isCollapse=!this.isCollapse,this.isCollapse?(this.menuClass="el-icon-s-fold",this.asideWidth="65px",this.headerStyle={"margin-left":"65px"}):(this.menuClass="el-icon-s-unfold",this.asideWidth="200px",this.headerStyle={"margin-left":"200px"})}}),created:function(){this.activeName=this.activeAuthName,this.asideHeight={"min-height":window.innerHeight-60+"px"}},mounted:function(){this.$nextTick(function(){this.getAuthMenu(this.username)})}},c={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-container",[i("el-header",[i("el-menu",{style:e.headerStyle,attrs:{"default-active":e.activeIndex,mode:"horizontal","background-color":"#393d49","text-color":"#fff","active-text-color":"#ffd04b"},on:{select:e.handleSelect}},[i("el-menu-item",{attrs:{index:"1"},on:{click:e.hideMenu}},[i("i",{class:e.menuClass})]),e._v(" "),i("el-submenu",{staticStyle:{float:"right"},attrs:{index:"2"}},[i("template",{slot:"title"},[e._v(e._s(e.username))]),e._v(" "),i("el-menu-item",{attrs:{index:"2-1"}},[e._v("账号资料")]),e._v(" "),i("el-menu-item",{attrs:{index:"2-2"}},[e._v("基础设置")]),e._v(" "),i("el-menu-item",{attrs:{index:"2-3"}},[e._v("退出系统")])],2)],1)],1),e._v(" "),i("el-container",[i("el-aside",{style:e.asideHeight,attrs:{width:e.asideWidth}},[i("el-menu",{attrs:{"unique-opened":"","background-color":"#393d49","text-color":"#fff","active-text-color":"#ffd04b",collapse:e.isCollapse}},e._l(e.menuLists,function(t,a){return i("el-submenu",{key:a,attrs:{index:t.id.toString()}},[i("template",{slot:"title"},[2!==t.id?i("i",{staticClass:"el-icon-menu"}):e._e(),e._v(" "),i("span",{domProps:{innerHTML:e._s(t.name)}})]),e._v(" "),e._l(t.__child,function(t,a){return i("el-menu-item",{key:a,attrs:{index:t.id.toString()},on:{click:function(i){return e.setAttr(t)}}},[i("router-link",{staticStyle:{color:"#fff"},attrs:{to:t.href},domProps:{innerHTML:e._s(t.name)}})],1)})],2)}),1)],1),e._v(" "),i("el-container",[i("el-main",[i("el-tabs",{directives:[{name:"show",rawName:"v-show",value:e.contentVisible,expression:"contentVisible"}],staticStyle:{"text-align":"left!important"},attrs:{type:"border-card",closable:""},on:{"tab-click":e.goto,"tab-remove":e.remove},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[e._l(e.tabs,function(e){return i("el-tab-pane",{key:e.name,attrs:{label:e.label,name:e.name}})}),e._v(" "),i("el-card",{attrs:{shadow:"always"}},[i("router-view")],1)],2)],1),e._v(" "),i("el-footer",[e._v("\n                © element.com - 底部固定区域\n            ")])],1)],1)],1)},staticRenderFns:[]};var u={name:"index",data:function(){return{}},components:{baseModule:i("VU/8")(r,c,!1,function(e){i("IBgp")},"data-v-09c5ce94",null).exports}},d={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("el-col",[t("baseModule")],1)],1)},staticRenderFns:[]},m=i("VU/8")(u,d,!1,null,null,null).exports,h=i("XLwt"),p=i.n(h),f={name:"Charts",props:{id:String,seriesData:Array,legendData:Array,legendSelected:Object,xAxisData:Array,chartsTitle:String},data:function(){return{charts:{}}},methods:{initCharts:function(e){this.charts=p.a.init(document.getElementById(e)),this.charts.showLoading(),this.charts.hideLoading(),this.charts.setOption({title:{text:this.chartsTitle},tooltip:{trigger:"axis"},legend:{data:this.legendData,selected:this.legendSelected},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},toolbox:{feature:{saveAsImage:{}}},xAxis:{type:"category",boundaryGap:!1,data:this.xAxisData},yAxis:{type:"value"},series:this.seriesData})}},mounted:function(){this.$nextTick(function(){this.initCharts(this.id)})}},g={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{staticStyle:{width:"100%",height:"600px"},attrs:{id:this.id}})},staticRenderFns:[]};var v={name:"index",data:function(){return{seriesData:[{name:"日志管理",type:"line",stack:"总量",data:[120,132,101,134,90,230,210]},{name:"接口管理",type:"line",stack:"总量",data:[220,182,191,234,290,330,310]},{name:"权限管理",type:"line",stack:"总量",data:[150,232,201,154,190,330,410]},{name:"角色管理",type:"line",stack:"总量",data:[320,332,301,334,390,330,320]},{name:"管理员管理",type:"line",stack:"总量",data:[820,932,901,934,1290,1330,1320]}],legendData:["日志管理","接口管理","权限管理","角色管理","管理员管理"],legendSelected:{"日志管理":!0,"接口管理":!1,"权限管理":!1,"角色管理":!1,"管理员管理":!1},xAxisData:["周一","周二","周三","周四","周五","周六","周日"],chartsTitle:"数据分析"}},components:{charts:i("VU/8")(f,g,!1,function(e){i("4DCW")},"data-v-cc1e8db6",null).exports}},b={render:function(){var e=this.$createElement;return(this._self._c||e)("charts",{attrs:{seriesData:this.seriesData,legendData:this.legendData,legendSelected:this.legendSelected,xAxisData:this.xAxisData,id:"charts",chartsTitle:this.chartsTitle}})},staticRenderFns:[]};var _=i("VU/8")(v,b,!1,function(e){i("qAyX")},"data-v-4f05c6ae",null).exports,y={name:"login",data:function(){return{users:{username:"",password:""},syncVisible:!0,rules:{username:[{required:!0,message:"用户名必须",trigger:"blur"}],password:[{required:!0,message:"用户密码必须",trigger:"blur"}]},formWidth:"80px",loginState:"1",modal:!1,reFrom:"login"}},methods:l()({},Object(o.b)(["loginSystem"]),{onSubmit:function(e){var t=this;this.$refs[e].validate(function(e){e&&t.loginSystem(t.users)})},resetForm:function(e){this.$refs[e].resetFields()}}),mounted:function(){}},x={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-dialog",{attrs:{title:"Login System",visible:e.syncVisible,modal:e.modal,center:"","show-close":e.modal,"close-on-click-modal":e.modal,"close-on-press-escape":e.modal},on:{"update:visible":function(t){e.syncVisible=t}}},[i("el-form",{ref:e.reFrom,attrs:{"label-width":e.formWidth,model:e.users,rules:e.rules}},[i("el-form-item",{attrs:{prop:"username"}},[i("el-input",{attrs:{placeholder:"username",autocomplete:"off"},model:{value:e.users.username,callback:function(t){e.$set(e.users,"username",t)},expression:"users.username"}},[i("template",{slot:"prepend"},[i("i",{staticClass:"el-icon-s-custom"})])],2)],1),e._v(" "),i("el-form-item",{attrs:{prop:"password"}},[i("el-input",{attrs:{type:"password",placeholder:"password",autocomplete:"off"},model:{value:e.users.password,callback:function(t){e.$set(e.users,"password",t)},expression:"users.password"}},[i("template",{slot:"prepend"},[i("i",{staticClass:"el-icon-user-solid"})])],2)],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{plain:""},on:{click:function(t){return e.resetForm(e.reFrom)}}},[e._v("取 消")]),e._v(" "),i("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){return e.onSubmit(e.reFrom)}}},[e._v("确 定")])],1)],1)},staticRenderFns:[]};var k=i("VU/8")(y,x,!1,function(e){i("2m7E")},"data-v-01d1f033",null).exports,M=i("mvHQ"),L=i.n(M),w={name:"Submit",props:{reFrom:String,model:Object,url:String,refs:Object},data:function(){return{}},methods:l()({},Object(o.b)(["saveSystemLog"]),{submitForm:function(e){var t=this;this.refs[e].validate(function(e){if(e)return t.model.token=t.$store.state.login.token,t.$http.post(t.url,t.model).then(function(e){if(200===e.data.code){var i={msg:L()({url:t.url,info:e.data.msg,result:e.data.result}),token:t.$store.state.login.token};return t.saveSystemLog(i),t.$message({type:"success",message:e.data.msg}),t.$emit("success"),!1}},function(e){console.log(e)}),!0;t.$message({type:"warning",message:"请检查字段完整性~"})})},resetForm:function(e){this.refs[e].resetFields()}})},S={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("el-button",{attrs:{plain:""},on:{click:function(t){return e.resetForm(e.reFrom)}}},[e._v("取 消")]),e._v(" "),i("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){return e.submitForm(e.reFrom)}}},[e._v("确 定")])],1)},staticRenderFns:[]};var C=i("VU/8")(w,S,!1,function(e){i("AeVr")},"data-v-3ac880d7",null).exports,T={name:"Radio",props:{item:Object,url:String},data:function(){return{table:this.$route.meta.mode}},methods:l()({},Object(o.b)(["saveSystemLog"]),{setStatus:function(e){var t=this,i={status:e.status,id:e.id,token:this.$store.state.login.token,act:"status"};this.$http.post(this.url,i).then(function(a){if(200===a.data.code){var s={msg:L()({url:t.url,info:a.data.msg,result:a.data.result}),token:t.$store.state.login.token};return t.saveSystemLog(s),void t.$message({type:"success",message:a.data.msg})}e.status=1===i.status?2:1},function(t){e.status=1===i.status?2:1,console.log(t)})}})},F={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("el-radio-group",{attrs:{size:"mini"},on:{change:function(t){return e.setStatus(e.item)}},model:{value:e.item.status,callback:function(t){e.$set(e.item,"status",t)},expression:"item.status"}},[i("el-radio-button",{attrs:{label:"2"}},[e._v("关闭")]),e._v(" "),i("el-radio-button",{attrs:{label:"1"}},[e._v("开启")])],1)],1)},staticRenderFns:[]};var V=i("VU/8")(T,F,!1,function(e){i("IcuI")},"data-v-529a9876",null).exports,$={name:"Delete",props:{item:Object,url:String,index:Number,Lists:Array},data:function(){return{table:this.$route.meta.mode}},methods:l()({},Object(o.b)(["saveSystemLog"]),{remove:function(e,t){var i=this;this.$confirm("此操作将永远删除该条记录，是否继续？","删除记录",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var a={id:e.id,token:i.$store.state.login.token};i.$http.post(i.url,a).then(function(e){if(200===e.data.code){i.Lists.splice(t,1);var a={msg:L()({url:i.url,info:e.data.msg,result:e.data.result}),token:i.$store.state.login.token};return i.saveSystemLog(a),i.$message({type:"success",message:e.data.msg}),i.$emit("success"),!1}},function(e){console.log(e)})}).catch(function(){i.$message({type:"info",message:"已取消删除！"})})}})},A={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("el-button",{attrs:{plain:"",type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:function(t){return e.remove(e.item,e.index)}}},[e._v("删 除")])},staticRenderFns:[]};var N=i("VU/8")($,A,!1,function(e){i("AqrC")},"data-v-6ea9ffc2",null).exports,R=i("P9l9"),D=i("myXI"),O={name:"lists",components:{Delete:N,Radio:V,Submit:C},data:function(){return{authLists:[],page:1,limit:15,total:0,pid:"",auth:"",title:"",status:"",syncVisible:!1,modal:!0,labelWidth:"80px",authLevel:[],loading:!0,loadingText:"玩命加载中。。。",url:"",refs:this.$refs,reFrom:"auth",act:"",authModel:{},cgi:{insert:D.a.authSave,update:D.a.authUpdate,remove:D.a.authDelete,status:D.a.authUpdate},rules:{name:[{required:!0,message:"权限名称不得为空",trigger:"blur"}],href:[{required:!0,message:"权限链接不得为空",trigger:"blur"}],pid:[{required:!0,message:"权限上级不得为空",trigger:"change"}],status:[{required:!0,message:"权限状态不得为空",trigger:"change"}]}}},methods:{success:function(){this.getAuthLists(this.page,this.limit),this.syncVisible=!1},getAuthLists:function(e,t){var i=this,a={pid:this.pid,auth:this.auth,page:e,limit:t};R.a.AuthLists(a).then(function(e){200===e.data.code&&(i.authLists=e.data.item.authLists.data,i.authLevel=e.data.item.selectAuth,i.total=e.data.item.authLists.total,i.loading=!1)})},sizeChange:function(e){this.limit=e,this.getAuthLists(this.page,this.limit)},currentChange:function(e){this.page=e,this.getAuthLists(this.page,this.limit)},searchAuth:function(){this.getAuthLists(this.page,this.limit)},reset:function(){this.pid="",this.auth="",this.getAuthLists(this.page,this.limit)},setAuthName:function(e){return Array(e.level+1).join("　　")+e.name},addAuth:function(){this.syncVisible=!0,this.title="添加权限",this.url=this.cgi.insert,this.act="add",this.authModel={name:"",url:"",status:"1",pid:"0",level:0,path:""}},updateAuth:function(e){this.syncVisible=!0,this.title="修改权限",this.url=this.cgi.update,this.authModel=e,this.act="update",this.authModel.pid=this.authModel.pid.toString()}},mounted:function(){this.$nextTick(function(){this.getAuthLists(this.page,this.limit)})}},j={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{"element-loading-text":e.loadingText}},[i("el-form",{staticStyle:{"margin-top":"10px"},attrs:{inline:!0}},[i("el-form-item",[i("el-select",{attrs:{placeholder:"选择权限"},on:{change:e.searchAuth},model:{value:e.pid,callback:function(t){e.pid=t},expression:"pid"}},e._l(e.authLevel,function(t,a){return i("el-option",{key:a,attrs:{label:e.setAuthName(t),value:t.id}})}),1)],1),e._v(" "),i("el-form-item",[i("el-input",{attrs:{placeholder:"权限名称"},model:{value:e.auth,callback:function(t){e.auth=t},expression:"auth"}})],1),e._v(" "),i("el-form-item",[i("el-button",{attrs:{plain:"",icon:"el-icon-search",size:"medium",type:"primary"},on:{click:e.searchAuth}},[e._v("搜 索")]),e._v(" "),i("el-button",{attrs:{plain:"",type:"primary",size:"medium"},on:{click:e.reset}},[e._v("重 置")])],1),e._v(" "),i("el-form-item",{staticStyle:{float:"right"}},[i("el-button",{attrs:{icon:"el-icon-plus",type:"primary",size:"medium",plain:""},on:{click:e.addAuth}},[e._v("添 加")])],1)],1),e._v(" "),i("el-table",{attrs:{data:e.authLists,border:""}},[i("el-table-column",{attrs:{label:"#",prop:"id"}}),e._v(" "),i("el-table-column",{attrs:{label:"权限名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                "+e._s(e.setAuthName(t.row))+"\n            ")]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"权限链接",prop:"url"}}),e._v(" "),i("el-table-column",{attrs:{label:"显示状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("Radio",{attrs:{item:t.row,url:e.cgi.status}})]}}])}),e._v(" "),i("el-table-column",{attrs:{prop:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-edit",size:"mini"},on:{click:function(i){return e.updateAuth(t.row)}}},[e._v("修 改")]),e._v(" "),i("Delete",{attrs:{url:e.cgi.remove,item:t.row,index:t.$index,Lists:e.authLists}})]}}])})],1),e._v(" "),i("div",{staticStyle:{margin:"25px 0"}},[i("el-pagination",{attrs:{"page-sizes":[15,30,50,100],"page-size":e.limit,layout:"total, sizes, prev, pager, next, jumper",total:e.total,"current-page":e.page},on:{"size-change":e.sizeChange,"current-change":e.currentChange}})],1),e._v(" "),i("el-dialog",{attrs:{title:e.title,visible:e.syncVisible,modal:e.modal,center:""},on:{"update:visible":function(t){e.syncVisible=t}}},[i("el-form",{ref:e.reFrom,attrs:{"label-width":e.labelWidth,model:e.authModel,rules:e.rules}},[i("el-form-item",{attrs:{label:"权限名称",prop:"name"}},[i("el-input",{attrs:{placeholder:"权限名称"},model:{value:e.authModel.name,callback:function(t){e.$set(e.authModel,"name",t)},expression:"authModel.name"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"权限链接",prop:"href"}},[i("el-input",{attrs:{placeholder:"/api/auth/lists"},model:{value:e.authModel.href,callback:function(t){e.$set(e.authModel,"href",t)},expression:"authModel.href"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"权限上级",prop:"pid"}},[i("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"权限上级"},model:{value:e.authModel.pid,callback:function(t){e.$set(e.authModel,"pid",t)},expression:"authModel.pid"}},["0"===e.authModel.pid?i("el-option",{attrs:{label:"默认权限",value:"0",selected:""}}):e._e(),e._v(" "),e._l(e.authLevel,function(t,a){return i("el-option",{key:a,attrs:{label:e.setAuthName(t),value:t.id.toString()}})})],2)],1),e._v(" "),"add"===e.act?i("el-form-item",{attrs:{label:"权限状态",prop:"status"}},[i("el-radio-group",{attrs:{size:"small"},model:{value:e.authModel.status,callback:function(t){e.$set(e.authModel,"status",t)},expression:"authModel.status"}},[i("el-radio-button",{attrs:{label:"2"}},[e._v("关闭")]),e._v(" "),i("el-radio-button",{attrs:{label:"1"}},[e._v("开启")])],1)],1):e._e()],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("Submit",{attrs:{reFrom:e.reFrom,model:e.authModel,url:e.url,refs:e.refs},on:{success:e.success}})],1)],1)],1)},staticRenderFns:[]};var U=i("VU/8")(O,j,!1,function(e){i("b9mD")},"data-v-41aa56c6",null).exports,E=i("8Ygm"),I=i.n(E),q={name:"lists",components:{Submit:C,Delete:N,Radio:V},data:function(){return{roleLists:[],loading:!0,loadingText:"玩命加载中。。。",authLists:[],defaultChecked:[],title:"",syncVisible:!1,modal:!0,labelWidth:"80px",url:"",refs:this.$refs,reFrom:"role",act:"",roleModel:{},ids:[],urls:[],cgi:{insert:D.a.roleSave,update:D.a.roleUpdate,remove:D.a.roleDelete,status:D.a.roleUpdate},rules:{role_name:[{required:!0,message:"角色名称不得为空",trigger:"blur"}],ids:[{required:!0,message:"权限ID不得为空",trigger:"blur"}],urls:[{required:!0,message:"权限地址不得为空",trigger:"blur"}]}}},methods:{success:function(){this.getRoleLists(this.page,this.limit),this.syncVisible=!1},getRoleLists:function(e,t){var i=this,a={offset:t*(e-1),limit:t,level:4};R.a.RoleLists(a).then(function(e){200===e.data.code&&(i.roleLists=e.data.item.role,i.authLists=e.data.item.auth,i.loading=!1)})},sizeChange:function(e){this.limit=e,this.getRoleLists(this.page,this.limit)},currentChange:function(e){this.page=e,this.getRoleLists(this.page,this.limit)},addRole:function(){this.title="添加角色",this.syncVisible=!0,this.url=this.cgi.insert,this.act="add",this.defaultChecked=[],this.roleModel={role_name:"",auth_ids:[],auth_url:[],status:"1",created_at:I.a.get_timestamp(),updated_at:I.a.get_timestamp()}},handleChange:function(e,t,i){var a=this;switch(t){case"left":i.forEach(function(e,t){a.ids.splice(a.ids.indexOf(e),1)});break;case"right":i.forEach(function(e,t){a.ids.push(parseInt(e))})}a.roleModel.auth_ids=a.ids},updateRole:function(e){for(var t in this.syncVisible=!0,this.title="修改角色",this.url=this.cgi.update,this.ids=JSON.parse(e.auth_ids),this.urls=JSON.parse(e.auth_url),this.defaultChecked=[],this.act="update",this.ids)this.defaultChecked.push(parseInt(this.ids[t]));this.roleModel=e,this.roleModel.auth_ids=this.defaultChecked}},mounted:function(){this.$nextTick(function(){this.getRoleLists(this.page,this.limit)})}},z={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{"element-loading-text":e.loadingText}},[i("el-form",{staticStyle:{"margin-top":"10px"},attrs:{inline:!0}},[i("el-form-item",{staticStyle:{float:"right"}},[i("el-button",{attrs:{icon:"el-icon-plus",type:"primary",size:"medium",plain:""},on:{click:e.addRole}},[e._v("添 加")])],1)],1),e._v(" "),i("el-table",{attrs:{data:e.roleLists,border:""}},[i("el-table-column",{attrs:{label:"#",prop:"id",sortable:""}}),e._v(" "),i("el-table-column",{attrs:{label:"角色名称",prop:"role_name"}}),e._v(" "),i("el-table-column",{attrs:{label:"显示状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("Radio",{attrs:{item:t.row,url:e.cgi.status}})]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"创建时间",sortable:"",prop:"created_at"}}),e._v(" "),i("el-table-column",{attrs:{label:"修改时间",sortable:"",prop:"updated_at"}}),e._v(" "),i("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-edit",size:"mini"},on:{click:function(i){return e.updateRole(t.row)}}},[e._v("修 改")]),e._v(" "),i("Delete",{attrs:{url:e.cgi.remove,item:t.row,index:t.$index,Lists:e.roleLists}})]}}])})],1),e._v(" "),i("el-dialog",{attrs:{title:e.title,visible:e.syncVisible,modal:e.modal,center:""},on:{"update:visible":function(t){e.syncVisible=t}}},[i("el-form",{ref:e.reFrom,attrs:{"label-width":e.labelWidth,model:e.roleModel,rules:e.rules}},[i("el-form-item",{attrs:{label:"角色名称",prop:"role_name"}},[i("el-input",{attrs:{placeholder:"角色名称"},model:{value:e.roleModel.role_name,callback:function(t){e.$set(e.roleModel,"role_name",t)},expression:"roleModel.role_name"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"权限列表",prop:"auth_ids"}},[i("el-transfer",{attrs:{titles:["所有","拥有"],"button-texts":["移除","添加"],data:e.authLists,filterable:""},on:{change:e.handleChange},model:{value:e.defaultChecked,callback:function(t){e.defaultChecked=t},expression:"defaultChecked"}})],1),e._v(" "),"add"===e.act?i("el-form-item",{attrs:{label:"状态",prop:"status"}},[i("el-radio-group",{attrs:{size:"small"},model:{value:e.roleModel.status,callback:function(t){e.$set(e.roleModel,"status",t)},expression:"roleModel.status"}},[i("el-radio-button",{attrs:{label:"0"}},[e._v("关闭")]),e._v(" "),i("el-radio-button",{attrs:{label:"1"}},[e._v("开启")])],1)],1):e._e()],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("Submit",{attrs:{reFrom:e.reFrom,model:e.roleModel,url:e.url,refs:e.refs},on:{success:e.success}})],1)],1)],1)},staticRenderFns:[]};var B=i("VU/8")(q,z,!1,function(e){i("JqXC")},"data-v-c8af7012",null).exports,W={name:"lists",components:{Submit:C,Delete:N,Radio:V},data:function(){return{userLists:[],roleLists:[],page:1,limit:15,total:0,title:"",syncVisible:!1,modal:!0,labelWidth:"80px",loading:!0,loadingText:"玩命加载中。。。",url:"",refs:this.$refs,reFrom:"user",act:"",userModel:{},cgi:{insert:D.a.userSave,update:D.a.userUpdate,remove:D.a.userDelete,status:D.a.userUpdate},rules:{username:[{required:!0,message:"管理员名称不得为空",trigger:"blur"}],password:[{required:!0,message:"密码不得为空",trigger:"blur"}],email:[{required:!0,message:"邮箱不得为空",trigger:"blur"},{type:"email",message:"邮箱格式不正确",trigger:"blur"}],phone_number:[{required:!0,message:"手机号不得为空",trigger:"blur"}],role_id:[{required:!0,message:"角色不得为空",trigger:"change"}]}}},methods:{success:function(){this.getUserLists(this.page,this.limit),this.syncVisible=!1},getUserLists:function(e,t){var i=this,a={offset:t*(e-1),limit:t,level:"1"};R.a.UserLists(a).then(function(e){200===e.data.code&&(i.userLists=e.data.item.userLists,i.total=e.data.item.total,i.roleLists=e.data.item.roleLists,i.loading=!1)})},sizeChange:function(e){this.limit=e,this.getUserLists(this.page,this.limit)},currentChange:function(e){this.page=e,this.getUserLists(this.page,this.limit)},addUser:function(){this.title="添加管理员",this.syncVisible=!0,this.act="add",this.userModel={username:"",email:"",password:"",salt:I.a.set_random(),status:"1",role_id:1,phone_number:"",created_at:I.a.get_timestamp(),updated_at:I.a.get_timestamp(),access_token:""},this.url=this.cgi.insert},updateUser:function(e){this.title="修改管理员",this.syncVisible=!0,this.userModel=e,this.url=this.cgi.update,this.act="update"}},mounted:function(){this.$nextTick(function(){this.getUserLists(this.page,this.limit)})}},P={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{"element-loading-text":e.loadingText}},[i("el-form",{staticStyle:{"margin-top":"10px"},attrs:{inline:!0}},[i("el-form-item",{staticStyle:{float:"right"}},[i("el-button",{attrs:{icon:"el-icon-plus",type:"primary",size:"medium",plain:""},on:{click:e.addUser}},[e._v("添 加")])],1)],1),e._v(" "),i("el-table",{attrs:{data:e.userLists,border:""}},[i("el-table-column",{attrs:{label:"#",prop:"id"}}),e._v(" "),i("el-table-column",{attrs:{label:"管理员",prop:"username"}}),e._v(" "),i("el-table-column",{attrs:{label:"邮箱",prop:"email"}}),e._v(" "),i("el-table-column",{attrs:{label:"手机号",prop:"phone_number"}}),e._v(" "),i("el-table-column",{attrs:{label:"显示状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("Radio",{attrs:{item:t.row,url:e.cgi.status}})]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"创建时间",prop:"created_at"}}),e._v(" "),i("el-table-column",{attrs:{label:"修改时间",prop:"updated_at"}}),e._v(" "),i("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-edit",size:"mini"},on:{click:function(i){return e.updateUser(t.row)}}},[e._v("修 改")]),e._v(" "),i("Delete",{attrs:{url:e.cgi.remove,item:t.row,index:t.$index,Lists:e.userLists}})]}}])})],1),e._v(" "),i("div",{staticStyle:{margin:"25px 0"}},[i("el-pagination",{attrs:{"page-sizes":[15,30,50,100],"page-size":e.limit,layout:"total, sizes, prev, pager, next, jumper",total:e.total,"current-page":e.page},on:{"size-change":e.sizeChange,"current-change":e.currentChange}})],1),e._v(" "),i("el-dialog",{attrs:{title:e.title,visible:e.syncVisible,modal:e.modal,center:""},on:{"update:visible":function(t){e.syncVisible=t}}},[i("el-form",{ref:e.reFrom,attrs:{"label-width":e.labelWidth,model:e.userModel,rules:e.rules}},[i("el-form-item",{attrs:{label:"管理员",prop:"username"}},[i("el-input",{attrs:{placeholder:"管理员名称"},model:{value:e.userModel.username,callback:function(t){e.$set(e.userModel,"username",t)},expression:"userModel.username"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"密码",prop:"password"}},[i("el-input",{attrs:{type:"password",placeholder:"密码"},model:{value:e.userModel.password,callback:function(t){e.$set(e.userModel,"password",t)},expression:"userModel.password"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[i("el-input",{attrs:{type:"email",placeholder:"邮箱"},model:{value:e.userModel.email,callback:function(t){e.$set(e.userModel,"email",t)},expression:"userModel.email"}})],1),e._v(" "),"update"===e.act?i("el-form-item",{attrs:{label:"手机号",prop:"phone_number"}},[i("el-input",{attrs:{type:"email",placeholder:"手机号"},model:{value:e.userModel.phone_number,callback:function(t){e.$set(e.userModel,"phone_number",t)},expression:"userModel.phone_number"}})],1):e._e(),e._v(" "),i("el-form-item",{attrs:{label:"角色",prop:"role_id"}},[i("el-select",{staticStyle:{width:"100%"},model:{value:e.userModel.role_id,callback:function(t){e.$set(e.userModel,"role_id",t)},expression:"userModel.role_id"}},e._l(e.roleLists,function(e,t){return i("el-option",{key:t,attrs:{label:e.role_name,value:e.id}})}),1)],1),e._v(" "),"add"===e.act?i("el-form-item",{attrs:{label:"显示状态",prop:"status"}},[i("el-radio-group",{attrs:{size:"small"},model:{value:e.userModel.status,callback:function(t){e.$set(e.userModel,"status",t)},expression:"userModel.status"}},[i("el-radio-button",{attrs:{label:"2"}},[e._v("关闭")]),e._v(" "),i("el-radio-button",{attrs:{label:"1"}},[e._v("开启")])],1)],1):e._e()],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("Submit",{attrs:{reFrom:e.reFrom,model:e.userModel,url:e.url,refs:e.refs},on:{success:e.success}})],1)],1)],1)},staticRenderFns:[]};var Y=i("VU/8")(W,P,!1,function(e){i("Qago")},"data-v-16c9450f",null).exports,H={name:"log",components:{Delete:N},data:function(){return{logLists:[],page:1,limit:15,total:0,functions:I.a,labelWidth:"80px",loading:!0,loadingText:"玩命加载中。。。",cgi:{remove:D.a.logDelete},rules:{}}},methods:{success:function(){this.getLogLists(this.page,this.limit)},getLogLists:function(e,t){var i=this,a={page:e,limit:t};R.a.LogLists(a).then(function(e){200===e.data.code&&(i.logLists=e.data.item.data,i.total=e.data.item.total,i.loading=!1)})},sizeChange:function(e){this.limit=e,this.getLogLists(this.page,this.limit)},currentChange:function(e){this.page=e,this.getLogLists(this.page,this.limit)}},mounted:function(){this.$nextTick(function(){this.getLogLists(this.page,this.limit)})}},Q={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{"element-loading-text":e.loadingText}},[i("el-table",{attrs:{data:e.logLists,border:""}},[i("el-table-column",{attrs:{label:"#",prop:"id"}}),e._v(" "),i("el-table-column",{attrs:{label:"执行人",prop:"username"}}),e._v(" "),i("el-table-column",{attrs:{label:"日志信息",prop:"log","show-overflow-tooltip":!0}}),e._v(" "),i("el-table-column",{attrs:{label:"地址",prop:"ip_address"}}),e._v(" "),i("el-table-column",{attrs:{label:"创建时间",sortable:"",prop:"created_at"}}),e._v(" "),i("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("Delete",{attrs:{url:e.cgi.remove,func:e.functions,item:t.row,index:t.$index,Lists:e.logLists},on:{success:e.success}})]}}])})],1),e._v(" "),i("div",{staticStyle:{margin:"25px 0"}},[i("el-pagination",{attrs:{"page-sizes":[15,30,50,100],"page-size":e.limit,layout:"total, sizes, prev, pager, next, jumper",total:e.total,"current-page":e.page},on:{"size-change":e.sizeChange,"current-change":e.currentChange}})],1)],1)},staticRenderFns:[]};var J=i("VU/8")(H,Q,!1,function(e){i("N0Sb")},"data-v-7b7f412d",null).exports,K=i("gZhU");i("5IAE"),i("/9hD"),i("jQeI"),i("PsxY"),i("Mixr"),i("4/hK"),i("8U58"),i("UoAS"),i("Yokd"),i("THjC"),i("Kk9m"),i("fo6W"),i("fo6W");var X={name:"lists",components:{Submit:C,codemirror:K.codemirror},data:function(){return{props:{label:"label",children:"children"},checkBoxArr:[{id:4,value:"读取"},{id:2,value:"写入"},{id:1,value:"执行"}],all:[],user:[],common:[],all_id:0,user_id:0,common_id:0,chmodModel:{auth:parseInt(this.all_id+""+this.user_id+this.common_id),path:""},compressionModel:{docLists:[],type:"",path:""},options:{mode:"text/javascript",tabSize:4,lineNumbers:!0,lineWrapping:!1,extraKeys:{"Ctrl-Space":"autocomplete"},hint:!0,indentWithTabs:!0,smartIndent:!0,matchBrackets:!0,styleActiveLine:!0,cursorHeight:1,autoRefresh:!0},menuVisible:!1,highlight:!0,fileLists:[],path:"base_path",activeFileTabName:null,title:"default",syncVisible:!1,modal:!0,labelWidth:"80px",loading:!0,loadingText:"玩命加载中。。。",url:"",refs:this.$refs,reFrom:"file",fileObject:{},showRightBtn:{add:!0,rename:!0,remove:!0,compression:!0,DeCompression:!1,auth:!0,download:!0,upload:!0},fileModel:{content:"",path:""},showIdea:!0,cgi:{update:D.a.fileUpdate,chmod:D.a.fileChmod},rules:{auth:[{required:!0,message:"权限不得为空",trigger:"blur"},{type:"number",message:"权限必须为数字值",trigger:"blur"}]}}},computed:l()({},Object(o.c)(["fileTabs","currFileObj"])),methods:l()({},Object(o.b)(["addFileTabs","deleteFileTabs","addCurrFileObj","saveSystemLog"]),{success:function(){this.getFileLists(this.path),this.syncVisible=!1},getFileLists:function(e){var t=this,i={path:e,basename:"/"};R.a.FileLists(i).then(function(e){200===e.data.code&&(t.fileLists=e.data.item,t.loading=!1)})},rightClick:function(e,t,i,a){this.menuVisible=!1,this.menuVisible=!0;var s=document.querySelector("#menu");switch(document.addEventListener("click",this.foo),s.style.left="310px",s.style.top=e.clientY-195+"px",this.fileObject=t,this.fileObject.fileType){case"file":this.showRightBtn.DeCompression=!1,this.showRightBtn.upload=!1;var n=this.fileObject.label.split(".")[1];["tar","zip","7z","TAR","ZIP","7Z"].includes(n)&&(this.showRightBtn.DeCompression=!0);break;case"dir":this.showRightBtn.download=!1,this.showRightBtn.DeCompression=!1}},foo:function(){this.menuVisible=!1,document.removeEventListener("click",this.foo)},goto:function(e){var t=this.fileTabs;for(var i in t)if(t[i].label===e.label){this.fileModel.content=t[i].content,this.fileModel.path=t[i].path;var a={content:this.fileModel.content,path:this.fileModel.path,name:t[i].name};this.addCurrFileObj(a)}},removeTabName:function(e){var t=this;this.fileTabs.forEach(function(i,a){if(i.name===e){var s=t.fileTabs[a+1]||t.fileTabs[a-1];if(s){t.activeFileTabName=s.name,t.fileModel.content=s.content;var n={content:s.content,path:s.path,name:s.name};t.addCurrFileObj(n),t.deleteFileTabs(e)}}})},getFileContent:function(e){var t=this;if("file"!==e.fileType)return this.$notify({type:"success",title:"通知",message:"不是一个文件"}),!1;this.showIdea=!0,this.activeFileTabName=e.size.toString();var i={path:e.path},a={};this.url=this.cgi.update,a.label=e.label,a.name=e.size.toString(),a.path=e.path,R.a.FileRead(i).then(function(i){200===i.data.code&&(t.fileModel.content=i.data.item.content,t.fileModel.path=e.path,a.content=t.fileModel.content,t.addCurrFileObj(a),t.addFileTabs(a))})},renameFile:function(){var e=this,t={oldFile:this.fileObject.path};this.$prompt("请输入文件名","重命名",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(i){var a=i.value;t.newFile=t.oldFile.replace(e.fileObject.label,a),R.a.FileRename(t).then(function(t){if(200===t.data.code){e.fileObject.name=a,e.$message({type:"success",message:"你的新文件名: "+a});var i={msg:L()({url:D.a.fileSave,info:"你的新文件名: "+a,result:t.data.result})};e.saveSystemLog(i),e.getFileLists(e.path)}})}).catch(function(){e.$message({type:"info",message:"取消输入"})})},deleteFile:function(){var e=this;this.$confirm("此操作将永远删除该条记录，是否继续？","删除记录",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var t={path:e.fileObject.path};R.a.FileDelete(t).then(function(i){if(200===i.data.code){var a={msg:L()({url:D.a.fileDelete,info:"删除文件成功："+t.path,result:i.data.result})};e.saveSystemLog(a),e.getFileLists(e.path),e.$message({type:"success",message:"删除记录成功！："+t.path})}})}).catch(function(){e.$message({type:"info",message:"已取消删除！"})})},addFile:function(){var e=this,t={};this.$prompt("请输入文件名","新建文件",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(i){var a=i.value;"file"===e.fileObject.fileType?t.path=e.fileObject.path.replace(e.fileObject.label,a):"dir"===e.fileObject.fileType&&(t.path=e.fileObject.path+"/"+a),R.a.FileSave(t).then(function(i){if(200===i.data.code){var a={info:L()({url:D.a.fileSave,info:"你的新文件名: "+t.path,result:i.data.result})};e.saveSystemLog(a),e.getFileLists(e.path),e.$message({type:"success",message:"你的新文件名: "+t.path})}})}).catch(function(){e.$message({type:"info",message:"取消输入"})})},authFile:function(){this.syncVisible=!0,this.title="设置权限【"+this.fileObject.path+"】",this.chmodModel.auth=parseInt(this.fileObject.auth),this.chmodModel.path=this.fileObject.path,this.all_id=this.fileObject.auth.substr(0,1),this.user_id=this.fileObject.auth.substr(1,1),this.common_id=this.fileObject.auth.substr(2,1),this.all=this.setChmod(this.all_id),this.user=this.setChmod(this.user_id),this.common=this.setChmod(this.common_id),this.url=this.cgi.chmod},setChmod:function(e){var t=[];switch(e){case"7":t=["读取","写入","执行"];break;case"6":t=["读取","写入"];break;case"5":t=["读取","执行"];break;case"4":t=["读取"];break;case"3":t=["写入","执行"];break;case"2":t=["写入"];break;case"1":t=["执行"]}return t},setChmodAuth:function(){this.chmodModel.auth=parseInt(this.chmodModel.auth),this.chmodModel.auth>777&&(this.$message({type:"warning",message:"权限设置失败"}),this.chmodModel.auth=parseInt(this.fileObject.auth)),this.all_id=this.chmodModel.auth.toString().substr(0,1),this.user_id=this.chmodModel.auth.toString().substr(1,1),this.common_id=this.chmodModel.auth.toString().substr(2,1),this.all=this.setChmod(this.all_id),this.user=this.setChmod(this.user_id),this.common=this.setChmod(this.common_id),this.url=this.cgi.chmod},getChmod:function(e){var t=0;for(var i in e)"读取"===e[i]&&(t+=4),"写入"===e[i]&&(t+=2),"执行"===e[i]&&(t+=1);return t},allChange:function(e){this.all_id=this.getChmod(e),this.chmodModel.auth=parseInt(this.all_id+""+this.user_id+this.common_id)},userChange:function(e){this.user_id=this.getChmod(e),this.chmodModel.auth=parseInt(this.all_id+""+this.user_id+this.common_id)},commonChange:function(e){this.common_id=this.getChmod(e),this.chmodModel.auth=parseInt(this.all_id+""+this.user_id+this.common_id)},compressionFile:function(){this.compressionModel.docLists.push(this.fileObject.path)},updateContent:function(e){this.fileModel.content=e}}),created:function(){this.activeFileTabName=this.currFileObj.name,this.fileModel=this.currFileObj,null===this.activeFileTabName&&(this.fileModel.content="",this.showIdea=!1)},mounted:function(){this.$nextTick(function(){this.url=this.cgi.update,this.getFileLists(this.path)})}},G={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{"element-loading-text":e.loadingText}},[i("el-row",[i("el-col",{attrs:{span:5}},[i("el-tree",{staticStyle:{width:"300px","background-color":"#393d49"},attrs:{data:e.fileLists,"highlight-current":e.highlight,props:e.props,"node-key":e.props.id},on:{"node-contextmenu":e.rightClick,"node-click":e.getFileContent}})],1),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.menuVisible,expression:"menuVisible"}]},[i("ul",{staticClass:"menu",attrs:{id:"menu"}},[i("li",{directives:[{name:"show",rawName:"v-show",value:e.showRightBtn.add,expression:"showRightBtn.add"}],staticClass:"menu__item",on:{click:e.addFile}},[i("i",{staticClass:"el-icon-circle-plus-outline"}),e._v(" 添 加")]),e._v(" "),i("li",{directives:[{name:"show",rawName:"v-show",value:e.showRightBtn.rename,expression:"showRightBtn.rename"}],staticClass:"menu__item",on:{click:e.renameFile}},[i("i",{staticClass:"el-icon-edit-outline"}),e._v(" 修 改")]),e._v(" "),i("li",{directives:[{name:"show",rawName:"v-show",value:e.showRightBtn.auth,expression:"showRightBtn.auth"}],staticClass:"menu__item",on:{click:e.authFile}},[i("i",{staticClass:"el-icon-user-solid"}),e._v(" 权 限")]),e._v(" "),i("li",{directives:[{name:"show",rawName:"v-show",value:e.showRightBtn.compression,expression:"showRightBtn.compression"}],staticClass:"menu__item",on:{click:e.compressionFile}},[i("i",{staticClass:"el-icon-collection"}),e._v(" 压 缩")]),e._v(" "),i("li",{directives:[{name:"show",rawName:"v-show",value:e.showRightBtn.DeCompression,expression:"showRightBtn.DeCompression"}],staticClass:"menu__item",on:{click:e.deleteFile}},[i("i",{staticClass:"el-icon-receiving"}),e._v(" 解 压")]),e._v(" "),i("li",{directives:[{name:"show",rawName:"v-show",value:e.showRightBtn.download,expression:"showRightBtn.download"}],staticClass:"menu__item",on:{click:e.deleteFile}},[i("i",{staticClass:"el-icon-download"}),e._v(" 下 载")]),e._v(" "),i("li",{directives:[{name:"show",rawName:"v-show",value:e.showRightBtn.upload,expression:"showRightBtn.upload"}],staticClass:"menu__item",on:{click:e.deleteFile}},[i("i",{staticClass:"el-icon-upload"}),e._v(" 上 传")]),e._v(" "),i("li",{directives:[{name:"show",rawName:"v-show",value:e.showRightBtn.remove,expression:"showRightBtn.remove"}],staticClass:"menu__item",on:{click:e.deleteFile}},[i("i",{staticClass:"el-icon-delete-solid"}),e._v(" 删 除")])])]),e._v(" "),i("el-col",{directives:[{name:"show",rawName:"v-show",value:e.showIdea,expression:"showIdea"}],attrs:{span:19}},[i("el-form",{ref:e.reFrom,attrs:{"label-width":e.labelWidth,model:e.fileModel}},[i("el-form-item",{staticStyle:{"margin-left":"-30px !important"}},[i("el-tabs",{staticStyle:{"text-align":"left!important"},attrs:{type:"border-card",closable:""},on:{"tab-click":e.goto,"tab-remove":e.removeTabName},model:{value:e.activeFileTabName,callback:function(t){e.activeFileTabName=t},expression:"activeFileTabName"}},[e._l(e.fileTabs,function(e){return i("el-tab-pane",{key:e.name,attrs:{label:e.label,name:e.name}})}),e._v(" "),i("el-card",{attrs:{shadow:"hover"}},[i("codemirror",{ref:"edit",staticStyle:{"line-height":"20px"},attrs:{value:e.fileModel.content,options:e.options},on:{change:e.updateContent}})],1)],2)],1)],1),e._v(" "),i("Submit",{staticStyle:{"text-align":"center !important"},attrs:{reFrom:e.reFrom,model:e.fileModel,url:e.url,refs:e.refs},on:{success:e.success}})],1)],1),e._v(" "),i("el-dialog",{attrs:{visible:e.syncVisible,modal:e.modal,title:e.title,center:""},on:{"update:visible":function(t){e.syncVisible=t}}},[i("el-form",{ref:e.reFrom,attrs:{"label-width":e.labelWidth,model:e.chmodModel,rules:e.rules}},[i("el-form-item",{attrs:{label:"权限",prop:"auth"}},[i("el-input",{attrs:{placeholder:"请输入内容"},on:{change:e.setChmodAuth},model:{value:e.chmodModel.auth,callback:function(t){e.$set(e.chmodModel,"auth",t)},expression:"chmodModel.auth"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"所有者"}},[i("el-checkbox-group",{on:{change:e.allChange},model:{value:e.all,callback:function(t){e.all=t},expression:"all"}},e._l(e.checkBoxArr,function(e){return i("el-checkbox",{key:e.id,attrs:{border:"",size:"small",label:e.value}})}),1)],1),e._v(" "),i("el-form-item",{attrs:{label:"用户组"}},[i("el-checkbox-group",{on:{change:e.userChange},model:{value:e.user,callback:function(t){e.user=t},expression:"user"}},e._l(e.checkBoxArr,function(e){return i("el-checkbox",{key:e.id,attrs:{border:"",size:"small",label:e.value}})}),1)],1),e._v(" "),i("el-form-item",{attrs:{label:"公共"}},[i("el-checkbox-group",{on:{change:e.commonChange},model:{value:e.common,callback:function(t){e.common=t},expression:"common"}},e._l(e.checkBoxArr,function(e){return i("el-checkbox",{key:e.id,attrs:{border:"",size:"small",label:e.value}})}),1)],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("Submit",{attrs:{reFrom:e.reFrom,model:e.chmodModel,url:e.url,refs:e.refs},on:{success:e.success}})],1)],1)],1)},staticRenderFns:[]};var Z=i("VU/8")(X,G,!1,function(e){i("/QFq")},"data-v-6535a426",null).exports,ee=i("fZjL"),te=i.n(ee);i("4/hK"),i("8U58"),i("jQeI"),i("PsxY"),i("Mixr"),i("5IAE");var ie={name:"lists",components:{Submit:C,Delete:N,Radio:V,codemirror:K.codemirror},data:function(){return{categoryLists:[],props:{label:"name",children:"children",id:"id"},title:"",syncVisible:!1,modal:!0,labelWidth:"80px",loading:!0,loadingText:"玩命加载中。。。",url:"",refs:this.$refs,reFrom:"category",apiName:"",menuVisible:!1,categoryModel:{},apiCategory:[],highlight:!0,options:{mode:"application/ld+json",tabSize:4,lineNumbers:!0,lineWrapping:!1,extraKeys:{"Ctrl-Space":"autocomplete"},highlight:!0,hint:!0,indentWithTabs:!0,smartIndent:!0,matchBrackets:!0,styleActiveLine:!0,cursorHeight:1,autoRefresh:!0},apiStatus:!1,methodLists:{POST:"POST",GET:"GET",PUT:"PUT",DELETE:"DELETE"},typeLists:{String:"String",Float:"Float",Number:"Number",Object:"Object",Timestamp:"Timestamp"},cgi:{insert:D.a.apiSave,update:D.a.apiUpdate,categoryInsert:D.a.categorySave,categoryUpdate:D.a.categoryUpdate,remove:D.a.categoryDelete},rules:{type:[{required:!0,message:"请输入权限名称",trigger:"change"}],href:[{required:!0,message:"请输入权限地址",trigger:"blur"}],method:[{required:!0,message:"请输入请求方法",trigger:"change"}],desc:[{required:!0,message:"请输入接口描述",trigger:"blur"}],response_string:[{required:!0,message:"请输入返回参数",trigger:"blur"}]}}},computed:l()({},Object(o.c)(["apiVisible","apiModel","interfaceName"])),methods:l()({},Object(o.b)(["addApiVisible","addApiModel","saveSystemLog"]),{success:function(){this.getCategoryLists(),this.syncVisible=!1},setName:function(e){return Array(e.level+1).join("　　")+e.name},getCategoryLists:function(){var e=this;R.a.CategoryLists().then(function(t){200===t.data.code&&(e.apiCategory=t.data.item.category,e.categoryLists=t.data.item.category_tree,e.loading=!1)})},rightClick:function(e,t,i,a){this.menuVisible=!1,this.menuVisible=!0;var s=document.querySelector("#menu");document.addEventListener("click",this.foo),s.style.left="210px",s.style.top=e.screenY-185+"px",this.categoryModel=t},foo:function(){this.menuVisible=!1,document.removeEventListener("click",this.foo)},addCategory:function(){this.title="添加接口",this.syncVisible=!0,this.url=this.cgi.categoryInsert,this.categoryModel={name:"",pid:this.categoryModel.value,path:"1",level:1}},updateCategory:function(){this.title=this.categoryModel.name,this.syncVisible=!0,this.url=this.cgi.categoryUpdate},deleteCategory:function(){var e=this;R.a.CategoryDelete({id:this.categoryModel.value}).then(function(t){if(200===t.data.code){var i={msg:L()({url:e.cgi.remove,info:t.data.msg,result:t.data.result}),token:e.$store.state.login.token};e.saveSystemLog(i),e.$message({type:"success",message:t.data.msg}),e.getCategoryLists()}})},getApiDetail:function(e){var t=this;if(0!==e.level){var i={apiVisible:!0,interfaceName:e.name};this.addApiVisible(i),this.apiName=this.interfaceName,R.a.ApiLists({type:e.value}).then(function(i){if(200===i.data.code)t.addApiModel(i.data.item),t.apiModel.request=JSON.parse(t.apiModel.request),t.apiModel.response=JSON.parse(t.apiModel.response),t.url=t.cgi.update;else{t.url=t.cgi.insert;var a={desc:"",type:e.value,href:"",method:"POST",request:[{name:"token",desc:"用户token",required:"1",type:"String",val:""}],response:[{name:"code",desc:"200 成功",type:"number"},{name:"msg",desc:"Success",type:"string"}],response_string:"",remark:""};t.addApiModel(a)}})}else this.$notify({title:"通知",message:"该接口暂时不允许访问",type:"success"})},requestRemove:function(e,t){var i=[],a=this;te()(a.apiModel.request).forEach(function(e){i.push(a.apiModel.request[e])}),i.splice(t,1),a.apiModel.request=i},requestAdd:function(){this.apiModel.request.push({name:"",desc:"",required:"",type:"",val:""})},responseRemove:function(e,t){var i=[],a=this;te()(a.apiModel.response).forEach(function(e){i.push(a.apiModel.response[e])}),i.splice(t,1),a.apiModel.response=i},responseAdd:function(){this.apiModel.response.push({name:"",desc:"",type:""})}}),created:function(){this.apiName=this.interfaceName},mounted:function(){this.$nextTick(function(){this.getCategoryLists()})}},ae={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{"element-loading-text":e.loadingText}},[i("el-row",[i("el-col",{attrs:{span:4}},[i("el-tree",{staticStyle:{width:"200px","background-color":"#393d49"},attrs:{props:e.props,"highlight-current":e.highlight,data:e.categoryLists,"default-expand-all":"","node-key":e.props.id},on:{"node-contextmenu":e.rightClick,"node-click":e.getApiDetail}})],1),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.menuVisible,expression:"menuVisible"}]},[i("ul",{staticClass:"menu",attrs:{id:"menu"}},[i("li",{staticClass:"menu__item",on:{click:e.addCategory}},[i("i",{staticClass:"el-icon-circle-plus-outline"}),e._v(" 添 加")]),e._v(" "),i("li",{staticClass:"menu__item",on:{click:e.updateCategory}},[i("i",{staticClass:"el-icon-edit-outline"}),e._v(" 修 改")]),e._v(" "),i("li",{staticClass:"menu__item",on:{click:e.deleteCategory}},[i("i",{staticClass:"el-icon-delete-solid"}),e._v(" 删 除")])])]),e._v(" "),i("el-col",{directives:[{name:"show",rawName:"v-show",value:e.apiVisible,expression:"apiVisible"}],attrs:{span:20}},[i("el-tabs",{attrs:{type:"border-card"},model:{value:e.apiName,callback:function(t){e.apiName=t},expression:"apiName"}},[i("el-tab-pane",{key:e.apiName,attrs:{label:e.apiName,name:e.apiName}}),e._v(" "),i("el-card",{attrs:{shadow:"hover"}},[i("el-form",{ref:e.reFrom,attrs:{"label-width":e.labelWidth,model:e.apiModel,rules:e.rules}},[i("el-form-item",{attrs:{label:"接口名称",prop:"type"}},[i("el-select",{staticStyle:{width:"100%"},attrs:{"auto-complete":"true",placeholder:"接口名称"},model:{value:e.apiModel.type,callback:function(t){e.$set(e.apiModel,"type",t)},expression:"apiModel.type"}},e._l(e.apiCategory,function(t,a){return i("el-option",{key:a,attrs:{label:e.setName(t),value:t.value}})}),1)],1),e._v(" "),i("el-form-item",{attrs:{label:"接口描述",prop:"desc"}},[i("el-input",{attrs:{placeholder:"接口描述"},model:{value:e.apiModel.desc,callback:function(t){e.$set(e.apiModel,"desc",t)},expression:"apiModel.desc"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"接口地址",prop:"href"}},[i("el-input",{attrs:{placeholder:"接口地址"},model:{value:e.apiModel.href,callback:function(t){e.$set(e.apiModel,"href",t)},expression:"apiModel.href"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"接口方法",prop:"method"}},[i("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"接口方法"},model:{value:e.apiModel.method,callback:function(t){e.$set(e.apiModel,"method",t)},expression:"apiModel.method"}},e._l(e.methodLists,function(e,t){return i("el-option",{key:t,attrs:{label:e,value:t}})}),1)],1),e._v(" "),i("el-form-item",{attrs:{label:"请求字段",prop:"request"}},[i("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-plus",size:"medium"},on:{click:function(t){return e.requestAdd()}}}),e._v(" "),e._l(e.apiModel.request,function(t,a){return i("div",{key:a},[i("el-input",{staticStyle:{width:"195px","margin-bottom":"5px"},attrs:{"auto-complete":"true",placeholder:"参数名"},model:{value:t.name,callback:function(i){e.$set(t,"name",i)},expression:"request.name"}}),e._v(" "),i("el-select",{staticStyle:{width:"195px"},attrs:{"auto-complete":"true",placeholder:"字段类型"},model:{value:t.type,callback:function(i){e.$set(t,"type",i)},expression:"request.type"}},e._l(e.typeLists,function(e,t){return i("el-option",{key:t,attrs:{label:e,value:t}})}),1),e._v(" "),i("el-select",{staticStyle:{width:"195px"},attrs:{placeholder:"是否必须"},model:{value:t.required,callback:function(i){e.$set(t,"required",i)},expression:"request.required"}},[i("el-option",{attrs:{label:"是",value:"1"}}),e._v(" "),i("el-option",{attrs:{label:"否",value:"0"}})],1),e._v(" "),i("el-input",{staticStyle:{width:"195px"},attrs:{"auto-complete":"true",placeholder:"参数描述"},model:{value:t.desc,callback:function(i){e.$set(t,"desc",i)},expression:"request.desc"}}),e._v(" "),i("el-input",{staticStyle:{width:"195px"},attrs:{"auto-complete":"true",placeholder:"参数值"},model:{value:t.val,callback:function(i){e.$set(t,"val",i)},expression:"request.val"}}),e._v(" "),i("el-button",{attrs:{type:"danger",plain:"",icon:"el-icon-delete",size:"medium"},on:{click:function(i){return e.requestRemove(t,a)}}})],1)})],2),e._v(" "),i("el-form-item",{attrs:{label:"返回参数",prop:"response_string"}},[i("codemirror",{ref:"edit",staticStyle:{"line-height":"20px"},attrs:{value:e.apiModel.response_string,options:e.options}})],1),e._v(" "),i("el-form-item",{attrs:{label:"返回字段",prop:"response"}},[i("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-plus",size:"medium"},on:{click:function(t){return e.responseAdd()}}}),e._v(" "),e._l(e.apiModel.response,function(t,a){return i("div",{key:a},[i("el-input",{staticStyle:{width:"195px","margin-bottom":"5px"},attrs:{"auto-complete":"true",placeholder:"参数名"},model:{value:t.name,callback:function(i){e.$set(t,"name",i)},expression:"response.name"}}),e._v(" "),i("el-select",{staticStyle:{width:"195px"},attrs:{"auto-complete":"true",placeholder:"字段类型"},model:{value:t.type,callback:function(i){e.$set(t,"type",i)},expression:"response.type"}},e._l(e.typeLists,function(e,t){return i("el-option",{key:t,attrs:{label:e,value:t}})}),1),e._v(" "),i("el-input",{staticStyle:{width:"200px"},attrs:{"auto-complete":"true",placeholder:"参数描述"},model:{value:t.desc,callback:function(i){e.$set(t,"desc",i)},expression:"response.desc"}}),e._v(" "),i("el-button",{attrs:{type:"danger",icon:"el-icon-delete",plain:"",size:"medium"},on:{click:function(i){return e.responseRemove(t,a)}}})],1)})],2),e._v(" "),i("el-form-item",{attrs:{label:"备注",prop:"remark"}},[i("el-input",{attrs:{placeholder:"备注",type:"textarea"},model:{value:e.apiModel.remark,callback:function(t){e.$set(e.apiModel,"remark",t)},expression:"apiModel.remark"}})],1),e._v(" "),i("Submit",{staticStyle:{"text-align":"center"},attrs:{reFrom:e.reFrom,model:e.apiModel,url:e.url,refs:e.refs},on:{success:e.success}})],1)],1)],1)],1)],1),e._v(" "),i("el-dialog",{attrs:{title:e.title,visible:e.syncVisible,modal:e.modal,center:""},on:{"update:visible":function(t){e.syncVisible=t}}},[i("el-form",{ref:e.reFrom,attrs:{"label-width":e.labelWidth,model:e.categoryModel,rules:e.rules}},[i("el-form-item",{attrs:{label:"接口名称",prop:"name"}},[i("el-input",{attrs:{placeholder:"分类名称"},model:{value:e.categoryModel.name,callback:function(t){e.$set(e.categoryModel,"name",t)},expression:"categoryModel.name"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"接口上级",prop:"pid"}},[i("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"接口上级"},model:{value:e.categoryModel.pid,callback:function(t){e.$set(e.categoryModel,"pid",t)},expression:"categoryModel.pid"}},e._l(e.apiCategory,function(t,a){return i("el-option",{key:a,attrs:{label:e.setName(t),value:t.value}})}),1)],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("Submit",{attrs:{reFrom:e.reFrom,model:e.categoryModel,url:e.url,refs:e.refs},on:{success:e.success}})],1)],1)],1)},staticRenderFns:[]};var se=i("VU/8")(ie,ae,!1,function(e){i("faUy")},"data-v-16312b16",null).exports,ne=i("ijDU"),le={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("el-form",{attrs:{inline:!0}},[i("el-form-item",[i("el-input",{attrs:{"auto-complete":"true"},model:{value:e.s,callback:function(t){e.s=t},expression:"s"}})],1),e._v(" "),i("el-form-item",[i("el-select",{staticStyle:{width:"200px"},on:{change:function(t){return e.searchMusic()}},model:{value:e.form,callback:function(t){e.form=t},expression:"form"}},[i("el-option",{attrs:{value:"api"}},[e._v("api")]),e._v(" "),i("el-option",{attrs:{value:"mysql"}},[e._v("mysql")])],1)],1),e._v(" "),i("el-form-item",[i("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.searchMusic}}),e._v(" "),!1!==e.showBtn?i("el-button",{attrs:{type:"primary",icon:"el-icon-service"},on:{click:e.showDialog}},[e._v("正在播放："+e._s(e.title))]):e._e()],1)],1),e._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.musicModel,"element-loading-text":e.loadingText,border:""}},[i("el-table-column",{attrs:{label:"#",prop:"id",width:"100px"}}),e._v(" "),i("el-table-column",{attrs:{label:"歌曲ID",prop:"music_id"}}),e._v(" "),i("el-table-column",{attrs:{label:"歌曲名称",prop:"music_name"}}),e._v(" "),i("el-table-column",{attrs:{label:"封面"},scopedSlots:e._u([{key:"default",fn:function(e){return[i("img",{attrs:{src:e.row.pic_url,alt:"",width:"50px"}})]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"时长(s)",prop:"music_time",sortable:""}}),e._v(" "),i("el-table-column",{attrs:{label:"歌手ID",prop:"singer_id"}}),e._v(" "),i("el-table-column",{attrs:{label:"歌手名",prop:"singer_name"}}),e._v(" "),i("el-table-column",{attrs:{label:"类型",prop:"search_type_name"}}),e._v(" "),i("el-table-column",{attrs:{label:"关键词",prop:"s"}}),e._v(" "),i("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button-group",[i("el-button",{attrs:{size:"mini",round:"",type:"primary",icon:"el-icon-service"},on:{click:function(i){return e.play(t.$index)}}},[e._v("播放")])],1)]}}])})],1),e._v(" "),i("div",{staticStyle:{margin:"25px 0"}},[i("el-pagination",{attrs:{"page-sizes":[10,15,30,50],"page-size":e.limit,layout:"total, sizes, prev, pager, next, jumper",total:e.total,"current-page":e.page},on:{"size-change":e.sizeChange,"current-change":e.currentChange}})],1),e._v(" "),i("el-dialog",{attrs:{visible:e.visible,title:e.title,modal:e.modal,center:"","show-close":e.modal},on:{"update:visible":function(t){e.visible=t}}},[i("el-form",[i("el-form-item",{staticStyle:{"text-align":"center"}},[i("img",{attrs:{src:e.picUrl,alt:"",width:"200px"}}),e._v(" "),i("audio",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{src:e.src,controls:"",autoplay:"",id:"music"}}),e._v(" "),e.page>=1?i("el-button",{attrs:{type:"primary",icon:"el-icon-caret-left"},on:{click:e.prevMusic}},[e._v("上一首")]):e._e(),e._v(" "),i("el-button",{attrs:{type:"primary",icon:"el-icon-service"},on:{click:e.pauseMusic}},[e._v("播放/暂停")]),e._v(" "),i("el-button",{attrs:{type:"primary",icon:"el-icon-service"},on:{click:e.referMusic}},[e._v("重新播放")]),e._v(" "),e.page<=e.pages?i("el-button",{attrs:{type:"primary",icon:"el-icon-caret-right"},on:{click:e.nextMusic}},[e._v("下一首")]):e._e()],1)],1)],1)],1)},staticRenderFns:[]};var oe=function(e){i("ABQI")},re=i("VU/8")(ne.a,le,!1,oe,"data-v-5ffbb1b4",null).exports,ce={name:"lists",data:function(){return{databaseLists:[],labelWidth:"80px",loading:!0,loadingText:"玩命加载中。。。",cgi:{}}},methods:{getDatabaseLists:function(){var e=this;R.a.DatabaseLists([]).then(function(t){200===t.data.code&&(e.databaseLists=t.data.item,e.loading=!1)})}},mounted:function(){this.$nextTick(function(){this.getDatabaseLists()})}},ue={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{"element-loading-text":e.loadingText}},[i("el-table",{attrs:{data:e.databaseLists,border:""}},[i("el-table-column",{attrs:{label:"表名",prop:"name"}}),e._v(" "),i("el-table-column",{attrs:{label:"版本号",prop:"version"}}),e._v(" "),i("el-table-column",{attrs:{label:"引擎",prop:"engine"}}),e._v(" "),i("el-table-column",{attrs:{label:"数据表大小",prop:"data_length"}}),e._v(" "),i("el-table-column",{attrs:{label:"自增量",prop:"auto_increment"}}),e._v(" "),i("el-table-column",{attrs:{label:"字符集编码",prop:"collation"}}),e._v(" "),i("el-table-column",{attrs:{label:"备注",prop:"comment"}}),e._v(" "),i("el-table-column",{attrs:{label:"创建时间",sortable:"",prop:"create_time"}}),e._v(" "),i("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{type:"primary",plain:"",size:"mini"},on:{click:function(i){return e.updateAuth(t.row)}}},[e._v("备 份")])]}}])})],1)],1)},staticRenderFns:[]};var de=i("VU/8")(ce,ue,!1,function(e){i("FDVj")},"data-v-33214134",null).exports;a.default.use(s.a);t.a=new s.a({routes:[{path:"/",name:"/",component:k,meta:{mode:"",title:"登录"}},{path:"/login",name:"Login",component:k,meta:{mode:"",title:"登录"}},{path:"/admin",name:"Index",component:m,meta:{mode:"",title:"首页"}},{path:"/admin",component:m,children:[{path:"index",name:"Welcome",component:_,meta:{mode:"",title:"欢迎页"}},{path:"auth/index",name:"AuthLists",component:U,meta:{mode:"auth_role",title:"权限列表"}},{path:"role/index",name:"RoleLists",component:B,meta:{mode:"role",title:"角色列表"}},{path:"user/index",name:"UserLists",component:Y,meta:{mode:"user",title:"管理员列表"}},{path:"log/index",name:"SystemLog",component:J,meta:{mode:"log",title:"日志列表"}},{path:"file/index",name:"SystemFile",component:Z,meta:{mode:"file",title:"文件列表"}},{path:"api/index",name:"ApiLists",component:se,meta:{mode:"api_lists",title:"接口详情"}},{path:"music/index",name:"MusicLists",component:re,meta:{mode:"music",title:"音乐列表"}},{path:"database/index",name:"databaseLists",component:de,meta:{mode:"",title:"数据表列表"}}]}]})},Yokd:function(e,t){},b9mD:function(e,t){},faUy:function(e,t){},ijDU:function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__api_api__=__webpack_require__("P9l9");__webpack_exports__.a={name:"lists",data:function(){return{loading:!0,loadingText:"玩命加载中...",musicModel:[],total:0,limit:15,page:1,s:"",form:"mysql",search_type:1,labelWidth:"80px",visible:!1,intVal:0,indexVal:0,modal:!1,src:"",title:"",picUrl:"",lyric:"",playing:!1,showBtn:!1,pages:0}},methods:{getMusicLists:function(e,t){var i=this,a={page:e,limit:t,search_type:this.search_type,s:this.s,form:this.form};__WEBPACK_IMPORTED_MODULE_0__api_api__.a.MusicLists(a).then(function(e){200===e.data.code&&(i.loading=!1,i.musicModel=e.data.item.data,i.total=e.data.item.total,i.pages=Math.ceil(i.total/i.limit))})},searchMusic:function(){this.getMusicLists(this.page,this.limit)},play:function play(index){var _this2=this;this.musicModel[index].token=this.token,this.musicModel[index].form=this.form;var params=this.musicModel[index];__WEBPACK_IMPORTED_MODULE_0__api_api__.a.MusicPlay(params).then(function(response){200===response.data.code&&(_this2.visible=!0,_this2.title=_this2.musicModel[index].music_name,_this2.src=response.data.item.music_url,_this2.picUrl=_this2.musicModel[index].pic_url,_this2.lyric=response.data.item.lyric,_this2.intVal=0,_this2.indexVal=eval(index+1),_this2.playing=!0)})},clock:function(){this.intVal++,this.musicModel[this.indexVal-1]&&this.intVal===parseInt(this.musicModel[this.indexVal-1].music_time)&&(this.indexVal===this.limit&&(this.indexVal=0,this.page++,this.getMusicLists(this.page,this.limit)),this.play(this.indexVal)),console.log("===当前页==="+this.page),console.log("===当前播放歌曲==="+this.indexVal),console.log("===当前歌曲播放时长==="+this.intVal),console.log("===当前歌曲播放状态==="+this.playing),!0!==this.visible&&(this.showBtn=!0)},showDialog:function(){this.visible=!0,this.showBtn=!1},pauseMusic:function(){var e=document.getElementById("music");e.paused?e.play():e.pause(),this.playing=!this.playing,this.intVal=Math.floor(e.currentTime),console.log(this.playing)},referMusic:function(){var e=document.getElementById("music");this.intVal=0,this.playing=!0,e.currentTime=0},prevMusic:function(){1===this.indexVal?(this.page=this.page>1?this.page-1:this.page,this.getMusicLists(this.page,this.limit),this.indexVal=this.limit-1,this.play(this.indexVal)):(this.indexVal=this.indexVal-2,this.play(this.indexVal))},nextMusic:function nextMusic(){this.indexVal===this.limit&&(this.page=this.page>this.pages?this.page:eval(this.page+1),this.getMusicLists(this.page,this.limit),this.indexVal=0),this.play(this.indexVal)},sizeChange:function(e){this.limit=e,this.getMusicLists(this.page,this.limit)},currentChange:function(e){this.page=e,this.getMusicLists(this.page,this.limit)}},created:function(){var e=this;setInterval(function(){!1!==e.playing&&e.clock()},1e3)},mounted:function(){this.$nextTick(function(){this.getMusicLists(this.page,this.limit)})}}},"k3x/":function(e,t){e.exports={FORBIDDEN:403,METHOD_ERROR:405,SUCCESS:200,ERROR:201,QQ:785973567}},"l/JR":function(e,t,i){"use strict";var a=i("//Fk"),s=i.n(a),n=i("mtWM"),l=i.n(n),o=i("IcnI"),r=i("YaEn"),c=i("8Ygm"),u=i.n(c),d=i("zL8q"),m=(i.n(d),l.a.create({timeout:5e3}));m.defaults.baseURL="http://www.laravel.com/api/",m.interceptors.request.use(function(e){return o.a.state.login.token&&(e.headers.Authorization=u.a.set_password(u.a.set_random(32),u.a.set_random(12))+"-"+o.a.state.login.token+"-"+u.a.set_password(u.a.set_random(32),u.a.set_random(12))),e},function(e){return s.a.reject(e)}),m.interceptors.response.use(function(e){return 200!==e.data.code&&d.Message.warning(e.data.msg),e},function(e){console.log(e.response),function(e,t){switch(e){case 401:case 403:r.a.push({path:"/login"}),localStorage.clear(),d.Message.warning(t.statusText);break;case 404:case 504:d.Message.warning(t.statusText);break;default:console.log(t)}}(e.response.status,e.response)}),t.a=m},myXI:function(e,t,i){"use strict";t.a={authLists:"/v1/auth/index",authSave:"/v1/auth/save",authUpdate:"/v1/auth/update",authDelete:"/v1/auth/delete",roleLists:"/v1/role/index",roleSave:"/v1/role/save",roleUpdate:"/v1/role/update",roleDelete:"/v1/role/delete",userLists:"/v1/user/index",userSave:"/v1/user/save",userUpdate:"/v1/user/update",userDelete:"/v1/user/delete",logLists:"/v1/log/index",logSave:"/v1/log/save",logDelete:"/v1/log/delete",apiLists:"/v1/api/index",apiSave:"/v1/api/save",apiUpdate:"/v1/api/update",categoryLists:"/v1/category/index",categorySave:"/v1/category/save",categoryUpdate:"/v1/category/update",categoryDelete:"/v1/category/delete",databaseLists:"/v1/database/index",databaseBackUp:"/v1/database/backup",musicLists:"/v1/music/index",musicPlay:"/v1/music/play",fileLists:"/v1/file/index",fileRead:"/v1/file/read",fileRename:"/v1/file/rename",fileChmod:"/v1/file/chmod",fileSave:"/v1/file/save",fileDelete:"/v1/file/delete",fileUpdate:"/v1/file/update",fileCompression:"/v1/file/compression",fileDecompression:"/v1/file/Decompression",localLists:"/v1/local/index",localTools:"/v1/tools/index",tree:"/v1/menu",login:"/v1/user/login",logout:"/v1/logout",checkToken:"/v1/checkLogin"}},n76T:function(e,t){},qAyX:function(e,t){},tvR6:function(e,t){},vRGJ:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.3db9776303dad5a431ff.js.map
