webpackJsonp([1],{0:function(e,t){},"3gTS":function(e,t){},"3r+s":function(e,t){},"4/hK":function(e,t){},"7CFH":function(e,t){},"7Otq":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyNpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDE0IDc5LjE1Njc5NywgMjAxNC8wOC8yMC0wOTo1MzowMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OTk2QkI4RkE3NjE2MTFFNUE4NEU4RkIxNjQ5MTYyRDgiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OTk2QkI4Rjk3NjE2MTFFNUE4NEU4RkIxNjQ5MTYyRDgiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChNYWNpbnRvc2gpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NjU2QTEyNzk3NjkyMTFFMzkxODk4RDkwQkY4Q0U0NzYiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NjU2QTEyN0E3NjkyMTFFMzkxODk4RDkwQkY4Q0U0NzYiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5WHowqAAAXNElEQVR42uxda4xd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"},"8Ygm":function(module,exports,__webpack_require__){var md5=__webpack_require__("NC6I"),str_count=function(e,t){var i=void 0,s=[];for(i=e.indexOf(t);i>-1;)s.push(i),i=e.indexOf(t,i+1);return s.length},t=function t(){var times=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],timestamp=arguments[1],date=new Date(timestamp),Y=date.getFullYear(),M=date.getMonth()+1<10?"0"+eval(date.getMonth()+1):date.getMonth()+1,D=date.getDate()<10?"0"+date.getDate():date.getDate(),h=date.getHours()<10?"0"+date.getHours():date.getHours(),m=date.getMinutes()<10?"0"+date.getMinutes():date.getMinutes(),s=date.getSeconds()<10?"0"+date.getSeconds():date.getSeconds();return times?Y+"-"+M+"-"+D+" "+h+":"+m+":"+s:Y+"-"+M+"-"+D+".log"},get_timestamp=function(){return Math.round((new Date).getTime()/1e3)},set_time=function(e){return t(!0,e)},repeat_str=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"　　",s=str_count(e,t);return Array(s).join(i)},set_tree=function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=[];for(var a in t)t[a].pid===i&&(t[a].__child=e(t,t[a].id),s.push(t[a]));return s},set_random=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t=void 0;switch(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all"){case"all":t="MNBVCXZASDFGHJKLPOIUYTREWQ0123456789qwertyuioplkjhgfdsazxcvbnm";break;case"number":t="0123456789";break;case"l":t="QWERTYUIOPLKJHGFDSAZXCVBNM";break;case"s":t="zxcvbnmlkjhgfdsaqwertyuiop"}for(var i="",s=0;s<e;s++)i+=str_shuffle(t).substring(0,1);return i},str_shuffle=function(e){for(var t="",i=e.length;i>0;i--){t+=e[Math.random()*(i+1)|0]}return t},set_password=function(e,t){return md5(md5(e)+md5(t))},func={str_count:str_count,set_time:set_time,repeat_str:repeat_str,set_tree:set_tree,get_timestamp:get_timestamp,set_random:set_random,str_shuffle:str_shuffle,set_password:set_password};module.exports=func},CqVR:function(e,t,i){e.exports=i.p+"static/img/u0.ba54a8c.jpg"},"F5+t":function(e,t){},"H5i+":function(e,t){},J1cN:function(e,t){},LcBY:function(e,t){},Lgoy:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("pFYg"),a=i.n(s),n=i("8U58");i("4/hK");var o={props:{value:{type:String,default:""},options:{type:Object,default:function(){return{mode:"text/javascript",lineNumbers:!0,lineWrapping:!0}}}},data:function(){return{skipNextChangeEvent:!1}},ready:function(){var e=this;this.editor=n.fromTextArea(this.$el.querySelector("textarea"),this.options),this.editor.setValue(this.value),this.editor.on("change",function(t){e.skipNextChangeEvent?e.skipNextChangeEvent=!1:(e.value=t.getValue(),e.$emit&&e.$emit("change",t.getValue()))})},mounted:function(){var e=this;this.editor=n.fromTextArea(this.$el.querySelector("textarea"),this.options),this.editor.setValue(this.value),this.editor.on("change",function(t){e.skipNextChangeEvent?e.skipNextChangeEvent=!1:e.$emit&&(e.$emit("change",t.getValue()),e.$emit("input",t.getValue()))})},watch:{value:function(e,t){if(e!==this.editor.getValue()){this.skipNextChangeEvent=!0;var i=this.editor.getScrollInfo();this.editor.setValue(e),this.editor.scrollTo(i.left,i.top)}},options:function(e,t){if("object"===(void 0===e?"undefined":a()(e)))for(var i in e)e.hasOwnProperty(i)&&this.editor.setOption(i,e[i])}},beforeDestroy:function(){this.editor&&this.editor.toTextArea()}},l={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"vue-codemirror-wrap"},[t("textarea")])}]};var r=i("VU/8")(o,l,!1,function(e){i("NAmH")},null,null);t.default=r.exports},NAmH:function(e,t){},NHnr:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("mvHQ"),a=i.n(s),n=i("7+uW"),o={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var l=i("VU/8")({name:"App"},o,!1,function(e){i("tPKH")},null,null).exports,r=i("/ocq"),c=i("Dd8w"),u=i.n(c),d=i("NYxO"),m=i("woOf"),h=i.n(m),p={authLists:"/v1/auth/index",authSave:"/v1/auth/save",authUpdate:"/v1/auth/update",authDelete:"/v1/auth/delete",roleLists:"/v1/role/index",roleSave:"/v1/role/save",roleUpdate:"/v1/role/update",roleDelete:"/v1/role/delete",userLists:"/v1/user/index",userSave:"/v1/user/save",userUpdate:"/v1/user/update",userDelete:"/v1/user/delete",logLists:"/v1/log/index",logSave:"/v1/log/save",logDelete:"/v1/log/delete",configLists:"/v1/config/index",configSave:"/v1/config/save",configUpdate:"/v1/config/update",configValUpdate:"/v1/config/updateVal",configDelete:"/v1/config/delete",apiLists:"/v1/api/index",apiSave:"/v1/api/save",apiUpdate:"/v1/api/update",categoryLists:"/v1/category/index",categorySave:"/v1/category/save",categoryUpdate:"/v1/category/update",categoryDelete:"/v1/category/delete",databaseLists:"/v1/database/index",databaseBackUp:"/v1/database/backup",databaseRepair:"/v1/database/repair",databaseOptimize:"/v1/database/optimize",databaseUpdateComment:"/v1/database/comment",oauthLists:"/v1/oauth/index",oauthUpdate:"/v1/oauth/update",oauthDelete:"/v1/oauth/delete",sendMail:"/v1/oauth/sendMail",verifyCode:"/v1/oauth/verifyCode",reqRuleLists:"/v1/req-rule/index",reqRuleSave:"/v1/req-rule/save",reqRuleUpdate:"/v1/req-rule/update",reqRuleDelete:"/v1/req-rule/delete",getAuthByToken:"/v1/req-rule/getAuth",fileLists:"/v1/file/index",fileRead:"/v1/file/read",fileRename:"/v1/file/rename",fileChmod:"/v1/file/chmod",fileSave:"/v1/file/save",fileDelete:"/v1/file/delete",fileUpdate:"/v1/file/update",fileUpload:"v1/file/upload",fileDownload:"v1/file/download",fileCompression:"/v1/file/zip",fileDecompression:"/v1/file/unzip",imagePreview:"/v1/image/preview",areaLists:"/v1/area/index",areaWeather:"/v1/area/weather",pushList:"/v1/push/index",pushSave:"/v1/push/save",pushUpdate:"/v1/push/update",pushRead:"/v1/push/see",pushDelete:"v1/push/delete",tree:"/v1/menu",login:"/v1/login",logout:"/v1/logout",checkToken:"/v1/checkLogin",getConfig:"/v1/config"},f=i("//Fk"),g=i.n(f),v=i("mtWM"),b=i.n(v),y={state:{tabs:[{label:"欢迎页",name:"/admin/index"}],currTabs:{label:null,name:null},activeAuthName:"/admin/index",contentVisible:!0},getters:{tabs:function(e){return e.tabs},currTabs:function(e){return e.currTabs},activeAuthName:function(e){return e.activeAuthName},contentVisible:function(e){return e.contentVisible}},mutations:{setTabs:function(e,t){e.tabs.push(t)},setCurrTabs:function(e,t){e.currTabs=t},setActiveAuthName:function(e,t){e.activeAuthName=t,e.contentVisible=!0},delTabs:function(e,t){e.tabs=t}},actions:{addTabs:function(e,t){var i=e.state,s=e.commit;-1===a()(i.tabs).indexOf(a()(t))&&s("setTabs",t)},addCurrTabs:function(e,t){e.state;var i=e.commit;i("setCurrTabs",t),i("setActiveAuthName",t.label)},deleteTabs:function(e,t){var i=e.state,s=e.commit,a=0;for(var n in i.tabs)t===i.tabs[n].name&&(a=n);i.tabs.splice(a,1),s("delTabs",i.tabs)}}},_={state:{fileTabs:[],currFileObj:{name:null,content:null,path:null,label:null}},getters:{fileTabs:function(e){return e.fileTabs},currFileObj:function(e){return e.currFileObj}},mutations:{setFileTabs:function(e,t){e.fileTabs.push(t)},delFileTabs:function(e,t){e.fileTabs=t},setCurrFileObj:function(e,t){e.currFileObj=t}},actions:{addFileTabs:function(e,t){var i=e.state,s=e.commit;-1===a()(i.fileTabs).indexOf(a()(t))&&s("setFileTabs",t)},deleteFileTabs:function(e,t){var i=e.state,s=e.commit,a=0;for(var n in i.fileTabs)t===i.fileTabs[n].name&&(a=n);i.fileTabs.splice(a,1),s("delFileTabs",i.fileTabs)},addCurrFileObj:function(e,t){e.state;(0,e.commit)("setCurrFileObj",t)}}},k={state:{apiVisible:!1,interfaceName:"",apiModel:{}},getters:{apiVisible:function(e){return e.apiVisible},interfaceName:function(e){return e.interfaceName},apiModel:function(e){return e.apiModel}},mutations:{setApiVisible:function(e,t){e.apiVisible=t},setInterfaceName:function(e,t){e.interfaceName=t},setApiModel:function(e,t){e.apiModel=t}},actions:{addApiVisible:function(e,t){e.state;var i=e.commit;i("setApiVisible",t.apiVisible),i("setInterfaceName",t.interfaceName)},addApiModel:function(e,t){e.state,(0,e.commit)("setApiModel",t)}}},x=i("zL8q"),w=i.n(x),C=i("k3x/"),M=i.n(C),S=i("8Ygm"),L=i.n(S),R=i("DmT9"),T=i.n(R),V={state:{token:localStorage.getItem("token"),socketServer:"",avatarUrl:"",websocketServer:"",username:"",auth_url:"",menuLists:[],oauthConfig:[]},getters:{token:function(e){return e.token},username:function(e){return e.username},auth_url:function(e){return e.auth_url},menuLists:function(e){return e.menuLists},oauthConfig:function(e){return e.oauthConfig},socketServer:function(e){return e.socketServer},avatarUrl:function(e){return e.avatarUrl},websocketServer:function(e){return e.websocketServer}},mutations:{setToken:function(e,t){e.token=t,localStorage.setItem("token",t)},setUserName:function(e,t){e.username=t},setMenuLists:function(e,t){e.menuLists=t},setAuthUrl:function(e,t){e.auth_url=t},setOauthConfig:function(e,t){e.oauthConfig=t},setSocketServer:function(e,t){e.socketServer=T()(t)},setAvatarUrl:function(e,t){e.avatarUrl=t},setWebsocketServer:function(e,t){e.websocketServer=new WebSocket(t)}},actions:{loginSystem:function(e,t){e.state;var i=e.commit;D.LoginSys(t).then(function(e){e&&e.data.code===M.a.SUCCESS&&(i("setToken",e.data.item.token),i("setUserName",e.data.item.username),Je.push({path:"/admin/index"}))})},getOauthConfig:function(e,t){e.state;var i=e.commit;D.GetConfig({name:t}).then(function(e){e&&e.data.code===M.a.SUCCESS&&i("setOauthConfig",e.data.item)})},getAuthMenu:function(e,t){var i=e.state,s=e.commit;i.menuLists.length>0?s("setMenuLists",i.menuLists):D.AuthTree({username:t}).then(function(e){e&&e.data.code===M.a.SUCCESS&&s("setMenuLists",L.a.set_tree(e.data.item))})},logoutSystem:function(e,t){e.state;var i=e.commit;D.LogoutSys({token:t}).then(function(e){e&&e.data.code===M.a.SUCCESS&&(i("setToken",""),i("setUserName",""),Je.push({path:"/login"}))})},saveSystemLog:function(e,t){var i=e.state;e.commit;t.username=i.username,D.LogSave(t).then(function(e){e&&e.data.code===M.a.SUCCESS&&x.Message.success(e.data.msg)})},checkAuth:function(e,t){var i=e.state;e.commit;if(t.url=t.url.replace("v1","admin"),-1===i.auth_url.indexOf(t.url)&&"/admin/index"!==t.url&&"admin"!==i.username){var s="你没有访问权限，请联系管理员【"+M.a.QQ+"】检验数据的正确性！！";x.MessageBox.alert(s).then(function(){var e={username:i.username,href:[t.url]};D.ReqRuleSave(e).then(function(e){if(e&&e.data.code===M.a.SUCCESS){var n={href:t.url,msg:a()({info:s,result:e.data.result}),token:i.token};D.LogSave(n).then(function(e){e&&e.data.code===M.a.SUCCESS&&(x.Message.success(e.data.msg),location.href="tencent://message/?uin="+M.a.QQ+"&Site=后台权限认证&Menu=yes")})}})})}}}};n.default.use(d.a);var O=new d.a.Store({modules:{tabs:y,fileTabs:_,api:k,login:V}}),U=b.a.create({timeout:1e4});U.defaults.baseURL="https://www.fanglonger.com/api/",U.interceptors.request.use(function(e){return O.state.login.token&&(e.headers.Authorization=L.a.set_password(L.a.set_random(32),L.a.set_random(12))+"-"+O.state.login.token+"-"+L.a.set_password(L.a.set_random(32),L.a.set_random(12))),e},function(e){return g.a.reject(e)}),U.interceptors.response.use(function(e){return 200!==e.data.code&&x.Message.warning(e.data.msg),e},function(e){!function(e,t){switch(e){case 401:O.commit("setToken",""),Je.push({path:"/login"}),x.Message.warning(t);break;case 403:Je.push({path:"/admin/index"}),x.Message.warning(t);break;case 404:Je.push({path:"/login"}),x.Message.warning(t);break;default:x.Message.warning("Internal Server Error")}}(e.response.data.code,e.response.data.msg)});var N=U,F=i("mw3O"),A=i.n(F),z={token:localStorage.getItem("token")},D={LoginSys:function(e){return N.post(p.login,A.a.stringify(h()(z,e)))},LogoutSys:function(e){return N.post(p.logout,A.a.stringify(h()(z,e)))},LogSave:function(e){return N.post(p.logSave,A.a.stringify(h()(z,e)))},CheckToken:function(e){return N.post(p.checkToken,A.a.stringify(h()(z,e)))},AuthLists:function(e){return N.post(p.authLists,A.a.stringify(h()(z,e)))},RoleLists:function(e){return N.post(p.roleLists,A.a.stringify(h()(z,e)))},AuthTree:function(e){return N.post(p.tree,A.a.stringify(h()(z,e)))},UserLists:function(e){return N.post(p.userLists,A.a.stringify(h()(z,e)))},LogLists:function(e){return N.post(p.logLists,A.a.stringify(h()(z,e)))},ApiLists:function(e){return N.post(p.apiLists,A.a.stringify(h()(z,e)))},CategoryLists:function(e){return N.post(p.categoryLists,A.a.stringify(h()(z,e)))},FileLists:function(e){return N.post(p.fileLists,A.a.stringify(h()(z,e)))},FileRead:function(e){return N.post(p.fileRead,A.a.stringify(h()(z,e)))},FileRename:function(e){return N.post(p.fileRename,A.a.stringify(h()(z,e)))},FileSave:function(e){return N.post(p.fileSave,A.a.stringify(h()(z,e)))},FileDelete:function(e){return N.post(p.fileDelete,A.a.stringify(h()(z,e)))},DatabaseLists:function(e){return N.post(p.databaseLists,A.a.stringify(h()(z,e)))},DatabaseBackup:function(e){return N.post(p.databaseBackUp,A.a.stringify(h()(z,e)))},DatabaseRepair:function(e){return N.post(p.databaseRepair,A.a.stringify(h()(z,e)))},DatabaseOptimize:function(e){return N.post(p.databaseOptimize,A.a.stringify(h()(z,e)))},DatabaseUpdateComment:function(e){return N.post(p.databaseUpdateComment,A.a.stringify(h()(z,e)))},CategoryDelete:function(e){return N.post(p.categoryDelete,A.a.stringify(h()(z,e)))},Compression:function(e){return N.post(p.fileCompression,A.a.stringify(h()(z,e)))},Decompression:function(e){return N.post(p.fileDecompression,A.a.stringify(h()(z,e)))},ImagePreview:function(e){return N.post(p.imagePreview,A.a.stringify(h()(z,e)))},ConfigLists:function(e){return N.post(p.configLists,A.a.stringify(h()(z,e)))},ConfigValUpdate:function(e){return N.post(p.configValUpdate,A.a.stringify(h()(z,e)))},GetConfig:function(e){return N.post(p.getConfig,A.a.stringify(h()(z,e)))},OauthLists:function(e){return N.post(p.oauthLists,A.a.stringify(h()(z,e)))},ReqRuleLists:function(e){return N.post(p.reqRuleLists,A.a.stringify(h()(z,e)))},ReqRuleSave:function(e){return N.post(p.reqRuleSave,A.a.stringify(h()(z,e)))},GetAuthByToken:function(e){return N.post(p.getAuthByToken,A.a.stringify(h()(z,e)))},SendEmail:function(e){return N.post(p.sendMail,A.a.stringify(h()(z,e)))},VerifyCode:function(e){return N.post(p.verifyCode,A.a.stringify(h()(z,e)))},AreaLists:function(e){return N.post(p.areaLists,A.a.stringify(h()(z,e)))},AreaWeather:function(e){return N.post(p.areaWeather,A.a.stringify(h()(z,e)))},PushList:function(e){return N.post(p.pushList,A.a.stringify(h()(z,e)))},PushRead:function(e){return N.post(p.pushRead,A.a.stringify(h()(z,e)))}},E={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"ly-emotion"},[this._t("default")],2)},staticRenderFns:[]};var I=i("VU/8")({name:"Emotion",mounted:function(){var e=this,t=this.$el.innerHTML,i='<img src="https://res.wx.qq.com/mpres/htmledition/images/icon/emotion/'+["微笑","撇嘴","色","发呆","得意","流泪","害羞","闭嘴","睡","大哭","尴尬","发怒","调皮","呲牙","惊讶","难过","酷","冷汗","抓狂","吐","偷笑","可爱","白眼","傲慢","饥饿","困","惊恐","流汗","憨笑","大兵","奋斗","咒骂","疑问","嘘","晕","折磨","衰","骷髅","敲打","再见","擦汗","抠鼻","鼓掌","糗大了","坏笑","左哼哼","右哼哼","哈欠","鄙视","委屈","快哭了","阴险","亲亲","吓","可怜","菜刀","西瓜","啤酒","篮球","乒乓","咖啡","饭","猪头","玫瑰","凋谢","示爱","爱心","心碎","蛋糕","闪电","炸弹","刀","足球","瓢虫","便便","月亮","太阳","礼物","拥抱","强","弱","握手","胜利","抱拳","勾引","拳头","差劲","爱你","NO","OK","爱情","飞吻","跳跳","发抖","怄火","转圈","磕头","回头","跳绳","挥手","激动","街舞","献吻","左太极","右太极"].indexOf(t)+'.gif" alt="['+t+']">';this.$nextTick(function(){e.$el.innerHTML=i})}},E,!1,function(e){i("H5i+")},"data-v-6084aee9",null).exports,q={props:{height:{type:Number,default:200}},data:function(){return{list:[["微笑","撇嘴","色","发呆","得意","流泪","害羞","闭嘴"],["睡","大哭","尴尬","发怒","调皮","呲牙","惊讶","难过"],["酷","冷汗","抓狂","吐","偷笑","可爱","白眼","傲慢"],["饥饿","困","惊恐","流汗","憨笑","大兵","奋斗","咒骂"],["疑问","嘘","晕","折磨","衰","骷髅","敲打","再见"],["擦汗","抠鼻","鼓掌","糗大了","坏笑","左哼哼","右哼哼","哈欠"],["鄙视","委屈","快哭了","阴险","亲亲","吓","可怜","菜刀"],["西瓜","啤酒","篮球","乒乓","咖啡","饭","猪头","玫瑰"],["凋谢","示爱","爱心","心碎","蛋糕","闪电","炸弹","刀"],["足球","瓢虫","便便","月亮","太阳","礼物","拥抱","强"],["弱","握手","胜利","抱拳","勾引","拳头","差劲","爱你"],["NO","OK","爱情","飞吻","跳跳","发抖","怄火","转圈"],["磕头","回头","跳绳","挥手","激动","街舞","左太极","右太极"]]}},methods:{clickHandler:function(e){var t="#"+e+";";this.$emit("emotion",t)}},components:{Emotion:I}},W={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticStyle:{position:"absolute",bottom:"207px",width:"464px",background:"#fff"}},[i("div",{staticClass:"emotion-box",style:{height:e.height+"px"}},e._l(e.list,function(t,s){return i("div",{key:s,staticClass:"emotion-box-line"},e._l(t,function(t,s){return i("emotion",{key:s,staticClass:"emotion-item",nativeOn:{click:function(i){return e.clickHandler(t)}}},[e._v(e._s(t))])}),1)}),0)])},staticRenderFns:[]};var B={name:"baseModule",data:function(){return{isCollapse:!1,activeName:null,activeIndex:"1",menuClass:"el-icon-s-unfold",asideWidth:"200px",asideHeight:{"min-height":window.innerHeight-60+"px"},headerStyle:{"margin-left":"200px"},noticeLength:0,notice:[],noticeVisible:!1,title:"站内通知",center:!0,online:0,cgi:{uploadUrl:"https://www.fanglonger.com/api/"+p.fileUpload},bgStyle:{background:"url("+i("CqVR")+")","background-repeat":"no-repeat"},chatTitle:"ChatRoom",fileData:{},headers:{},chatVisible:!1,client_list:{},inputMsg:"",content:"",showEmotion:!1,closeModel:!1,messageLists:[],msg_type:"text",to_client_name:"",to_client_id:"all",avatar_url:"",chatMsgClass:"el-icon-chat-dot-round",msg_dot:!1,emotionLists:["微笑","撇嘴","色","发呆","得意","流泪","害羞","闭嘴","睡","大哭","尴尬","发怒","调皮","呲牙","惊讶","难过","酷","冷汗","抓狂","吐","偷笑","可爱","白眼","傲慢","饥饿","困","惊恐","流汗","憨笑","大兵","奋斗","咒骂","疑问","嘘","晕","折磨","衰","骷髅","敲打","再见","擦汗","抠鼻","鼓掌","糗大了","坏笑","左哼哼","右哼哼","哈欠","鄙视","委屈","快哭了","阴险","亲亲","吓","可怜","菜刀","西瓜","啤酒","篮球","乒乓","咖啡","饭","猪头","玫瑰","凋谢","示爱","爱心","心碎","蛋糕","闪电","炸弹","刀","足球","瓢虫","便便","月亮","太阳","礼物","拥抱","强","弱","握手","胜利","抱拳","勾引","拳头","差劲","爱你","NO","OK","爱情","飞吻","跳跳","发抖","怄火","转圈","磕头","回头","跳绳","挥手","激动","街舞","献吻","左太极","右太极"]}},components:{emotion:i("VU/8")(q,W,!1,function(e){i("am4D")},"data-v-1ae92c86",null).exports},computed:u()({},Object(d.c)(["tabs","token","username","activeAuthName","contentVisible","menuLists","socketServer","avatarUrl","websocketServer"])),methods:u()({},Object(d.b)(["addTabs","deleteTabs","addCurrTabs","logoutSystem","getAuthMenu"]),{setAttr:function(e){var t={label:e.name,name:e.href};this.activeName=t.name,this.addCurrTabs(t),this.addTabs(t),this.asideHeight={"min-height":window.innerHeight-60+"px"}},getMsgDialog:function(){this.chatVisible=!this.chatVisible,this.chatVisible?(this.chatMsgClass="el-icon-close",this.msg_dot=!1):this.chatMsgClass="el-icon-chat-dot-round"},goto:function(e){this.$router.push({path:e.name})},remove:function(e){var t=this;this.tabs.forEach(function(i,s){if(i.name===e){var a=t.tabs[s+1]||t.tabs[s-1];a&&(t.deleteTabs(e),t.activeName=a.name,t.$router.push({path:t.activeName}),t.addCurrTabs(a))}})},handleSelect:function(e,t){switch(e){case"2-3":this.noticeVisible=!0;break;case"2-4":this.logoutSystem(this.token)}},readNotice:function(e){var t=this,i={};i.see=parseInt(e.see)+1,i.id=e.id,D.PushRead(i).then(function(e){e&&200===e.data.code&&t.$message({type:"success",message:e.data.msg})})},hideMenu:function(){this.isCollapse=!this.isCollapse,this.isCollapse?(this.menuClass="el-icon-s-fold",this.asideWidth="65px",this.headerStyle={"margin-left":"65px"}):(this.menuClass="el-icon-s-unfold",this.asideWidth="200px",this.headerStyle={"margin-left":"200px"})},connect:function(e){var t=this;e.onopen=function(){var i='{"type":"login","client_name":"'+t.username+'","room_id":1,"client_img":"'+t.avatarUrl+'","uid":"'+t.md5(t.username)+'"}';e.send(i)},e.onmessage=function(i){var s=JSON.parse(i.data);switch(s.type){case"ping":e.send('{"type":"pong"}');break;case"login":t.client_list={},s.client_list?t.client_list=s.client_list:t.client_list[s.client_id]=s.client_name;break;case"say":t.say(s);break;case"msgLists":for(var a in s.message)s.message[a].content=t.setContent(s.message[a].content,s.message[a].msg_type);t.messageLists=s.message}},e.onclose=function(){console.log("连接关闭，定时重连"),t.connect(e)},e.onerror=function(){console.log("出现错误")}},sendUser:function(e,t){this.to_client_name=e.client_name,this.to_client_id=t,this.chatTitle=e.client_name,this.avatar_url=this.avatarUrl;this.websocketServer.send('{"type":"msgLists","from_client_name":"'+this.username+'","to_client_name":"'+this.to_client_name+'"}')},getEmotion:function(e){var t=e.replace(/\#|\;/gi,"");this.msg_type="icon",this.inputMsg+=",["+t+"],"},setContent:function(e,t){var i="";switch(t){case"icon":var s=e.split(",");for(var a in s){if(""!==s[a]&&s[a].indexOf("[")>=0&&s[a].indexOf("]")>=0)i+='<img src="https://res.wx.qq.com/mpres/htmledition/images/icon/emotion/'+this.emotionLists.indexOf(s[a].replace("[","").replace("]",""))+'.gif" alt="'+s[a]+'">';else i+=s[a]}break;case"text":i=e;break;case"img":i='<img src="'+e+'" width="100px" height="100px" alt=""/>'}return i},uploadSuccess:function(e){if(e&&200===e.code)return this.msg_type="img",void this.websocketServer.send('{"type":"say","to_client_id":"'+this.to_client_id+'","to_client_name":"'+this.to_client_name+'","msg_type":"'+this.msg_type+'","content":"'+e.item.src+'","avatar_url":"'+this.avatar_url+'"}');this.$message({type:"warning",message:e.msg})},beforeUpload:function(e){var t=e.type;return["image/jpg","image/gif","image/png","image/jpeg"].includes(t)?!(e.size>2097152)||(this.$message({type:"warning",message:"upload image size error"}),!1):(this.$message({type:"warning",message:"upload image format error"}),!1)},say:function(e){var t=this.setContent(e.content,e.msg_type),i={from_client_name:e.from_client_name,time:e.time,content:t,msg_type:e.msg_type,avatar_url:e.avatar_url};this.messageLists.push(i),this.username!==e.from_client_name&&("all"!==e.to_client_id&&(this.chatTitle=e.from_client_name,this.to_client_id=e.from_client_id),this.to_client_id="all",this.msg_dot=!0),this.chatVisible&&this.username===e.from_client_name&&("all"!==e.to_client_id&&(this.chatTitle=e.to_client_name,this.to_client_id=e.to_client_id),this.to_client_id="all",this.scrollToBottom())},sendMsg:function(){this.showEmotion=!1,this.websocketServer.send('{"type":"say","to_client_id":"'+this.to_client_id+'","to_client_name":"'+this.to_client_name+'","msg_type":"'+this.msg_type+'","content":"'+this.inputMsg+'","avatar_url":"'+this.avatar_url+'"}'),this.inputMsg=""},webPush:function(){var e=this;this.socketServer.on("connect",function(){e.socketServer.emit("login",e.md5(e.username))}),this.socketServer.on("new_msg",function(t){e.$notify({title:"系统通知",message:t,position:"top-right",type:"success",duration:0})}),this.socketServer.on("notice",function(t){e.noticeLength=t.length,e.notice=t}),this.socketServer.on("online",function(t){e.online=t})},scrollToBottom:function(){this.$nextTick(function(){var e=document.getElementById("msg");e.scrollTop=e.scrollHeight})}}),created:function(){this.activeName=this.activeAuthName,this.asideHeight={"min-height":window.innerHeight-76+"px"},this.avatar_url=this.avatarUrl,this.fileData.token=this.token,this.fileData.rand=!0,this.headers.Authorization=L.a.set_password(L.a.set_random(32),L.a.set_random(12))+"-"+this.token+"-"+L.a.set_password(L.a.set_random(32),L.a.set_random(12)),this.connect(this.websocketServer)},mounted:function(){this.$nextTick(function(){this.getAuthMenu(this.username),this.webPush()})}},j={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-container",[i("el-header",[i("el-menu",{style:e.headerStyle,attrs:{"default-active":e.activeIndex,mode:"horizontal","background-color":"#393d49","text-color":"#fff","active-text-color":"#ffd04b"},on:{select:e.handleSelect}},[i("el-menu-item",{attrs:{index:"1"},on:{click:e.hideMenu}},[i("i",{class:e.menuClass})]),e._v(" "),i("el-submenu",{staticStyle:{float:"right"},attrs:{index:"2"}},[e.noticeLength?i("template",{slot:"title"},[i("el-badge",{attrs:{"is-dot":"",type:"success"}},[e._v(e._s(e.username))])],1):i("template",{slot:"title"},[e._v(e._s(e.username))]),e._v(" "),i("el-menu-item",{attrs:{index:"2-1"}},[e._v("账号资料")]),e._v(" "),i("el-menu-item",{attrs:{index:"2-2"}},[e._v("基础设置")]),e._v(" "),e.noticeLength?i("el-menu-item",{attrs:{index:"2-3"}},[i("el-badge",{attrs:{max:10,value:e.noticeLength,type:"success"}},[e._v("站内通知")])],1):i("el-menu-item",{attrs:{index:"2-3"}},[e._v("站内通知")]),e._v(" "),i("el-menu-item",{attrs:{index:"2-4"}},[e._v("退出系统")])],2)],1)],1),e._v(" "),i("el-container",[i("el-aside",{style:e.asideHeight,attrs:{width:e.asideWidth}},[i("el-menu",{attrs:{"unique-opened":"","background-color":"#393d49","text-color":"#fff","active-text-color":"#ffd04b",collapse:e.isCollapse}},e._l(e.menuLists,function(t,s){return i("el-submenu",{key:s,attrs:{index:t.id.toString()}},[i("template",{slot:"title"},[2!==t.id?i("i",{staticClass:"el-icon-menu"}):e._e(),e._v(" "),i("span",{domProps:{innerHTML:e._s(t.name)}})]),e._v(" "),e._l(t.__child,function(t,s){return i("el-menu-item",{key:s,attrs:{index:t.id.toString()},on:{click:function(i){return e.setAttr(t)}}},[i("router-link",{staticStyle:{color:"#fff"},attrs:{to:t.href},domProps:{innerHTML:e._s(t.name)}})],1)})],2)}),1)],1),e._v(" "),i("el-container",[i("el-main",[i("el-tabs",{directives:[{name:"show",rawName:"v-show",value:e.contentVisible,expression:"contentVisible"}],staticStyle:{"text-align":"left!important"},attrs:{type:"border-card",closable:""},on:{"tab-click":e.goto,"tab-remove":e.remove},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[e._l(e.tabs,function(e){return i("el-tab-pane",{key:e.name,attrs:{label:e.label,name:e.name}})}),e._v(" "),i("el-card",{attrs:{shadow:"always"}},[i("router-view")],1)],2)],1),e._v(" "),i("el-footer",[e._v("\n                ©fl140125@gmail.com 在线人数："+e._s(e.online)+"\n                "),i("i",{staticClass:"msg-icon",on:{click:e.getMsgDialog}},[i("i",{class:e.chatMsgClass,staticStyle:{"margin-top":"12px"}},[e.msg_dot?i("el-badge",{staticClass:"msg-count",attrs:{"is-dot":"",type:"danger"}}):e._e()],1)])]),e._v(" "),i("el-dialog",{attrs:{title:e.chatTitle,center:e.center,"show-close":e.closeModel,"close-on-click-modal":e.closeModel,visible:e.chatVisible},on:{"update:visible":function(t){e.chatVisible=t}}},[i("el-row",{attrs:{gutter:24}},[i("el-col",{staticClass:"user-list",attrs:{span:6}},[i("el-menu",{attrs:{"background-color":"#545c64","text-color":"#fff","active-text-color":"#ffd04b"}},e._l(e.client_list,function(t,s){return i("el-menu-item",{key:s,attrs:{index:s},on:{click:function(i){return e.sendUser(t,s)}}},[i("el-avatar",{attrs:{size:50,src:t.client_img}}),e._v(" "),i("span",{staticStyle:{"margin-left":"20px"},attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.client_name))])],1)}),1)],1),e._v(" "),i("el-col",{staticClass:"contact-list",attrs:{offset:1,span:17}},[i("div",{attrs:{id:"msg"}},[i("div",{staticStyle:{margin:"20px"}},e._l(e.messageLists,function(t,s){return i("div",{key:s},[i("div",{staticClass:"msg-img"},[i("el-avatar",{attrs:{size:50,src:t.avatar_url}}),e._v(" "),i("span",[e._v(e._s(t.from_client_name)+"   "+e._s(t.time))])],1),e._v(" "),i("div",{staticClass:"msg-list",domProps:{innerHTML:e._s(t.content)}})])}),0)]),e._v(" "),i("div",{staticClass:"input-msg"},[i("emotion",{directives:[{name:"show",rawName:"v-show",value:e.showEmotion,expression:"showEmotion"}],attrs:{height:200},on:{emotion:e.getEmotion}}),e._v(" "),i("div",{staticStyle:{float:"left"}},[i("i",{staticClass:"el-icon-picture-outline-round",staticStyle:{"font-size":"25px","margin-bottom":"10px",color:"#000"},on:{click:function(t){e.showEmotion=!e.showEmotion}}}),e._v(" "),i("el-upload",{staticStyle:{float:"left"},attrs:{action:e.cgi.uploadUrl,data:e.fileData,headers:e.headers,"show-file-list":!1,"on-success":e.uploadSuccess,"before-upload":e.beforeUpload}},[i("i",{staticClass:"el-icon-picture",staticStyle:{"font-size":"25px",margin:"0 10px",color:"#000"}})])],1),e._v(" "),i("el-input",{attrs:{type:"textarea",resize:"none",rows:"4"},on:{focus:function(t){e.showEmotion=!1}},model:{value:e.inputMsg,callback:function(t){e.inputMsg=t},expression:"inputMsg"}})],1),e._v(" "),i("div",{staticClass:"input-button",staticStyle:{"text-align":"right"}},[i("el-button",{attrs:{type:"primary",plain:"",size:"medium"},on:{click:e.sendMsg}},[e._v("发 送")])],1)])],1)],1),e._v(" "),i("el-dialog",{attrs:{visible:e.noticeVisible,title:e.title,center:e.center},on:{"update:visible":function(t){e.noticeVisible=t}}},e._l(e.notice,function(t,s){return i("el-alert",{key:s,staticStyle:{"margin-bottom":"20px"},attrs:{type:"success",description:t.info,"show-icon":"","close-text":"Close"},on:{close:function(i){return e.readNotice(t)}}})}),1)],1)],1)],1)},staticRenderFns:[]};var $={name:"index",data:function(){return{}},components:{baseModule:i("VU/8")(B,j,!1,function(e){i("wCaA")},"data-v-703996d6",null).exports}},P={render:function(){var e=this.$createElement,t=this._self._c||e;return t("el-row",{attrs:{gutter:24}},[t("baseModule")],1)},staticRenderFns:[]},Z=i("VU/8")($,P,!1,null,null,null).exports,G=i("XLwt"),Q=i.n(G),Y={name:"index",data:function(){return{access_token:"",charts:{},xAxisData:[],seriesData:{log:[],notice:[],oauth:[]}}},computed:u()({},Object(d.c)(["socketServer"])),methods:u()({},Object(d.d)(["setToken"])),created:function(){this.$route.params.access_token&&(this.access_token=this.$route.params.access_token)},mounted:function(){this.$nextTick(function(){var e=this;this.access_token&&this.setToken(this.access_token),this.echarts=Q.a.init(document.getElementById("charts")),this.socketServer.on("charts",function(t){e.xAxisData=t.day,e.seriesData.log=t.total.log,e.seriesData.notice=t.total.push,e.seriesData.oauth=t.total.oauth,e.echarts.setOption({title:{text:"数据统计"},tooltip:{trigger:"axis"},legend:{data:["系统日志","站内通知","授权用户"]},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},toolbox:{feature:{saveAsImage:{}}},xAxis:{type:"category",boundaryGap:!0,data:e.xAxisData},yAxis:{type:"value"},series:[{name:"系统日志",type:"line",stack:"总量",data:e.seriesData.log},{name:"站内通知",type:"bar",stack:"总量",data:e.seriesData.notice},{name:"授权用户",type:"bar",stack:"总量",data:e.seriesData.oauth}]})})})}},H={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{staticStyle:{width:"100%",height:"600px"},attrs:{id:"charts"}})},staticRenderFns:[]};var J=i("VU/8")(Y,H,!1,function(e){i("nZXl")},"data-v-7fb7cb57",null).exports,K={name:"login",data:function(){return{users:{username:"",password:""},rules:{username:[{required:!0,message:"用户名必须",trigger:"blur"}],password:[{required:!0,message:"用户密码必须",trigger:"blur"}]},reFrom:"login",bgStyle:{background:"url("+i("CqVR")+")","background-repeat":"no-repeat",height:window.innerHeight-16+"px"},oauthVisible:!1,center:!0,destroy_on_close:!0,innerWidth:window.innerWidth,dialogWidth:"30%",oauth:!0}},computed:u()({},Object(d.c)(["oauthConfig"])),methods:u()({},Object(d.b)(["loginSystem","getOauthConfig"]),{onSubmit:function(e){var t=this;this.$refs[e].validate(function(e){e&&t.loginSystem(t.users)})},oauthLogin:function(){this.oauthVisible=!0,this.getOauthConfig("oauth")},goto:function(e){window.open(e,"_self")},resetForm:function(e){this.$refs[e].resetFields()}}),created:function(){this.innerWidth=window.innerWidth},mounted:function(){this.$nextTick(function(){this.innerWidth>=1920&&(this.oauth=!0,this.dialogWidth="30%"),this.innerWidth>=1200&&this.innerWidth<1920&&(this.oauth=!0,this.dialogWidth="50%"),this.innerWidth>=992&&this.innerWidth<1200&&(this.oauth=!1,this.dialogWidth="60%"),this.innerWidth>=768&&this.innerWidth<992&&(this.oauth=!1,this.dialogWidth="70%"),this.innerWidth<768&&(this.oauth=!1,this.dialogWidth="95%")})}},X={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{style:e.bgStyle},[i("el-row",{staticStyle:{"padding-top":"8%"},attrs:{gutter:24}},[i("el-col",{attrs:{xl:{span:8,offset:8},lg:{span:12,offset:6},md:{span:16,offset:4},sm:{span:20,offset:"2"},xs:{span:24}}},[i("el-header",{staticStyle:{"text-align":"center","font-size":"20px"}},[e._v("登录系统")]),e._v(" "),i("el-main",[i("el-form",{ref:e.reFrom,attrs:{model:e.users,rules:e.rules}},[i("el-form-item",{attrs:{prop:"username"}},[i("el-input",{attrs:{placeholder:"username",autocomplete:"off"},model:{value:e.users.username,callback:function(t){e.$set(e.users,"username",t)},expression:"users.username"}},[i("template",{slot:"prepend"},[i("i",{staticClass:"el-icon-s-custom"})])],2)],1),e._v(" "),i("el-form-item",{attrs:{prop:"password"}},[i("el-input",{attrs:{type:"password",placeholder:"password",autocomplete:"off"},model:{value:e.users.password,callback:function(t){e.$set(e.users,"password",t)},expression:"users.password"}},[i("template",{slot:"prepend"},[i("i",{staticClass:"el-icon-user-solid"})])],2)],1)],1)],1)],1),e._v(" "),i("el-dialog",{attrs:{visible:e.oauthVisible,title:"授权登录","destroy-on-close":e.destroy_on_close,center:e.center,width:e.dialogWidth},on:{"update:visible":function(t){e.oauthVisible=t}}},e._l(e.oauthConfig,function(t,s){return 1===t.status?i("el-button",{key:s,attrs:{plain:"",type:"primary"},on:{click:function(i){return e.goto(t.value)}}},[e._v(e._s(t.name))]):e._e()}),1)],1),e._v(" "),i("el-footer",{staticStyle:{"text-align":"center"}},[i("el-button",{attrs:{plain:""},on:{click:function(t){return e.resetForm(e.reFrom)}}},[e._v("取 消")]),e._v(" "),i("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){return e.onSubmit(e.reFrom)}}},[e._v("确 定")]),e._v(" "),i("el-button",{directives:[{name:"show",rawName:"v-show",value:e.oauth,expression:"oauth"}],attrs:{type:"primary"},on:{click:e.oauthLogin}},[e._v("授权登录")])],1)],1)},staticRenderFns:[]};var ee=i("VU/8")(K,X,!1,function(e){i("xQBZ")},"data-v-a981495c",null).exports,te={name:"Submit",props:{reFrom:String,model:Object,url:String,refs:Object},data:function(){return{}},methods:u()({},Object(d.b)(["saveSystemLog","checkAuth"]),{submitForm:function(e){var t=this;this.refs[e].validate(function(e){if(e)return t.checkAuth({url:t.url}),t.model.token=t.$store.state.login.token,t.$http.post(t.url,t.model).then(function(e){if(e&&200===e.data.code){var i={href:t.url,msg:a()({info:e.data.msg,result:e.data.result}),token:t.$store.state.login.token};return t.saveSystemLog(i),t.$message({type:"success",message:e.data.msg}),t.$emit("success"),!1}},function(e){console.log(e)}),!0;t.$message({type:"warning",message:"请检查字段完整性~"})})},resetForm:function(e){this.refs[e].resetFields()}})},ie={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("el-button",{attrs:{plain:""},on:{click:function(t){return e.resetForm(e.reFrom)}}},[e._v("取 消")]),e._v(" "),i("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){return e.submitForm(e.reFrom)}}},[e._v("确 定")])],1)},staticRenderFns:[]};var se=i("VU/8")(te,ie,!1,function(e){i("keIh")},"data-v-e812b49c",null).exports,ae={name:"Radio",props:{item:Object,url:String},data:function(){return{table:this.$route.meta.mode}},methods:u()({},Object(d.b)(["saveSystemLog","checkAuth"]),{setStatus:function(e){var t=this;this.checkAuth({url:this.url});var i={status:e.status,id:e.id,token:this.$store.state.login.token,act:"status"};this.$http.post(this.url,i).then(function(s){if(s&&200===s.data.code){var n={href:t.url,msg:a()({info:s.data.msg,result:s.data.result}),token:t.$store.state.login.token};return t.saveSystemLog(n),t.$message({type:"success",message:s.data.msg}),void t.$emit("success")}e.status=1===parseInt(i.status)?2:1},function(t){e.status=1===parseInt(i.status)?2:1,console.log(t)})}})},ne={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("el-radio-group",{attrs:{size:"mini"},on:{change:function(t){return e.setStatus(e.item)}},model:{value:e.item.status,callback:function(t){e.$set(e.item,"status",t)},expression:"item.status"}},[i("el-radio-button",{attrs:{label:"2"}},[e._v("关闭")]),e._v(" "),i("el-radio-button",{attrs:{label:"1"}},[e._v("开启")])],1)],1)},staticRenderFns:[]};var oe=i("VU/8")(ae,ne,!1,function(e){i("XDbd")},"data-v-01d5aee5",null).exports,le={name:"Delete",props:{item:Object,url:String,index:Number,Lists:Array},data:function(){return{table:this.$route.meta.mode}},methods:u()({},Object(d.b)(["saveSystemLog","checkAuth"]),{remove:function(e,t){var i=this;this.$confirm("此操作将永远删除该条记录，是否继续？","删除记录",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){i.checkAuth({url:i.url});var s={id:e.id,token:i.$store.state.login.token};i.$http.post(i.url,s).then(function(e){if(e&&200===e.data.code){i.Lists.splice(t,1);var s={href:i.url,msg:a()({info:e.data.msg,result:e.data.result}),token:i.$store.state.login.token};return i.saveSystemLog(s),i.$message({type:"success",message:e.data.msg}),i.$emit("success"),!1}},function(e){console.log(e)})}).catch(function(){i.$message({type:"info",message:"已取消删除！"})})}})},re={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("el-button",{attrs:{plain:"",type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:function(t){return e.remove(e.item,e.index)}}},[e._v("删 除")])},staticRenderFns:[]};var ce=i("VU/8")(le,re,!1,function(e){i("q04y")},"data-v-68938f2d",null).exports,ue={name:"lists",components:{Delete:ce,Radio:oe,Submit:se},data:function(){return{authLists:[],authLevel:[],search:"",syncVisible:!1,modal:!0,center:!0,labelWidth:"80px",title:"",loading:!0,loadingText:"玩命加载中。。。",url:"",refs:this.$refs,reFrom:"auth",act:"",authModel:{},cgi:{insert:p.authSave,update:p.authUpdate,remove:p.authDelete,status:p.authUpdate},rules:{name:[{required:!0,message:"权限名称不得为空",trigger:"blur"}],href:[{required:!0,message:"权限链接不得为空",trigger:"blur"}],pid:[{required:!0,message:"权限上级不得为空",trigger:"change"}],status:[{required:!0,message:"权限状态不得为空",trigger:"change"}]}}},methods:{success:function(){this.getAuthLists(this.page,this.limit),this.syncVisible=!1},getAuthLists:function(){var e=this;D.AuthLists([]).then(function(t){t&&200===t.data.code&&(e.authLists=L.a.set_tree(t.data.item.authLists),e.authLevel=t.data.item.selectAuth,e.loading=!1)})},searchAuth:function(){console.log("ss")},setAuthName:function(e){return Array(e.level+1).join("　　")+e.name},addAuth:function(){this.syncVisible=!0,this.title="添加权限",this.url=this.cgi.insert,this.act="add",this.authModel={name:"",href:"",status:"1",pid:"0",level:0,path:"1"}},updateAuth:function(e){this.syncVisible=!0,this.title="修改权限",this.url=this.cgi.update,this.authModel=e,this.act="update",this.authModel.pid=this.authModel.pid.toString()}},mounted:function(){this.$nextTick(function(){this.getAuthLists()})}},de={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{"element-loading-text":e.loadingText}},[i("el-form",{staticStyle:{"margin-top":"10px"},attrs:{inline:!0}},[i("el-form-item",{staticStyle:{float:"right"}},[i("el-button",{attrs:{icon:"el-icon-plus",type:"primary",size:"medium",plain:""},on:{click:e.addAuth}},[e._v("添 加")])],1)],1),e._v(" "),i("el-table",{attrs:{data:e.authLists.filter(function(t){return!e.search||t.name.toLowerCase().includes(e.search.toLowerCase())||t.href.includes(e.search.toLowerCase())}),"row-key":"id","default-expand-all":"","tree-props":{children:"__child",hasChildren:"hasChildren"}}},[i("el-table-column",{attrs:{label:"权限名称",prop:"name"}}),e._v(" "),i("el-table-column",{attrs:{label:"权限链接",prop:"href"}}),e._v(" "),i("el-table-column",{attrs:{label:"显示状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("Radio",{attrs:{item:t.row,url:e.cgi.status}})]}}])}),e._v(" "),i("el-table-column",{attrs:{align:"right"},scopedSlots:e._u([{key:"header",fn:function(t){return[i("el-input",{attrs:{placeholder:"输入关键词查询"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchAuth(t)}},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})]}},{key:"default",fn:function(t){return[i("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-edit",size:"mini"},on:{click:function(i){return e.updateAuth(t.row)}}},[e._v("修 改")]),e._v(" "),i("Delete",{attrs:{url:e.cgi.remove,item:t.row,index:t.$index,Lists:e.authLists},on:{success:e.success}})]}}])})],1),e._v(" "),i("el-dialog",{attrs:{title:e.title,visible:e.syncVisible,modal:e.modal,center:e.center},on:{"update:visible":function(t){e.syncVisible=t}}},[i("el-form",{ref:e.reFrom,attrs:{"label-width":e.labelWidth,model:e.authModel,rules:e.rules}},[i("el-form-item",{attrs:{label:"权限名称",prop:"name"}},[i("el-input",{attrs:{placeholder:"权限名称"},model:{value:e.authModel.name,callback:function(t){e.$set(e.authModel,"name",t)},expression:"authModel.name"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"权限链接",prop:"href"}},[i("el-input",{attrs:{placeholder:"/admin/auth/lists"},model:{value:e.authModel.href,callback:function(t){e.$set(e.authModel,"href",t)},expression:"authModel.href"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"权限上级",prop:"pid"}},[i("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"权限上级",filterable:""},model:{value:e.authModel.pid,callback:function(t){e.$set(e.authModel,"pid",t)},expression:"authModel.pid"}},["0"===e.authModel.pid?i("el-option",{attrs:{label:"默认权限",value:"0",selected:""}}):e._e(),e._v(" "),e._l(e.authLevel,function(t,s){return i("el-option",{key:s,attrs:{label:e.setAuthName(t),value:t.id.toString()}})})],2)],1),e._v(" "),"add"===e.act?i("el-form-item",{attrs:{label:"权限状态",prop:"status"}},[i("el-radio-group",{attrs:{size:"small"},model:{value:e.authModel.status,callback:function(t){e.$set(e.authModel,"status",t)},expression:"authModel.status"}},[i("el-radio-button",{attrs:{label:"2"}},[e._v("关闭")]),e._v(" "),i("el-radio-button",{attrs:{label:"1"}},[e._v("开启")])],1)],1):e._e()],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("Submit",{attrs:{reFrom:e.reFrom,model:e.authModel,url:e.url,refs:e.refs},on:{success:e.success}})],1)],1)],1)},staticRenderFns:[]};var me=i("VU/8")(ue,de,!1,function(e){i("c5TN")},"data-v-47982dab",null).exports,he={name:"lists",components:{Submit:se,Delete:ce,Radio:oe},data:function(){return{roleLists:[],loading:!0,loadingText:"玩命加载中。。。",authLists:[],defaultChecked:[],search:"",title:"",syncVisible:!1,modal:!0,labelWidth:"80px",center:!0,url:"",refs:this.$refs,reFrom:"role",act:"",roleModel:{},ids:[],urls:[],cgi:{insert:p.roleSave,update:p.roleUpdate,remove:p.roleDelete,status:p.roleUpdate},rules:{role_name:[{required:!0,message:"角色名称不得为空",trigger:"blur"}],ids:[{required:!0,message:"权限ID不得为空",trigger:"blur"}],urls:[{required:!0,message:"权限地址不得为空",trigger:"blur"}]}}},methods:{success:function(){this.getRoleLists(this.page,this.limit),this.syncVisible=!1},getRoleLists:function(e,t){var i=this,s={offset:t*(e-1),limit:t,level:4};D.RoleLists(s).then(function(e){e&&200===e.data.code&&(i.roleLists=e.data.item.role,i.authLists=e.data.item.auth,i.loading=!1)})},sizeChange:function(e){this.limit=e,this.getRoleLists(this.page,this.limit)},currentChange:function(e){this.page=e,this.getRoleLists(this.page,this.limit)},addRole:function(){this.title="添加角色",this.syncVisible=!0,this.url=this.cgi.insert,this.act="add",this.defaultChecked=[],this.roleModel={role_name:"",auth_ids:[],auth_url:[],status:"1",created_at:L.a.get_timestamp(),updated_at:L.a.get_timestamp()}},handleChange:function(e,t,i){var s=this;switch(t){case"left":i.forEach(function(e,t){s.ids.splice(s.ids.indexOf(e),1)});break;case"right":i.forEach(function(e,t){s.ids.push(parseInt(e))})}s.roleModel.auth_ids=s.ids},updateRole:function(e){for(var t in this.syncVisible=!0,this.title="修改角色",this.url=this.cgi.update,this.ids=JSON.parse(e.auth_ids),this.urls=JSON.parse(e.auth_url),this.defaultChecked=[],this.act="update",this.ids)this.defaultChecked.push(parseInt(this.ids[t]));this.roleModel=e,this.roleModel.auth_ids=this.defaultChecked}},mounted:function(){this.$nextTick(function(){this.getRoleLists(this.page,this.limit)})}},pe={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{"element-loading-text":e.loadingText}},[i("el-form",{staticStyle:{"margin-top":"10px"},attrs:{inline:!0}},[i("el-form-item",{staticStyle:{float:"right"}},[i("el-button",{attrs:{icon:"el-icon-plus",type:"primary",size:"medium",plain:""},on:{click:e.addRole}},[e._v("添 加")])],1)],1),e._v(" "),i("el-table",{attrs:{data:e.roleLists.filter(function(t){return!e.search||t.role_name.includes(e.search)}),border:""}},[i("el-table-column",{attrs:{label:"#",prop:"id",sortable:""}}),e._v(" "),i("el-table-column",{attrs:{label:"角色名称",prop:"role_name"}}),e._v(" "),i("el-table-column",{attrs:{label:"显示状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("Radio",{attrs:{item:t.row,url:e.cgi.status}})]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"创建时间",sortable:"",prop:"created_at"}}),e._v(" "),i("el-table-column",{attrs:{label:"修改时间",sortable:"",prop:"updated_at"}}),e._v(" "),i("el-table-column",{attrs:{label:"操作",align:"right"},scopedSlots:e._u([{key:"header",fn:function(t){return[i("el-input",{attrs:{placeholder:"请输入关键词查询"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})]}},{key:"default",fn:function(t){return[i("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-edit",size:"mini"},on:{click:function(i){return e.updateRole(t.row)}}},[e._v("修 改")]),e._v(" "),i("Delete",{attrs:{url:e.cgi.remove,item:t.row,index:t.$index,Lists:e.roleLists},on:{success:e.success}})]}}])})],1),e._v(" "),i("el-dialog",{attrs:{title:e.title,visible:e.syncVisible,modal:e.modal,center:e.center},on:{"update:visible":function(t){e.syncVisible=t}}},[i("el-form",{ref:e.reFrom,attrs:{"label-width":e.labelWidth,model:e.roleModel,rules:e.rules}},[i("el-form-item",{attrs:{label:"角色名称",prop:"role_name"}},[i("el-input",{attrs:{placeholder:"角色名称"},model:{value:e.roleModel.role_name,callback:function(t){e.$set(e.roleModel,"role_name",t)},expression:"roleModel.role_name"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"权限列表",prop:"auth_ids"}},[i("el-transfer",{attrs:{titles:["所有","拥有"],"button-texts":["移除","添加"],data:e.authLists,filterable:""},on:{change:e.handleChange},model:{value:e.defaultChecked,callback:function(t){e.defaultChecked=t},expression:"defaultChecked"}})],1),e._v(" "),"add"===e.act?i("el-form-item",{attrs:{label:"状态",prop:"status"}},[i("el-radio-group",{attrs:{size:"small"},model:{value:e.roleModel.status,callback:function(t){e.$set(e.roleModel,"status",t)},expression:"roleModel.status"}},[i("el-radio-button",{attrs:{label:"0"}},[e._v("关闭")]),e._v(" "),i("el-radio-button",{attrs:{label:"1"}},[e._v("开启")])],1)],1):e._e()],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("Submit",{attrs:{reFrom:e.reFrom,model:e.roleModel,url:e.url,refs:e.refs},on:{success:e.success}})],1)],1)],1)},staticRenderFns:[]};var fe=i("VU/8")(he,pe,!1,function(e){i("pZoA")},"data-v-3ddcdb29",null).exports,ge={name:"lists",components:{Submit:se,Delete:ce,Radio:oe},data:function(){return{userLists:[],roleLists:[],page:1,limit:15,total:0,search:"",title:"",syncVisible:!1,modal:!0,labelWidth:"80px",loading:!0,center:!0,loadingText:"玩命加载中。。。",url:"",refs:this.$refs,reFrom:"user",act:"",userModel:{},cgi:{insert:p.userSave,update:p.userUpdate,remove:p.userDelete,status:p.userUpdate},rules:{username:[{required:!0,message:"管理员名称不得为空",trigger:"blur"}],password:[{required:!0,message:"密码不得为空",trigger:"blur"}],email:[{required:!0,message:"邮箱不得为空",trigger:"blur"},{type:"email",message:"邮箱格式不正确",trigger:"blur"}],phone_number:[{required:!0,message:"手机号不得为空",trigger:"blur"}],role_id:[{required:!0,message:"角色不得为空",trigger:"change"}]}}},methods:{success:function(){this.getUserLists(this.page,this.limit),this.syncVisible=!1},getUserLists:function(e,t){var i=this,s={offset:t*(e-1),limit:t,level:"1"};D.UserLists(s).then(function(e){e&&200===e.data.code&&(i.userLists=e.data.item.userLists,i.total=e.data.item.total,i.roleLists=e.data.item.roleLists,i.loading=!1)})},sizeChange:function(e){this.limit=e,this.getUserLists(this.page,this.limit)},currentChange:function(e){this.page=e,this.getUserLists(this.page,this.limit)},addUser:function(){this.title="添加管理员",this.syncVisible=!0,this.act="add",this.userModel={username:"",email:"",password:"",salt:L.a.set_random(),status:"1",role_id:1,phone_number:"",created_at:L.a.get_timestamp(),updated_at:L.a.get_timestamp(),access_token:""},this.url=this.cgi.insert},updateUser:function(e){this.title="修改管理员",this.syncVisible=!0,this.userModel=e,this.url=this.cgi.update,this.act="update"}},mounted:function(){this.$nextTick(function(){this.getUserLists(this.page,this.limit)})}},ve={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{"element-loading-text":e.loadingText}},[i("el-form",{staticStyle:{"margin-top":"10px"},attrs:{inline:!0}},[i("el-form-item",{staticStyle:{float:"right"}},[i("el-button",{attrs:{icon:"el-icon-plus",type:"primary",size:"medium",plain:""},on:{click:e.addUser}},[e._v("添 加")])],1)],1),e._v(" "),i("el-table",{attrs:{data:e.userLists.filter(function(t){return!e.search||t.username.toLowerCase().includes(e.search.toLowerCase())||t.email.toLowerCase().includes(e.search.toLowerCase())||t.phone_number.toLowerCase().includes(e.search.toLowerCase())}),border:""}},[i("el-table-column",{attrs:{label:"#",prop:"id"}}),e._v(" "),i("el-table-column",{attrs:{label:"管理员",prop:"username"}}),e._v(" "),i("el-table-column",{attrs:{label:"邮箱",prop:"email"}}),e._v(" "),i("el-table-column",{attrs:{label:"手机号",prop:"phone_number"}}),e._v(" "),i("el-table-column",{attrs:{label:"显示状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("Radio",{attrs:{item:t.row,url:e.cgi.status}})]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"创建时间",prop:"created_at"}}),e._v(" "),i("el-table-column",{attrs:{label:"修改时间",prop:"updated_at"}}),e._v(" "),i("el-table-column",{attrs:{label:"操作",align:"right"},scopedSlots:e._u([{key:"header",fn:function(t){return[i("el-input",{attrs:{placeholder:"请输入关键词查询"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})]}},{key:"default",fn:function(t){return[i("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-edit",size:"mini"},on:{click:function(i){return e.updateUser(t.row)}}},[e._v("修 改")]),e._v(" "),i("Delete",{attrs:{url:e.cgi.remove,item:t.row,index:t.$index,Lists:e.userLists},on:{success:e.success}})]}}])})],1),e._v(" "),i("div",{staticStyle:{margin:"25px 0"}},[i("el-pagination",{attrs:{"page-sizes":[15,30,50,100],"page-size":e.limit,layout:"total, sizes, prev, pager, next, jumper",total:e.total,"current-page":e.page},on:{"size-change":e.sizeChange,"current-change":e.currentChange}})],1),e._v(" "),i("el-dialog",{attrs:{title:e.title,visible:e.syncVisible,modal:e.modal,center:e.center},on:{"update:visible":function(t){e.syncVisible=t}}},[i("el-form",{ref:e.reFrom,attrs:{"label-width":e.labelWidth,model:e.userModel,rules:e.rules}},[i("el-form-item",{attrs:{label:"管理员",prop:"username"}},[i("el-input",{attrs:{placeholder:"管理员名称"},model:{value:e.userModel.username,callback:function(t){e.$set(e.userModel,"username",t)},expression:"userModel.username"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"密码",prop:"password"}},[i("el-input",{attrs:{type:"password",placeholder:"密码"},model:{value:e.userModel.password,callback:function(t){e.$set(e.userModel,"password",t)},expression:"userModel.password"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[i("el-input",{attrs:{type:"email",placeholder:"邮箱"},model:{value:e.userModel.email,callback:function(t){e.$set(e.userModel,"email",t)},expression:"userModel.email"}})],1),e._v(" "),"update"===e.act?i("el-form-item",{attrs:{label:"手机号",prop:"phone_number"}},[i("el-input",{attrs:{type:"email",placeholder:"手机号"},model:{value:e.userModel.phone_number,callback:function(t){e.$set(e.userModel,"phone_number",t)},expression:"userModel.phone_number"}})],1):e._e(),e._v(" "),i("el-form-item",{attrs:{label:"角色",prop:"role_id"}},[i("el-select",{staticStyle:{width:"100%"},model:{value:e.userModel.role_id,callback:function(t){e.$set(e.userModel,"role_id",t)},expression:"userModel.role_id"}},e._l(e.roleLists,function(e,t){return i("el-option",{key:t,attrs:{label:e.role_name,value:e.id}})}),1)],1),e._v(" "),"add"===e.act?i("el-form-item",{attrs:{label:"显示状态",prop:"status"}},[i("el-radio-group",{attrs:{size:"small"},model:{value:e.userModel.status,callback:function(t){e.$set(e.userModel,"status",t)},expression:"userModel.status"}},[i("el-radio-button",{attrs:{label:"2"}},[e._v("关闭")]),e._v(" "),i("el-radio-button",{attrs:{label:"1"}},[e._v("开启")])],1)],1):e._e()],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("Submit",{attrs:{reFrom:e.reFrom,model:e.userModel,url:e.url,refs:e.refs},on:{success:e.success}})],1)],1)],1)},staticRenderFns:[]};var be=i("VU/8")(ge,ve,!1,function(e){i("T+z7")},"data-v-2332f94c",null).exports,ye={name:"log",components:{Delete:ce},data:function(){return{logLists:[],page:1,limit:15,total:0,search:"",labelWidth:"80px",loading:!0,loadingText:"玩命加载中。。。",cgi:{remove:p.logDelete},rules:{}}},methods:{success:function(){this.getLogLists(this.page,this.limit)},getLogLists:function(e,t){var i=this,s={page:e,limit:t};D.LogLists(s).then(function(e){e&&200===e.data.code&&(i.logLists=e.data.item.data,i.total=e.data.item.total,i.loading=!1)})},sizeChange:function(e){this.limit=e,this.getLogLists(this.page,this.limit)},currentChange:function(e){this.page=e,this.getLogLists(this.page,this.limit)}},mounted:function(){this.$nextTick(function(){this.getLogLists(this.page,this.limit)})}},_e={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{"element-loading-text":e.loadingText}},[i("el-table",{attrs:{data:e.logLists.filter(function(t){return!e.search||t.username.toLowerCase().includes(e.search.toLowerCase())||t.ip_address.includes(e.search.toLowerCase())}),border:""}},[i("el-table-column",{attrs:{label:"#",prop:"id",sortable:"",width:"100px"}}),e._v(" "),i("el-table-column",{attrs:{label:"执行人",prop:"username",sortable:"",width:"150px"}}),e._v(" "),i("el-table-column",{attrs:{label:"日志信息",prop:"log","show-overflow-tooltip":!0}}),e._v(" "),i("el-table-column",{attrs:{label:"地址",prop:"ip_address",width:"200px"}}),e._v(" "),i("el-table-column",{attrs:{label:"创建时间",sortable:"",prop:"created_at",width:"200px"}}),e._v(" "),i("el-table-column",{attrs:{label:"操作",align:"right",width:"200px"},scopedSlots:e._u([{key:"header",fn:function(t){return[i("el-input",{attrs:{placeholder:"请输入关键字查询"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})]}},{key:"default",fn:function(t){return[i("Delete",{attrs:{url:e.cgi.remove,item:t.row,index:t.$index,Lists:e.logLists},on:{success:e.success}})]}}])})],1),e._v(" "),i("div",{staticStyle:{margin:"25px 0"}},[i("el-pagination",{attrs:{"page-sizes":[15,30,50,100],"page-size":e.limit,layout:"total, sizes, prev, pager, next, jumper",total:e.total,"current-page":e.page},on:{"size-change":e.sizeChange,"current-change":e.currentChange}})],1)],1)},staticRenderFns:[]};var ke=i("VU/8")(ye,_e,!1,function(e){i("LcBY")},"data-v-dd1bc4f6",null).exports,xe=i("gZhU");i("c6RA"),i("aGTD"),i("UM8r"),i("Yokd"),i("THjC"),i("Kk9m"),i("fo6W"),i("fo6W"),i("soCA"),i("vq+x");var we={name:"lists",components:{Submit:se,codemirror:xe.codemirror},data:function(){return{props:{label:"label",children:"children",isLeaf:!1},checkBoxArr:[{id:4,value:"读取"},{id:2,value:"写入"},{id:1,value:"执行"}],all:[],user:[],common:[],all_id:0,user_id:0,common_id:0,chmodModel:{auth:parseInt(this.all_id+""+this.user_id+this.common_id),path:""},compressionModel:{docLists:[],resource:"",path:""},options:{mode:"text/x-php",tabSize:4,lineNumbers:!0,theme:"monokai",extraKeys:{"Ctrl-Space":"autocomplete"},lineWrapping:!0,foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"],indentWithTabs:!0,smartIndent:!0,matchBrackets:!0,cursorHeight:1,autoRefresh:!0,styleActiveLine:!0},menuVisible:!1,highlight:!0,fileLists:[],path:"base_path",activeFileTabName:null,title:"default",syncVisible:!1,modal:!0,labelWidth:"80px",center:!0,loading:!0,loadingText:"玩命加载中。。。",url:"",refs:this.$refs,reFrom:"file",fileObject:{},showRightBtn:{add:!0,rename:!0,remove:!0,compression:!0,DeCompression:!1,auth:!0,download:!0,upload:!0},fileModel:{content:"",path:""},fileList:[],fileSyncVisible:!1,fileData:{},showIdea:!0,cgi:{update:p.fileUpdate,chmod:p.fileChmod,uploadUrl:"https://www.fanglonger.com/api/"+p.fileUpload},imgVisible:!1,dialogImageUrl:"",rules:{auth:[{required:!0,message:"权限不得为空",trigger:"blur"},{type:"number",message:"权限必须为数字值",trigger:"blur"}]},filterText:""}},watch:{filterText:function(e){this.$refs.tree.filter(e)}},computed:u()({},Object(d.c)(["fileTabs","currFileObj","token"])),methods:u()({},Object(d.b)(["addFileTabs","deleteFileTabs","addCurrFileObj","saveSystemLog"]),{success:function(){this.getFileLists(this.path),this.syncVisible=!1},filterNode:function(e,t){return!e||-1!==t.label.toLowerCase().indexOf(e.toLowerCase())},getFileLists:function(e){var t=this,i={path:e,basename:"/"};D.FileLists(i).then(function(e){e&&200===e.data.code&&(t.fileLists=e.data.item,t.loading=!1)})},rightClick:function(e,t,i,s){this.menuVisible=!1,this.menuVisible=!0;var a=document.querySelector("#menu");switch(document.addEventListener("click",this.foo),a.style.left="340px",a.style.top=e.clientY-195+"px",this.fileObject=t,this.fileObject.fileType){case"file":this.showRightBtn.DeCompression=!1,this.showRightBtn.download=!0;var n=this.fileObject.label.split(".")[1];["tar","zip","7z","TAR","ZIP","7Z"].includes(n)&&(this.showRightBtn.DeCompression=!0);break;case"dir":this.showRightBtn.download=!1,this.showRightBtn.DeCompression=!1}},foo:function(){this.menuVisible=!1,document.removeEventListener("click",this.foo)},goto:function(e){var t=this.fileTabs;for(var i in t)if(t[i].label===e.label){this.fileModel.content=t[i].content,this.fileModel.path=t[i].path;var s={content:this.fileModel.content,path:this.fileModel.path,name:t[i].name};this.addCurrFileObj(s)}},removeTabName:function(e){var t=this;this.fileTabs.forEach(function(i,s){if(i.name===e){var a=t.fileTabs[s+1]||t.fileTabs[s-1];if(a){t.activeFileTabName=a.name,t.fileModel.content=a.content;var n={content:a.content,path:a.path,name:a.name};t.addCurrFileObj(n),t.deleteFileTabs(e)}}})},getFileContent:function(e){var t=this;if("file"!==e.fileType)return this.$notify({type:"success",title:"通知",message:"不是一个文件"}),!1;var i=e.label.split(".")[1];if(["tar","zip","7z","TAR","ZIP","7Z"].includes(i))return this.$notify({type:"success",title:"通知",message:"该文件不支持直接查看"}),!1;this.showIdea=!0,this.activeFileTabName=e.size.toString();var s={path:e.path},a={};this.url=this.cgi.update,a.label=e.label,a.name=e.size.toString(),a.path=e.path,D.FileRead(s).then(function(i){i&&200===i.data.code&&(t.fileModel.content=i.data.item.content,t.fileModel.path=e.path,a.content=t.fileModel.content,t.addCurrFileObj(a),t.addFileTabs(a))})},renameFile:function(){var e=this,t={oldFile:this.fileObject.path};this.$prompt("请输入文件名","重命名",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(i){var s=i.value;t.newFile=t.oldFile.replace(e.fileObject.label,s),D.FileRename(t).then(function(t){if(t&&200===t.data.code){e.fileObject.name=s,e.$message({type:"success",message:"你的新文件名: "+s});var i={msg:a()({url:p.fileSave,info:"你的新文件名: "+s,result:t.data.result})};e.saveSystemLog(i),e.getFileLists(e.path)}})}).catch(function(){e.$message({type:"info",message:"取消输入"})})},deleteFile:function(){var e=this;this.$confirm("此操作将永远删除该条记录，是否继续？","删除记录",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var t={path:e.fileObject.path};D.FileDelete(t).then(function(i){if(i&&200===i.data.code){var s={msg:"删除文件成功："+t.path,result:i.data.result};e.saveSystemLog(s),e.getFileLists(e.path),e.$message({type:"success",message:"删除记录成功！："+t.path})}})}).catch(function(){e.$message({type:"info",message:"已取消删除！"})})},addFile:function(){var e=this,t={};this.$prompt("请输入文件名","新建文件",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(i){var s=i.value;"file"===e.fileObject.fileType?t.path=e.fileObject.path.replace(e.fileObject.label,s):"dir"===e.fileObject.fileType&&(t.path=e.fileObject.path+"/"+s),D.FileSave(t).then(function(i){if(i&&200===i.data.code){var s={msg:"你的新文件名: "+t.path,result:i.data.result};e.saveSystemLog(s),e.getFileLists(e.path),e.$message({type:"success",message:"你的新文件名: "+t.path})}})}).catch(function(){e.$message({type:"info",message:"取消输入"})})},authFile:function(){this.syncVisible=!0,this.title="设置权限【"+this.fileObject.path+"】",this.chmodModel.auth=parseInt(this.fileObject.auth),this.chmodModel.path=this.fileObject.path,this.all_id=this.fileObject.auth.substr(0,1),this.user_id=this.fileObject.auth.substr(1,1),this.common_id=this.fileObject.auth.substr(2,1),this.all=this.setChmod(this.all_id),this.user=this.setChmod(this.user_id),this.common=this.setChmod(this.common_id),this.url=this.cgi.chmod},setChmod:function(e){var t=[];switch(e){case"7":t=["读取","写入","执行"];break;case"6":t=["读取","写入"];break;case"5":t=["读取","执行"];break;case"4":t=["读取"];break;case"3":t=["写入","执行"];break;case"2":t=["写入"];break;case"1":t=["执行"]}return t},setChmodAuth:function(){this.chmodModel.auth=parseInt(this.chmodModel.auth),this.chmodModel.auth>666&&(this.$message({type:"warning",message:"权限设置失败"}),this.chmodModel.auth=parseInt(this.fileObject.auth)),this.all_id=this.chmodModel.auth.toString().substr(0,1),this.user_id=this.chmodModel.auth.toString().substr(1,1),this.common_id=this.chmodModel.auth.toString().substr(2,1),this.all=this.setChmod(this.all_id),this.user=this.setChmod(this.user_id),this.common=this.setChmod(this.common_id),this.url=this.cgi.chmod},getChmod:function(e){var t=0;for(var i in e)"读取"===e[i]&&(t+=4),"写入"===e[i]&&(t+=2),"执行"===e[i]&&(t+=1);return t},allChange:function(e){this.all_id=this.getChmod(e),this.chmodModel.auth=parseInt(this.all_id+""+this.user_id+this.common_id)},userChange:function(e){this.user_id=this.getChmod(e),this.chmodModel.auth=parseInt(this.all_id+""+this.user_id+this.common_id)},commonChange:function(e){this.common_id=this.getChmod(e),this.chmodModel.auth=parseInt(this.all_id+""+this.user_id+this.common_id)},compressionFile:function(){var e=this;this.$prompt("请输入文件名","压缩包名称",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(t){var i=t.value;e.compressionModel.resource=i,e.compressionModel.docLists.push(e.fileObject.path),e.compressionModel.path=e.fileObject.path.replace(e.fileObject.label,""),D.Compression(e.compressionModel).then(function(t){if(t&&200===t.data.code){e.$message({type:"success",message:t.data.msg});var i={msg:"你的压缩包名: "+e.compressionModel.type,result:t.data.result};e.saveSystemLog(i),e.getFileLists(e.path)}})}).catch(function(){e.$message({type:"info",message:"取消输入"})})},DecompressionFile:function(){var e=this;this.$prompt("请输入文件名","解压包名称",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(t){var i=t.value,s={path:e.fileObject.path,resource:i};D.Decompression(s).then(function(t){if(t&&200===t.data.code){e.$message({type:"success",message:t.data.msg});var i={msg:"文件解压成功",result:t.data.result};e.saveSystemLog(i),e.getFileLists(e.path)}})}).catch(function(){e.$message({type:"info",message:"取消输入"})})},downloadFile:function(){var e=this;this.$alert("确定下载文件："+this.fileObject.path,"文件下载").then(function(){window.open("https://www.fanglonger.com/api/"+p.fileDownload+"?token="+e.token+"&path="+e.fileObject.path,"__target");var t={msg:"文件下载成功："+e.fileObject.path};e.saveSystemLog(t),e.$message({type:"success",message:"download file successfully"})}).catch(function(){e.$message({type:"info",message:"取消下载"})})},uploadFile:function(){this.fileSyncVisible=!0,this.fileList=[],this.fileData.token=this.token,"file"===this.fileObject.fileType?this.fileData.path=this.fileObject.path.replace(this.fileObject.label,""):"dir"===this.fileObject.fileType&&(this.fileData.path=this.fileObject.path)},submitUpload:function(){this.$refs.upload.submit()},handleRemove:function(e){this.$message({type:"warning",message:"取消文件上传："+e.name})},handelSuccess:function(e){var t=this;if(200===e.code){var i=e.item.name.split(".")[1];["png","jpeg","gif"].includes(i.toLowerCase())&&this.$alert("是否预览图片?","图片预览").then(function(){t.imgVisible=!0,D.ImagePreview({name:e.item.name}).then(function(e){e&&200===e.data.code&&(t.dialogImageUrl=e.data.item.src)})}),this.$message({type:"success",message:e.msg});var s={msg:e.msg,result:e};this.saveSystemLog(s),this.getFileLists(this.path),this.fileSyncVisible=!1}},updateContent:function(e){this.fileModel.content=e}}),created:function(){this.activeFileTabName=this.currFileObj.name,this.fileModel=this.currFileObj,null===this.activeFileTabName&&(this.fileModel.content="",this.showIdea=!1)},mounted:function(){this.$nextTick(function(){this.url=this.cgi.update,this.getFileLists(this.path)})}},Ce={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{"element-loading-text":e.loadingText}},[i("el-row",{attrs:{gutter:24}},[i("el-col",{staticStyle:{"margin-bottom":"20px"},attrs:{xl:{span:5},lg:{span:5},md:{span:24},sm:{span:24},xs:{span:24}}},[i("el-input",{attrs:{placeholder:"输入关键字搜索"},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}})],1)],1),e._v(" "),i("el-row",{attrs:{gutter:24}},[i("el-col",{staticStyle:{"margin-bottom":"20px"},attrs:{xl:{span:5},lg:{span:5},md:{span:24},sm:{span:24},xs:{span:24}}},[i("el-tree",{ref:"tree",staticStyle:{"background-color":"#393d49"},attrs:{data:e.fileLists,"highlight-current":e.highlight,props:e.props,"filter-node-method":e.filterNode,"node-key":e.props.id},on:{"node-contextmenu":e.rightClick,"node-click":e.getFileContent}})],1),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.menuVisible,expression:"menuVisible"}]},[i("ul",{staticClass:"menu",attrs:{id:"menu"}},[i("li",{directives:[{name:"show",rawName:"v-show",value:e.showRightBtn.add,expression:"showRightBtn.add"}],staticClass:"menu__item",on:{click:e.addFile}},[i("i",{staticClass:"el-icon-circle-plus-outline"}),e._v(" 添 加")]),e._v(" "),i("li",{directives:[{name:"show",rawName:"v-show",value:e.showRightBtn.rename,expression:"showRightBtn.rename"}],staticClass:"menu__item",on:{click:e.renameFile}},[i("i",{staticClass:"el-icon-edit-outline"}),e._v(" 修 改")]),e._v(" "),i("li",{directives:[{name:"show",rawName:"v-show",value:e.showRightBtn.auth,expression:"showRightBtn.auth"}],staticClass:"menu__item",on:{click:e.authFile}},[i("i",{staticClass:"el-icon-user-solid"}),e._v(" 权 限")]),e._v(" "),i("li",{directives:[{name:"show",rawName:"v-show",value:e.showRightBtn.compression,expression:"showRightBtn.compression"}],staticClass:"menu__item",on:{click:e.compressionFile}},[i("i",{staticClass:"el-icon-collection"}),e._v(" 压 缩")]),e._v(" "),i("li",{directives:[{name:"show",rawName:"v-show",value:e.showRightBtn.DeCompression,expression:"showRightBtn.DeCompression"}],staticClass:"menu__item",on:{click:e.DecompressionFile}},[i("i",{staticClass:"el-icon-receiving"}),e._v(" 解 压")]),e._v(" "),i("li",{directives:[{name:"show",rawName:"v-show",value:e.showRightBtn.download,expression:"showRightBtn.download"}],staticClass:"menu__item",on:{click:e.downloadFile}},[i("i",{staticClass:"el-icon-download"}),e._v(" 下 载")]),e._v(" "),i("li",{directives:[{name:"show",rawName:"v-show",value:e.showRightBtn.upload,expression:"showRightBtn.upload"}],staticClass:"menu__item",on:{click:e.uploadFile}},[i("i",{staticClass:"el-icon-upload"}),e._v(" 上 传")]),e._v(" "),i("li",{directives:[{name:"show",rawName:"v-show",value:e.showRightBtn.remove,expression:"showRightBtn.remove"}],staticClass:"menu__item",on:{click:e.deleteFile}},[i("i",{staticClass:"el-icon-delete-solid"}),e._v(" 删 除")])])]),e._v(" "),i("el-col",{directives:[{name:"show",rawName:"v-show",value:e.showIdea,expression:"showIdea"}],attrs:{xl:{span:18,push:1},lg:{span:18,push:1},md:{span:24},sm:{span:24},xs:{span:24}}},[i("el-form",{ref:e.reFrom,attrs:{model:e.fileModel}},[i("el-form-item",{staticStyle:{"margin-left":"-30px !important"}},[i("el-tabs",{staticStyle:{"text-align":"left!important"},attrs:{type:"border-card",closable:""},on:{"tab-click":e.goto,"tab-remove":e.removeTabName},model:{value:e.activeFileTabName,callback:function(t){e.activeFileTabName=t},expression:"activeFileTabName"}},[e._l(e.fileTabs,function(e){return i("el-tab-pane",{key:e.name,attrs:{label:e.label,name:e.name}})}),e._v(" "),i("el-card",{attrs:{shadow:"hover"}},[i("codemirror",{ref:"edit",staticStyle:{"line-height":"20px"},attrs:{value:e.fileModel.content,options:e.options},on:{change:e.updateContent}})],1)],2)],1)],1),e._v(" "),i("Submit",{staticStyle:{"text-align":"center !important"},attrs:{reFrom:e.reFrom,model:e.fileModel,url:e.url,refs:e.refs},on:{success:e.success}})],1)],1),e._v(" "),i("el-dialog",{attrs:{visible:e.syncVisible,modal:e.modal,title:e.title,center:e.center},on:{"update:visible":function(t){e.syncVisible=t}}},[i("el-form",{ref:e.reFrom,attrs:{"label-width":e.labelWidth,model:e.chmodModel,rules:e.rules}},[i("el-form-item",{attrs:{label:"权限",prop:"auth"}},[i("el-input",{attrs:{placeholder:"请输入内容"},on:{change:e.setChmodAuth},model:{value:e.chmodModel.auth,callback:function(t){e.$set(e.chmodModel,"auth",t)},expression:"chmodModel.auth"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"所有者"}},[i("el-checkbox-group",{on:{change:e.allChange},model:{value:e.all,callback:function(t){e.all=t},expression:"all"}},e._l(e.checkBoxArr,function(e){return i("el-checkbox",{key:e.id,attrs:{border:"",size:"small",label:e.value}})}),1)],1),e._v(" "),i("el-form-item",{attrs:{label:"用户组"}},[i("el-checkbox-group",{on:{change:e.userChange},model:{value:e.user,callback:function(t){e.user=t},expression:"user"}},e._l(e.checkBoxArr,function(e){return i("el-checkbox",{key:e.id,attrs:{border:"",size:"small",label:e.value}})}),1)],1),e._v(" "),i("el-form-item",{attrs:{label:"公共"}},[i("el-checkbox-group",{on:{change:e.commonChange},model:{value:e.common,callback:function(t){e.common=t},expression:"common"}},e._l(e.checkBoxArr,function(e){return i("el-checkbox",{key:e.id,attrs:{border:"",size:"small",label:e.value}})}),1)],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("Submit",{attrs:{reFrom:e.reFrom,model:e.chmodModel,url:e.url,refs:e.refs},on:{success:e.success}})],1)],1),e._v(" "),i("el-dialog",{attrs:{visible:e.fileSyncVisible,modal:e.modal,title:"文件上传",center:e.center},on:{"update:visible":function(t){e.fileSyncVisible=t}}},[i("el-upload",{ref:"upload",attrs:{data:e.fileData,action:e.cgi.uploadUrl,"on-remove":e.handleRemove,"on-success":e.handelSuccess,"file-list":e.fileList,"auto-upload":!1}},[i("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[e._v("选取文件")]),e._v(" "),i("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"small",type:"success"},on:{click:e.submitUpload}},[e._v("上传到服务器")])],1)],1),e._v(" "),i("el-dialog",{attrs:{visible:e.imgVisible},on:{"update:visible":function(t){e.imgVisible=t}}},[i("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})])],1)},staticRenderFns:[]};var Me=i("VU/8")(we,Ce,!1,function(e){i("J1cN")},"data-v-3c780dd8",null).exports;i("Mixr"),i("5IAE"),i("aGTD"),i("UM8r"),i("Yokd"),i("THjC"),i("Kk9m"),i("fo6W"),i("fo6W"),i("soCA"),i("vq+x");var Se={name:"lists",components:{Submit:se,Delete:ce,Radio:oe,codemirror:xe.codemirror},data:function(){return{configLists:[],page:1,limit:15,total:0,title:"",syncVisible:!1,modal:!0,labelWidth:"80px",loading:!0,destroy_on_close:!0,center:!0,loadingText:"玩命加载中。。。",url:"",refs:this.$refs,reFrom:"config",configModel:{},configVal:{},cgi:{remove:p.configDelete,status:p.configUpdate,insert:p.configSave,update:p.configUpdate,updateVal:p.configValUpdate},rules:{name:[{required:!0,message:"配置名称不得为空",trigger:"blur"}]},show:!1,showBtn:!0,syncConfigVisible:!1,options:{mode:"application/ld+json",tabSize:4,lineNumbers:!0,theme:"monokai",extraKeys:{"Ctrl-Space":"autocomplete"},lineWrapping:!0,foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"],indentWithTabs:!0,smartIndent:!0,matchBrackets:!0,cursorHeight:1,autoRefresh:!0,styleActiveLine:!0}}},methods:u()({},Object(d.b)(["saveSystemLog","checkAuth"]),{success:function(){this.syncVisible=!1,this.syncConfigVisible=!1,this.getConfigLists(this.page,this.limit)},getConfigLists:function(e,t){var i=this,s={page:e,limit:t};D.ConfigLists(s).then(function(e){e&&200===e.data.code&&(i.configLists=e.data.item,i.total=e.data.item.length,i.loading=!1)})},sizeChange:function(e){this.limit=e,this.getConfigLists(this.page,this.limit)},currentChange:function(e){this.page=e,this.getConfigLists(this.page,this.limit)},updateConfig:function(e){this.title="修改配置",this.syncConfigVisible=!0,this.configModel=e,this.url=this.cgi.update},updateContent:function(e){this.configModel.value=e},addConfig:function(){this.title="添加配置",this.syncVisible=!0,this.configModel={name:"",status:1,value:"[]"},this.show=!1,this.showBtn=!0,this.url=this.cgi.insert},setConfigVal:function(e){this.title="设置【"+e.name+"】配置",this.configVal={name:"",value:"",status:1,id:1},this.show=!0,this.showBtn=!0,this.syncVisible=!0,this.configModel=e,this.configVal.status=this.configModel.status,this.configModel.value=this.configVal,this.url=this.cgi.update},getConfigVal:function(e){this.title="查看配置值",this.show=!0,this.showBtn=!1,this.syncVisible=!0,this.configModel=e,this.configVal.name=e.name,this.configVal.value=e.value},removeConfigVal:function(e){var t=this;this.$confirm("此操作将永远删除该条记录，是否继续？","删除记录",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.checkAuth({url:t.cgi.updateVal}),e.act="remove",D.ConfigValUpdate(e).then(function(e){if(e&&200===e.data.code){t.getConfigLists(t.page,t.limit);var i={url:t.cgi.updateVal,msg:a()({info:e.data.msg,result:e.data.result}),token:t.$store.state.login.token};return t.saveSystemLog(i),t.$message({type:"success",message:e.data.msg}),!1}})}).catch(function(){t.$message({type:"info",message:"已取消删除！"})})}}),mounted:function(){this.$nextTick(function(){this.getConfigLists(this.page,this.limit)})}},Le={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{"element-loading-text":e.loadingText}},[i("el-form",{staticStyle:{"margin-top":"10px"},attrs:{inline:!0}},[i("el-form-item",{staticStyle:{float:"right"}},[i("el-button",{attrs:{icon:"el-icon-plus",type:"primary",size:"medium",plain:""},on:{click:e.addConfig}},[e._v("添 加")])],1)],1),e._v(" "),i("el-table",{attrs:{data:e.configLists,border:"","row-key":"id","tree-props":{children:"children",hasChildren:"hasChildren"}}},[i("el-table-column",{attrs:{label:"#",prop:"id",width:"100px"}}),e._v(" "),i("el-table-column",{attrs:{label:"配置名称",prop:"name"}}),e._v(" "),i("el-table-column",{attrs:{label:"显示状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.children?i("div",[i("Radio",{attrs:{item:t.row,url:e.cgi.status},on:{success:e.success}})],1):e._e()]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"创建时间",prop:"created_at"}}),e._v(" "),i("el-table-column",{attrs:{label:"修改时间",prop:"updated_at"}}),e._v(" "),i("el-table-column",{attrs:{label:"操作",width:"200px"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.children?i("div",{staticStyle:{"text-align":"center"}},[i("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-plus",size:"mini"},on:{click:function(i){return e.setConfigVal(t.row)}}},[e._v("添 加")]),e._v(" "),i("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-edit",size:"mini"},on:{click:function(i){return e.updateConfig(t.row)}}},[e._v("修 改")])],1):i("div",[i("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-search",size:"mini"},on:{click:function(i){return e.getConfigVal(t.row)}}},[e._v("查 看")]),e._v(" "),i("el-button",{attrs:{plain:"",type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:function(i){return e.removeConfigVal(t.row)}}},[e._v("删 除")])],1)]}}])})],1),e._v(" "),i("div",{staticStyle:{margin:"25px 0"}},[i("el-pagination",{attrs:{"page-sizes":[15,30,50,100],"page-size":e.limit,layout:"total, sizes, prev, pager, next, jumper",total:e.total,"current-page":e.page},on:{"size-change":e.sizeChange,"current-change":e.currentChange}})],1),e._v(" "),i("el-dialog",{attrs:{title:e.title,visible:e.syncVisible,modal:e.modal,center:e.center,"destroy-on-close":e.destroy_on_close},on:{"update:visible":function(t){e.syncVisible=t}}},[i("el-form",{ref:e.reFrom,attrs:{"label-width":e.labelWidth,model:e.configModel,rules:e.rules}},[i("el-form-item",{directives:[{name:"show",rawName:"v-show",value:!e.show,expression:"!show"}],attrs:{label:"配置名称",prop:"name"}},[i("el-input",{attrs:{placeholder:"配置名称"},model:{value:e.configModel.name,callback:function(t){e.$set(e.configModel,"name",t)},expression:"configModel.name"}})],1),e._v(" "),i("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],attrs:{label:"配置健"}},[i("el-input",{attrs:{placeholder:"配置内容"},model:{value:e.configVal.name,callback:function(t){e.$set(e.configVal,"name",t)},expression:"configVal.name"}})],1),e._v(" "),i("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],attrs:{label:"配置值"}},[i("el-input",{attrs:{placeholder:"配置内容"},model:{value:e.configVal.value,callback:function(t){e.$set(e.configVal,"value",t)},expression:"configVal.value"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"配置状态",prop:"status"}},[i("el-radio-group",{attrs:{size:"small"},model:{value:e.configModel.status,callback:function(t){e.$set(e.configModel,"status",t)},expression:"configModel.status"}},[i("el-radio-button",{attrs:{label:"2"}},[e._v("关闭")]),e._v(" "),i("el-radio-button",{attrs:{label:"1"}},[e._v("开启")])],1)],1)],1),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.showBtn,expression:"showBtn"}],staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("Submit",{attrs:{reFrom:e.reFrom,model:e.configModel,url:e.url,refs:e.refs},on:{success:e.success}})],1)],1),e._v(" "),i("el-dialog",{attrs:{title:e.title,visible:e.syncConfigVisible,modal:e.modal,center:e.center,"destroy-on-close":e.destroy_on_close},on:{"update:visible":function(t){e.syncConfigVisible=t}}},[i("el-form",{ref:e.reFrom,attrs:{"label-width":e.labelWidth,model:e.configModel,rules:e.rules}},[i("el-form-item",{attrs:{label:"配置名称",prop:"name"}},[i("el-input",{attrs:{placeholder:"配置名称"},model:{value:e.configModel.name,callback:function(t){e.$set(e.configModel,"name",t)},expression:"configModel.name"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"配置值",prop:"value"}},[i("codemirror",{ref:"edit",staticStyle:{"line-height":"20px"},attrs:{value:e.configModel.value,options:e.options},on:{change:e.updateContent}})],1),e._v(" "),i("el-form-item",{attrs:{label:"配置状态",prop:"status"}},[i("el-radio-group",{attrs:{size:"small"},model:{value:e.configModel.status,callback:function(t){e.$set(e.configModel,"status",t)},expression:"configModel.status"}},[i("el-radio-button",{attrs:{label:"2"}},[e._v("关闭")]),e._v(" "),i("el-radio-button",{attrs:{label:"1"}},[e._v("开启")])],1)],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("Submit",{attrs:{reFrom:e.reFrom,model:e.configModel,url:e.url,refs:e.refs},on:{success:e.success}})],1)],1)],1)},staticRenderFns:[]};var Re=i("VU/8")(Se,Le,!1,function(e){i("F5+t")},"data-v-41abe2b3",null).exports,Te=i("fZjL"),Ve=i.n(Te);i("Mixr"),i("5IAE"),i("aGTD"),i("UM8r"),i("Yokd"),i("THjC"),i("Kk9m"),i("fo6W"),i("fo6W"),i("soCA"),i("vq+x");var Oe={name:"lists",components:{Submit:se,Delete:ce,Radio:oe,codemirror:xe.codemirror},data:function(){return{categoryLists:[],props:{label:"name",children:"children",id:"id"},filterText:"",title:"",syncVisible:!1,modal:!0,labelWidth:"80px",loading:!0,center:!0,loadingText:"玩命加载中。。。",url:"",refs:this.$refs,reFrom:"category",apiName:"",menuVisible:!1,categoryModel:{},apiCategory:[],highlight:!0,options:{mode:"application/ld+json",tabSize:4,lineNumbers:!0,theme:"monokai",extraKeys:{"Ctrl-Space":"autocomplete"},lineWrapping:!0,foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"],indentWithTabs:!0,smartIndent:!0,matchBrackets:!0,cursorHeight:1,autoRefresh:!0,styleActiveLine:!0},apiStatus:!1,methodLists:{POST:"POST",GET:"GET",PUT:"PUT",DELETE:"DELETE"},typeLists:{String:"String",Float:"Float",Number:"Number",Object:"Object",Timestamp:"Timestamp"},cgi:{insert:p.apiSave,update:p.apiUpdate,categoryInsert:p.categorySave,categoryUpdate:p.categoryUpdate,remove:p.categoryDelete},rules:{type:[{required:!0,message:"请输入权限名称",trigger:"change"}],href:[{required:!0,message:"请输入权限地址",trigger:"blur"}],method:[{required:!0,message:"请输入请求方法",trigger:"change"}],desc:[{required:!0,message:"请输入接口描述",trigger:"blur"}],response_string:[{required:!0,message:"请输入返回参数",trigger:"blur"}]}}},watch:{filterText:function(e){this.$refs.tree.filter(e)}},computed:u()({},Object(d.c)(["apiVisible","apiModel","interfaceName"])),methods:u()({},Object(d.b)(["addApiVisible","addApiModel","saveSystemLog"]),{success:function(){this.getCategoryLists(),this.syncVisible=!1},filterNode:function(e,t){return!e||-1!==t.name.indexOf(e)},setName:function(e){return Array(e.level+1).join("　　")+e.name},getCategoryLists:function(){var e=this;D.CategoryLists().then(function(t){t&&200===t.data.code&&(e.apiCategory=t.data.item.category,e.categoryLists=t.data.item.category_tree,e.loading=!1)})},rightClick:function(e,t,i,s){this.menuVisible=!1,this.menuVisible=!0;var a=document.querySelector("#menu");document.addEventListener("click",this.foo),a.style.left="275px",a.style.top=e.screenY-185+"px",this.categoryModel=t},foo:function(){this.menuVisible=!1,document.removeEventListener("click",this.foo)},addCategory:function(){this.title="添加接口",this.syncVisible=!0,this.url=this.cgi.categoryInsert,this.categoryModel={name:"",pid:this.categoryModel.id,path:"1",level:1}},updateCategory:function(){this.title=this.categoryModel.name,this.syncVisible=!0,this.url=this.cgi.categoryUpdate},deleteCategory:function(){var e=this;D.CategoryDelete({id:this.categoryModel.value}).then(function(t){if(t&&200===t.data.code){var i={msg:a()({url:e.cgi.remove,info:t.data.msg,result:t.data.result}),token:e.$store.state.login.token};e.saveSystemLog(i),e.$message({type:"success",message:t.data.msg}),e.getCategoryLists()}})},getApiDetail:function(e){var t=this;if(0!==e.level){var i={apiVisible:!0,interfaceName:e.name};this.addApiVisible(i),this.apiName=this.interfaceName,D.ApiLists({type:e.id}).then(function(i){if(i&&200===i.data.code)t.addApiModel(i.data.item),t.apiModel.request=JSON.parse(t.apiModel.request),t.apiModel.response=JSON.parse(t.apiModel.response),t.url=t.cgi.update;else{t.url=t.cgi.insert;var s={desc:"",type:e.id,href:"",method:"POST",request:[{name:"token",desc:"用户token",required:"1",type:"String",val:""}],response:[{name:"code",desc:"200 成功",type:"number"},{name:"msg",desc:"Success",type:"string"}],response_string:"",remark:""};t.addApiModel(s)}})}else this.$notify({title:"通知",message:"该接口暂时不允许访问",type:"success"})},requestRemove:function(e,t){var i=[],s=this;Ve()(s.apiModel.request).forEach(function(e){i.push(s.apiModel.request[e])}),i.splice(t,1),s.apiModel.request=i},requestAdd:function(){this.apiModel.request.push({name:"",desc:"",required:"",type:"",val:""})},responseRemove:function(e,t){var i=[],s=this;Ve()(s.apiModel.response).forEach(function(e){i.push(s.apiModel.response[e])}),i.splice(t,1),s.apiModel.response=i},responseAdd:function(){this.apiModel.response.push({name:"",desc:"",type:""})},updateContent:function(e){this.apiModel.response_string=e}}),created:function(){this.apiName=this.interfaceName},mounted:function(){this.$nextTick(function(){this.getCategoryLists()})}},Ue={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{"element-loading-text":e.loadingText}},[i("el-row",{attrs:{gutter:24}},[i("el-col",{staticStyle:{"margin-bottom":"20px"},attrs:{xl:{span:4},lg:{span:4},md:{span:24},sm:{span:24},xs:{span:24}}},[i("el-input",{attrs:{placeholder:"输入关键字搜索"},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}})],1)],1),e._v(" "),i("el-row",{attrs:{gutter:24}},[i("el-col",{staticStyle:{"margin-bottom":"20px"},attrs:{xl:{span:4},lg:{span:4},md:{span:24},sm:{span:24},xs:{span:24}}},[i("el-tree",{ref:"tree",staticStyle:{"background-color":"#393d49"},attrs:{props:e.props,"filter-node-method":e.filterNode,"highlight-current":e.highlight,data:e.categoryLists,"default-expand-all":"","node-key":e.props.id},on:{"node-contextmenu":e.rightClick,"node-click":e.getApiDetail}})],1),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.menuVisible,expression:"menuVisible"}]},[i("ul",{staticClass:"menu",attrs:{id:"menu"}},[i("li",{staticClass:"menu__item",on:{click:e.addCategory}},[i("i",{staticClass:"el-icon-circle-plus-outline"}),e._v(" 添 加")]),e._v(" "),i("li",{staticClass:"menu__item",on:{click:e.updateCategory}},[i("i",{staticClass:"el-icon-edit-outline"}),e._v(" 修 改")]),e._v(" "),i("li",{staticClass:"menu__item",on:{click:e.deleteCategory}},[i("i",{staticClass:"el-icon-delete-solid"}),e._v(" 删 除")])])]),e._v(" "),i("el-col",{directives:[{name:"show",rawName:"v-show",value:e.apiVisible,expression:"apiVisible"}],attrs:{xl:{span:19,push:1},lg:{span:19,push:1},md:{span:24},sm:{span:24},xs:{span:24}}},[i("el-tabs",{attrs:{type:"border-card"},model:{value:e.apiName,callback:function(t){e.apiName=t},expression:"apiName"}},[i("el-tab-pane",{key:e.apiName,attrs:{label:e.apiName,name:e.apiName}}),e._v(" "),i("el-card",{attrs:{shadow:"hover"}},[i("el-form",{ref:e.reFrom,attrs:{"label-width":e.labelWidth,model:e.apiModel,rules:e.rules}},[i("el-form-item",{attrs:{label:"接口名称",prop:"type"}},[i("el-select",{staticStyle:{width:"100%"},attrs:{"auto-complete":"true",placeholder:"接口名称"},model:{value:e.apiModel.type,callback:function(t){e.$set(e.apiModel,"type",t)},expression:"apiModel.type"}},e._l(e.apiCategory,function(t,s){return i("el-option",{key:s,attrs:{label:e.setName(t),value:t.id}})}),1)],1),e._v(" "),i("el-form-item",{attrs:{label:"接口描述",prop:"desc"}},[i("el-input",{attrs:{placeholder:"接口描述"},model:{value:e.apiModel.desc,callback:function(t){e.$set(e.apiModel,"desc",t)},expression:"apiModel.desc"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"接口地址",prop:"href"}},[i("el-input",{attrs:{placeholder:"接口地址"},model:{value:e.apiModel.href,callback:function(t){e.$set(e.apiModel,"href",t)},expression:"apiModel.href"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"接口方法",prop:"method"}},[i("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"接口方法"},model:{value:e.apiModel.method,callback:function(t){e.$set(e.apiModel,"method",t)},expression:"apiModel.method"}},e._l(e.methodLists,function(e,t){return i("el-option",{key:t,attrs:{label:e,value:t}})}),1)],1),e._v(" "),i("el-form-item",{attrs:{label:"请求字段",prop:"request"}},[i("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-plus",size:"medium"},on:{click:function(t){return e.requestAdd()}}}),e._v(" "),e._l(e.apiModel.request,function(t,s){return i("div",{key:s},[i("el-input",{staticStyle:{width:"195px","margin-bottom":"5px"},attrs:{"auto-complete":"true",placeholder:"参数名"},model:{value:t.name,callback:function(i){e.$set(t,"name",i)},expression:"request.name"}}),e._v(" "),i("el-select",{staticStyle:{width:"195px"},attrs:{"auto-complete":"true",placeholder:"字段类型"},model:{value:t.type,callback:function(i){e.$set(t,"type",i)},expression:"request.type"}},e._l(e.typeLists,function(e,t){return i("el-option",{key:t,attrs:{label:e,value:t}})}),1),e._v(" "),i("el-select",{staticStyle:{width:"195px"},attrs:{placeholder:"是否必须"},model:{value:t.required,callback:function(i){e.$set(t,"required",i)},expression:"request.required"}},[i("el-option",{attrs:{label:"是",value:"1"}}),e._v(" "),i("el-option",{attrs:{label:"否",value:"0"}})],1),e._v(" "),i("el-input",{staticStyle:{width:"195px"},attrs:{"auto-complete":"true",placeholder:"参数描述"},model:{value:t.desc,callback:function(i){e.$set(t,"desc",i)},expression:"request.desc"}}),e._v(" "),i("el-input",{staticStyle:{width:"195px"},attrs:{"auto-complete":"true",placeholder:"参数值"},model:{value:t.val,callback:function(i){e.$set(t,"val",i)},expression:"request.val"}}),e._v(" "),i("el-button",{attrs:{type:"danger",plain:"",icon:"el-icon-delete",size:"medium"},on:{click:function(i){return e.requestRemove(t,s)}}})],1)})],2),e._v(" "),i("el-form-item",{attrs:{label:"返回参数",prop:"response_string"}},[i("codemirror",{ref:"edit",staticStyle:{"line-height":"20px"},attrs:{value:e.apiModel.response_string,options:e.options},on:{change:e.updateContent}})],1),e._v(" "),i("el-form-item",{attrs:{label:"返回字段",prop:"response"}},[i("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-plus",size:"medium"},on:{click:function(t){return e.responseAdd()}}}),e._v(" "),e._l(e.apiModel.response,function(t,s){return i("div",{key:s},[i("el-input",{staticStyle:{width:"195px","margin-bottom":"5px"},attrs:{"auto-complete":"true",placeholder:"参数名"},model:{value:t.name,callback:function(i){e.$set(t,"name",i)},expression:"response.name"}}),e._v(" "),i("el-select",{staticStyle:{width:"195px"},attrs:{"auto-complete":"true",placeholder:"字段类型"},model:{value:t.type,callback:function(i){e.$set(t,"type",i)},expression:"response.type"}},e._l(e.typeLists,function(e,t){return i("el-option",{key:t,attrs:{label:e,value:t}})}),1),e._v(" "),i("el-input",{staticStyle:{width:"200px"},attrs:{"auto-complete":"true",placeholder:"参数描述"},model:{value:t.desc,callback:function(i){e.$set(t,"desc",i)},expression:"response.desc"}}),e._v(" "),i("el-button",{attrs:{type:"danger",icon:"el-icon-delete",plain:"",size:"medium"},on:{click:function(i){return e.responseRemove(t,s)}}})],1)})],2),e._v(" "),i("el-form-item",{attrs:{label:"备注",prop:"remark"}},[i("el-input",{attrs:{placeholder:"备注",type:"textarea"},model:{value:e.apiModel.remark,callback:function(t){e.$set(e.apiModel,"remark",t)},expression:"apiModel.remark"}})],1),e._v(" "),i("Submit",{staticStyle:{"text-align":"center"},attrs:{reFrom:e.reFrom,model:e.apiModel,url:e.url,refs:e.refs},on:{success:e.success}})],1)],1)],1)],1)],1),e._v(" "),i("el-dialog",{attrs:{title:e.title,visible:e.syncVisible,modal:e.modal,center:e.center},on:{"update:visible":function(t){e.syncVisible=t}}},[i("el-form",{ref:e.reFrom,attrs:{"label-width":e.labelWidth,model:e.categoryModel,rules:e.rules}},[i("el-form-item",{attrs:{label:"接口名称",prop:"name"}},[i("el-input",{attrs:{placeholder:"分类名称"},model:{value:e.categoryModel.name,callback:function(t){e.$set(e.categoryModel,"name",t)},expression:"categoryModel.name"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"接口上级",prop:"pid"}},[i("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"接口上级"},model:{value:e.categoryModel.pid,callback:function(t){e.$set(e.categoryModel,"pid",t)},expression:"categoryModel.pid"}},e._l(e.apiCategory,function(t,s){return i("el-option",{key:s,attrs:{label:e.setName(t),value:t.id}})}),1)],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("Submit",{attrs:{reFrom:e.reFrom,model:e.categoryModel,url:e.url,refs:e.refs},on:{success:e.success}})],1)],1)],1)},staticRenderFns:[]};var Ne=i("VU/8")(Oe,Ue,!1,function(e){i("YwE0")},"data-v-10e4c09c",null).exports,Fe={name:"lists",data:function(){return{databaseLists:[],labelWidth:"80px",loading:!0,loadingText:"玩命加载中。。。",edit:!1,name:"",search:""}},methods:{getDatabaseLists:function(){var e=this;D.DatabaseLists([]).then(function(t){t&&200===t.data.code&&(e.databaseLists=t.data.item,e.loading=!1)})},BACKUP:function(e){var t=this;this.loading=!0,D.DatabaseBackup(e).then(function(e){e&&200===e.data.code&&setTimeout(function(){t.loading=!1,t.$message({type:"success",message:e.data.msg})},e.data.item.times)})},setComment:function(e){this.name=e.name,this.edit=!0},updateComment:function(e){var t=this;this.loading=!0,D.DatabaseUpdateComment(e).then(function(e){t.loading=!1,e&&200===e.data.code&&(t.$message({type:"success",message:e.data.msg}),t.edit=!1,t.name="")})},REPAIR:function(e){var t=this;this.loading=!0,D.DatabaseRepair(e).then(function(e){e&&200===e.data.code&&(t.loading=!1,t.$message({type:"success",message:e.data.msg}))})},OPTIMIZE:function(e){var t=this;this.loading=!0,D.DatabaseOptimize(e).then(function(e){e&&200===e.data.code&&(t.loading=!1,t.$message({type:"success",message:e.data.msg}))})}},mounted:function(){this.$nextTick(function(){this.getDatabaseLists()})}},Ae={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{"element-loading-text":e.loadingText}},[i("el-table",{attrs:{border:"",data:e.databaseLists.filter(function(t){return!e.search||t.name.toLowerCase().includes(e.search.toLowerCase())})}},[i("el-table-column",{attrs:{label:"表名",prop:"name",width:"150"}}),e._v(" "),i("el-table-column",{attrs:{label:"版本号",prop:"version",width:"100"}}),e._v(" "),i("el-table-column",{attrs:{label:"引擎",prop:"engine",width:"100"}}),e._v(" "),i("el-table-column",{attrs:{label:"数据表大小",prop:"data_length",sortable:"",width:"120"}}),e._v(" "),i("el-table-column",{attrs:{label:"自增量",prop:"auto_increment",sortable:"",width:"100"}}),e._v(" "),i("el-table-column",{attrs:{label:"字符集编码",prop:"collation"}}),e._v(" "),i("el-table-column",{attrs:{label:"备注"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.name===e.name&&e.edit?i("el-input",{model:{value:t.row.comment,callback:function(i){e.$set(t.row,"comment",i)},expression:"scope.row.comment"}},[i("el-button",{attrs:{slot:"append",icon:"el-icon-edit",plain:"",type:"primary"},on:{click:function(i){return e.updateComment(t.row)}},slot:"append"})],1):i("div",{domProps:{innerHTML:e._s(t.row.comment)}})]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"创建时间",sortable:"",prop:"create_time"}}),e._v(" "),i("el-table-column",{attrs:{width:"350px",align:"right"},scopedSlots:e._u([{key:"header",fn:function(t){return[i("el-input",{attrs:{placeholder:"输入关键词查询"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})]}},{key:"default",fn:function(t){return[i("el-button",{attrs:{type:"primary",plain:"",size:"mini",icon:"el-icon-edit"},on:{click:function(i){return e.setComment(t.row)}}},[e._v("修 改")]),e._v(" "),i("el-button",{attrs:{type:"primary",plain:"",size:"mini"},on:{click:function(i){return e.BACKUP(t.row)}}},[e._v("备 份")]),e._v(" "),i("el-button",{attrs:{type:"primary",plain:"",size:"mini"},on:{click:function(i){return e.REPAIR(t.row)}}},[e._v("修 复")]),e._v(" "),i("el-button",{attrs:{type:"primary",plain:"",size:"mini"},on:{click:function(i){return e.OPTIMIZE(t.row)}}},[e._v("优 化")])]}}])})],1)],1)},staticRenderFns:[]};var ze=i("VU/8")(Fe,Ae,!1,function(e){i("7CFH")},"data-v-a9fe1488",null).exports,De={name:"lists",components:{Submit:se,Delete:ce,Radio:oe},data:function(){return{oauthLists:[],roleLists:[],page:1,limit:15,total:0,search:"",title:"",syncVisible:!1,modal:!1,labelWidth:"80px",loading:!0,destroy_on_close:!0,center:!0,loadingText:"玩命加载中。。。",url:"",refs:this.$refs,reFrom:"role",OauthModel:{},oauthImageLists:[],fileData:{},showCode:!1,cgi:{remove:p.oauthDelete,status:p.oauthUpdate,update:p.oauthUpdate,uploadUrl:"https://www.fanglonger.com/api/"+p.fileUpload},rules:{username:[{required:!0,message:"用户名不得为空",trigger:"blur"}],avatar_url:[{required:!0,message:"用户头像不得为空",trigger:"blur"}],status:[{required:!0,message:"用户状态不得为空",trigger:"change"}],role_id:[{required:!0,message:"角色名称不为为空",trigger:"blur"}],email:[{required:!0,message:"邮箱不得为空",trigger:"blur"}],code:[{required:!0,message:"验证码不得为空",trigger:"blur"}]},headers:{},onlineUser:[]}},computed:u()({},Object(d.c)(["token","username","socketServer"])),methods:{success:function(){this.syncVisible=!1,this.getOauthLists(this.page,this.limit)},getOauthLists:function(e,t){var i=this,s={page:e,limit:t};D.OauthLists(s).then(function(e){e&&200===e.data.code&&(i.oauthLists=e.data.item.data,i.total=e.data.item.total,i.oauthImageLists=e.data.item.avatar_url_lists,i.roleLists=e.data.item.roleLists,i.loading=!1)})},uploadSuccess:function(e){if(e&&200===e.code)return this.$message({type:"success",message:e.msg}),void(this.OauthModel.avatar_url=e.item.src);this.$message({type:"warning",message:e.msg})},beforeUpload:function(e){var t=e.type;return["image/jpg","image/gif","image/png","image/jpeg"].includes(t)?!(e.size>2097152)||(this.$message({type:"warning",message:"upload image size error"}),!1):(this.$message({type:"warning",message:"upload image format error"}),!1)},sendMail:function(e){var t=this,i={email:e.email,id:e.id,username:e.username,remember_token:e.remember_token};D.SendEmail(i).then(function(e){e&&200===e.data.code&&(t.$message({type:"success",message:e.data.msg}),t.showCode=!0)})},checkCode:function(e){var t=this,i={code:e.code,id:e.id};D.VerifyCode(i).then(function(i){i&&200===i.data.code?t.$message({type:"success",message:i.data.msg}):e.code=""})},sizeChange:function(e){this.limit=e,this.getOauthLists(this.page,this.limit)},currentChange:function(e){this.page=e,this.getOauthLists(this.page,this.limit)},updateOauth:function(e){this.title="修改授权用户",this.syncVisible=!0,this.OauthModel=e,this.showCode=!1,this.url=this.cgi.update}},created:function(){this.fileData.token=this.token,this.fileData.rand=!0,this.headers.Authorization=L.a.set_password(L.a.set_random(32),L.a.set_random(12))+"-"+this.token+"-"+L.a.set_password(L.a.set_random(32),L.a.set_random(12))},mounted:function(){this.$nextTick(function(){this.getOauthLists(this.page,this.limit)})}},Ee={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{"element-loading-text":e.loadingText}},[i("el-table",{attrs:{data:e.oauthLists.filter(function(t){return!e.search||t.username.toLowerCase().includes(e.search.toLowerCase())||t.oauth_type.toLowerCase().includes(e.search.toLowerCase())}),border:""}},[i("el-table-column",{attrs:{label:"#",prop:"id"}}),e._v(" "),i("el-table-column",{attrs:{label:"用户名",prop:"username"}}),e._v(" "),i("el-table-column",{attrs:{label:"头像"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-image",{staticStyle:{width:"50px",height:"50px"},attrs:{src:t.row.avatar_url,fit:"cover",title:t.row.username,"preview-src-list":e.oauthImageLists}})]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"账号来源",prop:"oauth_type"}}),e._v(" "),i("el-table-column",{attrs:{label:"显示状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("Radio",{attrs:{item:t.row,url:e.cgi.status}})]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"创建时间",prop:"created_at"}}),e._v(" "),i("el-table-column",{attrs:{label:"修改时间",prop:"updated_at"}}),e._v(" "),i("el-table-column",{attrs:{label:"操作",align:"right"},scopedSlots:e._u([{key:"header",fn:function(t){return[i("el-input",{attrs:{placeholder:"请输入关键词查询"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})]}},{key:"default",fn:function(t){return[i("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-edit",size:"mini"},on:{click:function(i){return e.updateOauth(t.row)}}},[e._v("修 改")]),e._v(" "),i("Delete",{attrs:{url:e.cgi.remove,item:t.row,index:t.$index,Lists:e.oauthLists},on:{success:e.success}})]}}])})],1),e._v(" "),i("div",{staticStyle:{margin:"25px 0"}},[i("el-pagination",{attrs:{"page-sizes":[15,30,50,100],"page-size":e.limit,layout:"total, sizes, prev, pager, next, jumper",total:e.total,"current-page":e.page},on:{"size-change":e.sizeChange,"current-change":e.currentChange}})],1),e._v(" "),i("el-dialog",{attrs:{title:e.title,visible:e.syncVisible,modal:e.modal,center:e.center,"destroy-on-close":e.destroy_on_close},on:{"update:visible":function(t){e.syncVisible=t}}},[i("el-form",{ref:e.reFrom,attrs:{"label-width":e.labelWidth,model:e.OauthModel,rules:e.rules}},[i("el-form-item",{attrs:{label:"用户名称",prop:"username"}},[i("el-input",{model:{value:e.OauthModel.username,callback:function(t){e.$set(e.OauthModel,"username",t)},expression:"OauthModel.username"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"邮箱账号",prop:"email"}},[i("el-input",{model:{value:e.OauthModel.email,callback:function(t){e.$set(e.OauthModel,"email",t)},expression:"OauthModel.email"}},[e.OauthModel.code?i("el-button",{attrs:{slot:"append",plain:"",type:"primary",icon:"el-icon-edit"},on:{click:function(t){return e.sendMail(e.OauthModel)}},slot:"append"},[e._v("修 改")]):i("el-button",{attrs:{slot:"append",plain:"",type:"primary",icon:"el-icon-circle-plus"},on:{click:function(t){return e.sendMail(e.OauthModel)}},slot:"append"},[e._v("绑 定")])],1)],1),e._v(" "),e.showCode?i("el-form-item",{attrs:{label:"验证码",prop:"code"}},[i("el-input",{on:{blur:function(t){return e.checkCode(e.OauthModel)}},model:{value:e.OauthModel.code,callback:function(t){e.$set(e.OauthModel,"code",t)},expression:"OauthModel.code"}})],1):e._e(),e._v(" "),i("el-form-item",{attrs:{label:"用户头像",prop:"avatar_url"}},[i("el-upload",{attrs:{action:e.cgi.uploadUrl,data:e.fileData,headers:e.headers,"show-file-list":!1,"on-success":e.uploadSuccess,"before-upload":e.beforeUpload}},[i("el-image",{staticStyle:{width:"100px",height:"100px"},attrs:{src:e.OauthModel.avatar_url,title:e.OauthModel.username,fit:"cover"}})],1)],1),e._v(" "),"admin"===e.username?i("el-form-item",{attrs:{label:"角色",prop:"role_id"}},[i("el-select",{staticStyle:{width:"100%"},model:{value:e.OauthModel.role_id,callback:function(t){e.$set(e.OauthModel,"role_id",t)},expression:"OauthModel.role_id"}},e._l(e.roleLists,function(e,t){return i("el-option",{key:t,attrs:{label:e.role_name,value:e.id}})}),1)],1):e._e(),e._v(" "),i("el-form-item",{attrs:{label:"用户状态",prop:"status"}},[i("el-radio-group",{attrs:{size:"small"},model:{value:e.OauthModel.status,callback:function(t){e.$set(e.OauthModel,"status",t)},expression:"OauthModel.status"}},[i("el-radio-button",{attrs:{label:"2"}},[e._v("关闭")]),e._v(" "),i("el-radio-button",{attrs:{label:"1"}},[e._v("开启")])],1)],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("Submit",{attrs:{reFrom:e.reFrom,model:e.OauthModel,url:e.url,refs:e.refs},on:{success:e.success}})],1)],1)],1)},staticRenderFns:[]};var Ie=i("VU/8")(De,Ee,!1,function(e){i("OGei")},"data-v-73d50a02",null).exports,qe={name:"lists",components:{Submit:se,Delete:ce,Radio:oe},data:function(){return{reqRuleLists:[],ruleLists:[],userLists:[],page:1,limit:15,total:0,search:"",title:"",syncVisible:!1,modal:!0,labelWidth:"80px",loading:!0,destroy_on_close:!0,center:!0,loadingText:"玩命加载中。。。",url:"",refs:this.$refs,reFrom:"reqRule",reqRuleModel:{},cgi:{remove:p.reqRuleDelete,status:p.reqRuleUpdate,update:p.reqRuleUpdate,insert:p.reqRuleSave},rules:{username:[{required:!0,message:"申请人不得为空",trigger:"blur"}],href:[{required:!0,message:"授权地址不得为空",trigger:"change"}],expires:[{required:!0,message:"授权时效不得为空",trigger:"change"}],desc:[{required:!0,message:"申请理由不得为空",trigger:"blur"}],status:[{required:!0,message:"授权状态不得为空",trigger:"blur"}]},pickerOptions:{disabledDate:function(e){return e.getTime()<Date.now()},shortcuts:[{text:"一星期",onClick:function(e){var t=new Date;t.setTime(t.getTime()+6048e5),e.$emit("pick",t)}},{text:"一个月",onClick:function(e){var t=new Date;t.setTime(t.getTime()+2592e6),e.$emit("pick",t)}},{text:"三个月",onClick:function(e){var t=new Date;t.setTime(t.getTime()+7776e6),e.$emit("pick",t)}},{text:"六个月",onClick:function(e){var t=new Date;t.setTime(t.getTime()+15552e6),e.$emit("pick",t)}},{text:"一年",onClick:function(e){var t=new Date;t.setTime(t.getTime()+31104e6),e.$emit("pick",t)}}]}}},computed:u()({},Object(d.c)(["username","token"])),methods:{success:function(){this.syncVisible=!1,this.getReqRuleLists(this.page,this.limit)},setTimes:function(e){return L.a.set_time(1e3*e)},getReqRuleLists:function(e,t){var i=this,s={page:e,limit:t};D.ReqRuleLists(s).then(function(e){e&&200===e.data.code&&(i.loading=!1,i.reqRuleLists=e.data.item.data,i.total=e.data.item.total,i.userLists=e.data.item.userLists)})},setAuthName:function(e){return Array(e.level+1).join("　　")+e.name},sizeChange:function(e){this.limit=e,this.getReqRuleLists(this.page,this.limit)},currentChange:function(e){this.page=e,this.getReqRuleLists(this.page,this.limit)},addReqRule:function(){this.title="权限申请",this.syncVisible=!0,this.reqRuleModel={username:"",href:"",desc:"",expires:"",status:1},this.url=this.cgi.insert},getAuth:function(e){var t=this,i={username:e};D.GetAuthByToken(i).then(function(e){e&&200===e.data.code&&(t.ruleLists=e.data.item)})},updateReqRule:function(e){this.title="权限续期",this.syncVisible=!0,this.reqRuleModel=e,this.reqRuleModel.href=[this.reqRuleModel.href],this.ruleLists=this.reqRuleModel.ruleLists,this.url=this.cgi.update}},mounted:function(){this.$nextTick(function(){this.getReqRuleLists(this.page,this.limit)})}},We={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{"element-loading-text":e.loadingText}},[i("el-form",{staticStyle:{"margin-top":"10px"},attrs:{inline:!0}},[i("el-form-item",{staticStyle:{float:"right"}},[i("el-button",{attrs:{icon:"el-icon-plus",type:"primary",size:"medium",plain:""},on:{click:e.addReqRule}},[e._v("添 加")])],1)],1),e._v(" "),i("el-table",{attrs:{data:e.reqRuleLists.filter(function(t){return!e.search||t.username.toLowerCase().includes(e.search.toLowerCase())||t.href.includes(e.search.toLowerCase())}),border:""}},[i("el-table-column",{attrs:{label:"#",prop:"id",width:"120px",sortable:""}}),e._v(" "),i("el-table-column",{attrs:{label:"申请人",prop:"username",width:"150px"}}),e._v(" "),i("el-table-column",{attrs:{label:"授权地址",prop:"href"}}),e._v(" "),"admin"===e.username?i("el-table-column",{attrs:{label:"授权状态",width:"150px"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("Radio",{attrs:{item:t.row,url:e.cgi.status},on:{success:e.success}})]}}],null,!1,1057654114)}):e._e(),e._v(" "),"admin"!==e.username?i("el-table-column",{attrs:{label:"授权状态",width:"150px"},scopedSlots:e._u([{key:"default",fn:function(t){return[1===t.row.status?i("el-button",{attrs:{type:"success",size:"mini"}},[e._v("已授权")]):e._e(),e._v(" "),2===t.row.status?i("el-button",{attrs:{type:"info",size:"mini"}},[e._v("未授权")]):e._e()]}}],null,!1,3706176486)}):e._e(),e._v(" "),i("el-table-column",{attrs:{label:"创建时间",prop:"created_at",sortable:""}}),e._v(" "),i("el-table-column",{attrs:{label:"修改时间",prop:"updated_at",sortable:""}}),e._v(" "),i("el-table-column",{attrs:{label:"权限时效",prop:"expires",sortable:""}}),e._v(" "),i("el-table-column",{attrs:{label:"操作",width:"200px",align:"right"},scopedSlots:e._u([{key:"header",fn:function(t){return[i("el-input",{attrs:{placeholder:"请输入关键字查询"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})]}},{key:"default",fn:function(t){return[1===t.row.status?i("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-plus",size:"mini"},on:{click:function(i){return e.updateReqRule(t.row)}}},[e._v("续 期")]):e._e(),e._v(" "),i("Delete",{attrs:{url:e.cgi.remove,item:t.row,index:t.$index,Lists:e.reqRuleLists},on:{success:e.success}})]}}])})],1),e._v(" "),i("div",{staticStyle:{margin:"25px 0"}},[i("el-pagination",{attrs:{"page-sizes":[15,30,50,100],"page-size":e.limit,layout:"total, sizes, prev, pager, next, jumper",total:e.total,"current-page":e.page},on:{"size-change":e.sizeChange,"current-change":e.currentChange}})],1),e._v(" "),i("el-dialog",{attrs:{title:e.title,visible:e.syncVisible,modal:e.modal,center:e.center,"destroy-on-close":e.destroy_on_close},on:{"update:visible":function(t){e.syncVisible=t}}},[i("el-form",{ref:e.reFrom,attrs:{"label-width":e.labelWidth,model:e.reqRuleModel,rules:e.rules}},[i("el-form-item",{attrs:{label:"申请人",prop:"username"}},[i("el-select",{staticStyle:{width:"100%"},attrs:{filterable:""},on:{change:e.getAuth},model:{value:e.reqRuleModel.username,callback:function(t){e.$set(e.reqRuleModel,"username",t)},expression:"reqRuleModel.username"}},e._l(e.userLists,function(e,t){return i("el-option",{key:t,attrs:{label:e.username,value:e.username}})}),1)],1),e._v(" "),i("el-form-item",{attrs:{label:"授权地址",prop:"href"}},[i("el-select",{staticStyle:{width:"100%"},attrs:{multiple:"multiple",filterable:""},model:{value:e.reqRuleModel.href,callback:function(t){e.$set(e.reqRuleModel,"href",t)},expression:"reqRuleModel.href"}},e._l(e.ruleLists,function(t,s){return i("el-option",{key:s,attrs:{label:e.setAuthName(t),value:t.href,disabled:t.disable}})}),1)],1),e._v(" "),i("el-form-item",{attrs:{label:"授权时间",prop:"expires"}},[i("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选择授权时间","picker-options":e.pickerOptions},model:{value:e.reqRuleModel.expires,callback:function(t){e.$set(e.reqRuleModel,"expires",t)},expression:"reqRuleModel.expires"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"授权说明",prop:"desc"}},[i("el-input",{attrs:{type:"textarea"},model:{value:e.reqRuleModel.desc,callback:function(t){e.$set(e.reqRuleModel,"desc",t)},expression:"reqRuleModel.desc"}})],1),e._v(" "),"admin"===e.username?i("el-form-item",{attrs:{label:"是否授权",prop:"status"}},[i("el-radio-group",{attrs:{size:"small"},model:{value:e.reqRuleModel.status,callback:function(t){e.$set(e.reqRuleModel,"status",t)},expression:"reqRuleModel.status"}},[i("el-radio-button",{attrs:{label:"2"}},[e._v("否")]),e._v(" "),i("el-radio-button",{attrs:{label:"1"}},[e._v("是")])],1)],1):e._e()],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("Submit",{attrs:{reFrom:e.reFrom,model:e.reqRuleModel,url:e.url,refs:e.refs},on:{success:e.success}})],1)],1)],1)},staticRenderFns:[]};var Be=i("VU/8")(qe,We,!1,function(e){i("TsDt")},"data-v-6907e8f0",null).exports,je={name:"lists",data:function(){return{areaLists:[],loading:!0,loadingText:"玩命加载中。。。",search:"",pid:1}},methods:{getAreaLists:function(e){var t=this;D.AreaLists({parent_id:e}).then(function(e){e&&200===e.data.code&&(t.areaLists=e.data.item,t.loading=!1)})},load:function(e,t,i){D.AreaLists({parent_id:e.id}).then(function(e){e&&200===e.data.code&&setTimeout(function(){i(e.data.item)},500)})},getWeather:function(e){var t={code:e.code,id:e.id};D.AreaWeather(t).then(function(e){e&&200===e.data.code&&console.log(e)})}},mounted:function(){this.$nextTick(function(){this.getAreaLists(this.pid)})}},$e={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{"element-loading-text":e.loadingText}},[i("el-table",{attrs:{data:e.areaLists.filter(function(t){return!e.search||t.name.toLowerCase().includes(e.search.toLowerCase())}),"row-key":"id","tree-props":{children:"__child",hasChildren:"hasChildren"},lazy:"",load:e.load}},[i("el-table-column",{attrs:{label:"地区名称",prop:"name"}}),e._v(" "),i("el-table-column",{attrs:{label:"天气"}}),e._v(" "),i("el-table-column",{attrs:{align:"right"},scopedSlots:e._u([{key:"header",fn:function(t){return[i("el-input",{attrs:{placeholder:"输入关键词查询"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})]}},{key:"default",fn:function(t){return[i("el-button",{attrs:{size:"mini",plain:"",type:"primary",icon:"el-icon-search"},on:{click:function(i){return e.getWeather(t.row)}}},[e._v("点击查看")])]}}])})],1)],1)},staticRenderFns:[]};var Pe=i("VU/8")(je,$e,!1,function(e){i("vvlJ")},"data-v-80bb1a64",null).exports,Ze={name:"lists",components:{Submit:se,Delete:ce,Radio:oe},data:function(){return{pushLists:[],page:1,limit:15,state:"",status:"",total:0,search:"",oauthLists:[],title:"",syncVisible:!1,modal:!0,labelWidth:"80px",loading:!0,destroy_on_close:!0,center:!0,loadingText:"玩命加载中。。。",url:"",refs:this.$refs,reFrom:"push",pushModel:{},cgi:{insert:p.pushSave,update:p.pushUpdate,remove:p.pushDelete,status:p.pushUpdate},rules:{info:[{required:!0,message:"站内推送信息不得为空",trigger:"blur"}]},pushState:[{val:"successfully",label:"成功",type:"success"},{val:"failed",label:"失败",type:"danger"},{val:"offline",label:"离线",type:"default"}]}},methods:{success:function(){this.syncVisible=!1,this.getPushLists(this.page,this.limit)},setTimes:function(e){return L.a.set_time(1e3*e)},setType:function(e){var t="";switch(e){case"failed":t="danger";break;case"successfully":t="success";break;case"offline":t="default"}return t},getPushLists:function(e,t){var i=this,s={page:e,limit:t,state:this.state,status:this.status};D.PushList(s).then(function(e){i.pushLists=e.data.item.data,i.total=e.data.item.total,i.oauthLists=e.data.item.oauth}),this.loading=!1},changeOauthName:function(e){this.pushModel.uid="all"!==e?this.md5(e):""},getState:function(e){this.state=e,this.getPushLists(1,this.limit)},sizeChange:function(e){this.limit=e,this.getPushLists(this.page,this.limit)},currentChange:function(e){this.page=e,this.getPushLists(this.page,this.limit)},addPush:function(){this.title="添加站内通知",this.syncVisible=!0,this.pushModel={username:"all",uid:"",state:"",status:2,created_at:L.a.set_time(new Date)},this.url=this.cgi.insert},updatePush:function(e){this.title="修改站内通知",this.syncVisible=!0,this.pushModel=e,this.url=this.cgi.update}},mounted:function(){this.$nextTick(function(){this.getPushLists(this.page,this.limit)})}},Ge={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{"element-loading-text":e.loadingText}},[i("el-form",{staticStyle:{"margin-top":"10px"},attrs:{inline:!0}},[i("el-form-item",e._l(e.pushState,function(t,s){return i("el-button",{key:s,attrs:{type:t.type,size:"medium",plain:""},on:{click:function(i){return e.getState(t.val)}}},[e._v(e._s(t.val.toUpperCase()))])}),1),e._v(" "),i("el-form-item",{staticStyle:{float:"right"}},[i("el-button",{attrs:{icon:"el-icon-plus",type:"primary",size:"medium",plain:""},on:{click:e.addPush}},[e._v("添 加")])],1)],1),e._v(" "),i("el-table",{attrs:{data:e.pushLists.filter(function(t){return!e.search||t.username.toLowerCase().includes(e.search.toLowerCase())||t.info.toLowerCase().includes(e.search.toLowerCase())}),border:""}},[i("el-table-column",{attrs:{label:"#",prop:"id",width:"100px"}}),e._v(" "),i("el-table-column",{attrs:{label:"用户",prop:"username",width:"120px"}}),e._v(" "),i("el-table-column",{attrs:{label:"信息",prop:"info"}}),e._v(" "),i("el-table-column",{attrs:{label:"实时",width:"80px"},scopedSlots:e._u([{key:"default",fn:function(t){return[2===t.row.status?i("el-button",{attrs:{plain:"",type:"primary",size:"mini"}},[e._v("否")]):e._e(),e._v(" "),1===t.row.status?i("el-button",{attrs:{plain:"",type:"success",size:"mini"}},[e._v("是")]):e._e()]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"状态",prop:"state",width:"150px"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{plain:"",type:e.setType(t.row.state),size:"mini"}},[e._v(e._s(t.row.state.toUpperCase()))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"时间",prop:"created_at",width:"200px"}}),e._v(" "),i("el-table-column",{attrs:{width:"200px",align:"right"},scopedSlots:e._u([{key:"header",fn:function(t){return[i("el-input",{attrs:{placeholder:"请输入关键词查询"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})]}},{key:"default",fn:function(t){return["successfully"!==t.row.state?i("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-edit",size:"mini"},on:{click:function(i){return e.updatePush(t.row)}}},[e._v("执 行")]):e._e(),e._v(" "),i("Delete",{attrs:{url:e.cgi.remove,item:t.row,index:t.$index,Lists:e.pushLists},on:{success:e.success}})]}}])})],1),e._v(" "),i("div",{staticStyle:{margin:"25px 0"}},[i("el-pagination",{attrs:{"page-sizes":[15,30,50,100],"page-size":e.limit,layout:"total, sizes, prev, pager, next, jumper",total:e.total,"current-page":e.page},on:{"size-change":e.sizeChange,"current-change":e.currentChange}})],1),e._v(" "),i("el-dialog",{attrs:{title:e.title,visible:e.syncVisible,modal:e.modal,center:e.center,"destroy-on-close":e.destroy_on_close},on:{"update:visible":function(t){e.syncVisible=t}}},[i("el-form",{ref:e.reFrom,attrs:{"label-width":e.labelWidth,model:e.pushModel,rules:e.rules}},[i("el-form-item",{attrs:{label:"用户名",prop:"username"}},[i("el-select",{staticStyle:{width:"100%"},on:{change:e.changeOauthName},model:{value:e.pushModel.username,callback:function(t){e.$set(e.pushModel,"username",t)},expression:"pushModel.username"}},[i("el-option",{attrs:{label:"所有人",value:"all"}}),e._v(" "),e._l(e.oauthLists,function(e,t){return i("el-option",{key:t,attrs:{label:e.username,value:e.username}})})],2)],1),e._v(" "),i("el-form-item",{attrs:{label:"UID",prop:"uid"}},[i("el-input",{attrs:{readonly:"",placeholder:"用户UID"},model:{value:e.pushModel.uid,callback:function(t){e.$set(e.pushModel,"uid",t)},expression:"pushModel.uid"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"时间",prop:"created_at"}},[i("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:e.pushModel.created_at,callback:function(t){e.$set(e.pushModel,"created_at",t)},expression:"pushModel.created_at"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"消息",prop:"info"}},[i("el-input",{attrs:{placeholder:"推送消息",type:"textarea"},model:{value:e.pushModel.info,callback:function(t){e.$set(e.pushModel,"info",t)},expression:"pushModel.info"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"实时推送",prop:"status"}},[i("el-radio-group",{attrs:{size:"small"},model:{value:e.pushModel.status,callback:function(t){e.$set(e.pushModel,"status",t)},expression:"pushModel.status"}},[i("el-radio-button",{attrs:{label:"2"}},[e._v("否")]),e._v(" "),i("el-radio-button",{attrs:{label:"1"}},[e._v("是")])],1)],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("Submit",{attrs:{reFrom:e.reFrom,model:e.pushModel,url:e.url,refs:e.refs},on:{success:e.success}})],1)],1)],1)},staticRenderFns:[]};var Qe=i("VU/8")(Ze,Ge,!1,function(e){i("3r+s")},"data-v-6e678b1a",null).exports,Ye={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticStyle:{"text-align":"center","margin-top":"200px"}},[t("img",{attrs:{src:i("7Otq"),alt:"vue-laravel"}}),this._v(" "),t("div",[t("i",{staticClass:"el-icon-warning-outline",staticStyle:{"font-size":"300px"}})])])}]};var He=i("VU/8")({name:"empty",data:function(){return{}}},Ye,!1,function(e){i("3gTS")},"data-v-48503f1f",null).exports;n.default.use(r.a);var Je=new r.a({routes:[{path:"/",name:"/",component:ee,meta:{mode:"",title:"登录"}},{path:"/login",name:"Login",component:ee,meta:{mode:"",title:"登录"}},{path:"/404",name:"Empty",component:He,meta:{mode:"",title:"404"}},{path:"/admin",name:"Admin",component:Z,meta:{mode:"",title:"首页"}},{path:"/admin",component:Z,children:[{path:"index/:access_token?",name:"Welcome",component:J,meta:{mode:"",title:"欢迎页"}},{path:"auth/index",name:"AuthLists",component:me,meta:{mode:"rule",title:"权限列表"}},{path:"role/index",name:"RoleLists",component:fe,meta:{mode:"role",title:"角色列表"}},{path:"user/index",name:"UserLists",component:be,meta:{mode:"user",title:"管理员列表"}},{path:"oauth/index",name:"OauthLists",component:Ie,meta:{mode:"oauth",title:"授权列表"}},{path:"req-rule/index",name:"ReqRuleLists",component:Be,meta:{mode:"req_rule",title:"申请授权列表"}},{path:"log/index",name:"SystemLog",component:ke,meta:{mode:"log",title:"日志列表"}},{path:"file/index",name:"SystemFile",component:Me,meta:{mode:"file",title:"文件列表"}},{path:"config/index",name:"ConfigLists",component:Re,meta:{mode:"config",title:"基础配置"}},{path:"category/index",name:"CategoryLists",component:Ne,meta:{mode:"api_lists",title:"接口详情"}},{path:"database/index",name:"DatabaseLists",component:ze,meta:{mode:"",title:"数据表列表"}},{path:"area/index",name:"AreaLists",component:Pe,meta:{mode:"china_area",title:"城市列表"}},{path:"push/index",name:"PushList",component:Qe,meta:{mode:"push",title:"推送列表"}}]},{path:"*",redirect:"/404"}]}),Ke=(i("tvR6"),i("NC6I")),Xe=i.n(Ke);n.default.config.productionTip=!1,n.default.use(w.a),n.default.use(r.a),n.default.prototype.$http=N,n.default.prototype.md5=Xe.a,Je.beforeEach(function(e,t,i){if(e.meta.title&&(document.title=e.meta.title),e.params.access_token&&O.commit("setToken",e.params.access_token),"Login"===e.name||"/"===e.name){if(!O.state.login.token)return void i();D.CheckToken({token:O.state.login.token}).then(function(t){if(t&&t.data.code===M.a.SUCCESS)return i({path:"/admin/index",redirect:e.path}),O.commit("setAuthUrl",t.data.item.auth),O.commit("setToken",t.data.item.token),O.commit("setUserName",t.data.item.username),O.commit("setSocketServer",t.data.item.socket),O.commit("setAvatarUrl",t.data.item.avatar_url),void O.commit("setWebsocketServer",t.data.item.websocket);i()})}else D.CheckToken({token:O.state.login.token}).then(function(t){if(t&&t.data.code!==M.a.SUCCESS)return O.commit("setToken",""),void i({path:"/login",redirect:e.path});if(O.commit("setAuthUrl",t.data.item.auth),O.commit("setToken",t.data.item.token),O.commit("setUserName",t.data.item.username),O.commit("setSocketServer",t.data.item.socket),O.commit("setAvatarUrl",t.data.item.avatar_url),O.commit("setWebsocketServer",t.data.item.websocket),-1===O.state.login.auth_url.indexOf(e.path)&&"Welcome"!==e.name&&"admin"!==O.state.login.username){var s="你没有访问权限，请联系管理员【"+M.a.QQ+"】检验数据的正确性";w.a.MessageBox.alert(s).then(function(){var t={username:O.state.login.username,href:[e.path]};D.ReqRuleSave(t).then(function(t){if(t&&t.data.code===M.a.SUCCESS){var i={href:e.path,msg:a()({info:s,result:t.data.result}),token:O.state.login.token};D.LogSave(i).then(function(e){e&&e.data.code===M.a.SUCCESS&&(x.Message.success(e.data.msg),location.href="tencent://message/?uin="+M.a.QQ+"&Site=后台权限认证&Menu=yes")})}})}),i({path:"/admin/index",redirect:e.path})}i()})}),new n.default({el:"#app",router:Je,store:O,components:{App:l},template:"<App/>"})},OGei:function(e,t){},"T+z7":function(e,t){},TsDt:function(e,t){},UM8r:function(e,t){},XDbd:function(e,t){},Yokd:function(e,t){},YwE0:function(e,t){},am4D:function(e,t){},c5TN:function(e,t){},"k3x/":function(e,t){e.exports={FORBIDDEN:403,METHOD_ERROR:405,Unauthorized:401,SUCCESS:200,ERROR:201,QQ:785973567}},keIh:function(e,t){},nZXl:function(e,t){},pZoA:function(e,t){},q04y:function(e,t){},tPKH:function(e,t){},tvR6:function(e,t){},vvlJ:function(e,t){},wCaA:function(e,t){},xQBZ:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.bab3242f42e0519041b1.js.map