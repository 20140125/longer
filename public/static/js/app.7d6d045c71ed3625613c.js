webpackJsonp([1],{"+Egf":function(e,t){},0:function(e,t){},"0oHD":function(e,t){},"4/hK":function(e,t){},"8Ygm":function(module,exports,__webpack_require__){var md5=__webpack_require__("NC6I"),str_count=function(e,t){var s=void 0,a=[];for(s=e.indexOf(t);s>-1;)a.push(s),s=e.indexOf(t,s+1);return a.length},t=function t(){var times=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],timestamp=arguments[1],date=new Date(timestamp),Y=date.getFullYear(),M=date.getMonth()+1<10?"0"+eval(date.getMonth()+1):date.getMonth()+1,D=date.getDate()<10?"0"+date.getDate():date.getDate(),h=date.getHours()<10?"0"+date.getHours():date.getHours(),m=date.getMinutes()<10?"0"+date.getMinutes():date.getMinutes(),s=date.getSeconds()<10?"0"+date.getSeconds():date.getSeconds();return times?Y+"-"+M+"-"+D+" "+h+":"+m+":"+s:Y+"-"+M+"-"+D+".log"},get_timestamp=function(){return Math.round((new Date).getTime()/1e3)},set_time=function(e){return t(!0,e)},repeat_str=function(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"　　",a=str_count(e,t);return Array(a).join(s)},set_tree=function e(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=[];for(var i in t)t[i].pid===s&&(t[i].__child=e(t,t[i].id),a.push(t[i]));return a},set_random=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t=void 0;switch(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all"){case"all":t="MNBVCXZASDFGHJKLPOIUYTREWQ0123456789qwertyuioplkjhgfdsazxcvbnm";break;case"number":t="0123456789";break;case"l":t="QWERTYUIOPLKJHGFDSAZXCVBNM";break;case"s":t="zxcvbnmlkjhgfdsaqwertyuiop"}for(var s="",a=0;a<e;a++)s+=str_shuffle(t).substring(0,1);return s},str_shuffle=function(e){for(var t="",s=e.length;s>0;s--){t+=e[Math.random()*(s+1)|0]}return t},set_password=function(e,t){return md5(md5(e)+md5(t))},get_scroll_top=function(){var e=0;return document.documentElement&&document.documentElement.scrollTop?e=document.documentElement.scrollTop:document.body&&(e=document.body.scrollTop),e},func={str_count:str_count,set_time:set_time,repeat_str:repeat_str,set_tree:set_tree,get_timestamp:get_timestamp,set_random:set_random,str_shuffle:str_shuffle,set_password:set_password,get_scroll_top:get_scroll_top};module.exports=func},"91hS":function(e,t){},BmtV:function(e,t){e.exports=[{content:"期望优化客服聊天界面",timestamp:"2019-10-20",type:"info"},{content:"优化上传图片，表情，文字不能同时存在的bug",timestamp:"2019-10-18",type:"success"},{content:"客服聊天界面些许的改动",timestamp:"2019-10-17",type:"success"},{content:"新增项目时间线",timestamp:"2019-10-09",type:"success"},{content:"新增个人信息",timestamp:"2019-09-30",type:"success"},{content:"新增客服系统",timestamp:"2019-09-07",type:"success"},{content:"新增站内通知",timestamp:"2019-09-04",type:"success"},{content:"项目功能优化",timestamp:"2019-07-01 至 2019-09-04",type:"success"},{content:"项目部署上线成功",timestamp:"2019-06-30",type:"success"},{content:"后台服务基础结构搭建成功",timestamp:"2019-05-29",type:"success"},{content:"前端项目构建",timestamp:"2019-01-02",type:"success"},{content:"构思项目构建",timestamp:"2018-12-05",type:"success"}]},CqVR:function(e,t,s){e.exports=s.p+"static/img/u0.ba54a8c.jpg"},Dldn:function(e,t){},Lgoy:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("pFYg"),i=s.n(a),n=s("8U58");s("4/hK");var o={props:{value:{type:String,default:""},options:{type:Object,default:function(){return{mode:"text/javascript",lineNumbers:!0,lineWrapping:!0}}}},data:function(){return{skipNextChangeEvent:!1}},ready:function(){var e=this;this.editor=n.fromTextArea(this.$el.querySelector("textarea"),this.options),this.editor.setValue(this.value),this.editor.on("change",function(t){e.skipNextChangeEvent?e.skipNextChangeEvent=!1:(e.value=t.getValue(),e.$emit&&e.$emit("change",t.getValue()))})},mounted:function(){var e=this;this.editor=n.fromTextArea(this.$el.querySelector("textarea"),this.options),this.editor.setValue(this.value),this.editor.on("change",function(t){e.skipNextChangeEvent?e.skipNextChangeEvent=!1:e.$emit&&(e.$emit("change",t.getValue()),e.$emit("input",t.getValue()))})},watch:{value:function(e,t){if(e!==this.editor.getValue()){this.skipNextChangeEvent=!0;var s=this.editor.getScrollInfo();this.editor.setValue(e),this.editor.scrollTo(s.left,s.top)}},options:function(e,t){if("object"===(void 0===e?"undefined":i()(e)))for(var s in e)e.hasOwnProperty(s)&&this.editor.setOption(s,e[s])}},beforeDestroy:function(){this.editor&&this.editor.toTextArea()}},r={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"vue-codemirror-wrap"},[t("textarea")])}]};var l=s("VU/8")(o,r,!1,function(e){s("NAmH")},null,null);t.default=l.exports},NAmH:function(e,t){},NHnr:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("mvHQ"),i=s.n(a),n=s("7+uW"),o=s("zL8q"),r=s.n(o),l=(s("tvR6"),{render:function(){var e=this.$createElement;return(this._self._c||e)("router-view",{class:this.ClassName})},staticRenderFns:[]});var c=s("VU/8")({name:"App",provide:function(){return{reload:this.reload}},data:function(){return{ClassName:"clear_box",isRouterAlive:!0}},methods:{reload:function(){this.isRouterAlive=!1,this.$nextTick(function(){this.isRouterAlive=!0})}}},l,!1,function(e){s("cKjQ")},null,null).exports,u=s("/ocq"),d=s("Dd8w"),m=s.n(d),h=s("NYxO"),p=s("woOf"),f=s.n(p),g={authLists:"/v1/auth/index",authSave:"/v1/auth/save",authUpdate:"/v1/auth/update",authDelete:"/v1/auth/delete",roleLists:"/v1/role/index",roleSave:"/v1/role/save",roleUpdate:"/v1/role/update",roleDelete:"/v1/role/delete",userLists:"/v1/user/index",userSave:"/v1/user/save",userUpdate:"/v1/user/update",userDelete:"/v1/user/delete",userCenter:"/v1/user/center",saveUserCenter:"/v1/center/save",logLists:"/v1/log/index",logSave:"/v1/log/save",logDelete:"/v1/log/delete",configLists:"/v1/config/index",configSave:"/v1/config/save",configUpdate:"/v1/config/update",configValUpdate:"/v1/config/updateVal",configDelete:"/v1/config/delete",apiLists:"/v1/api/index",apiSave:"/v1/api/save",apiUpdate:"/v1/api/update",categoryLists:"/v1/category/index",categorySave:"/v1/category/save",categoryUpdate:"/v1/category/update",categoryDelete:"/v1/category/delete",databaseLists:"/v1/database/index",databaseBackUp:"/v1/database/backup",databaseRepair:"/v1/database/repair",databaseOptimize:"/v1/database/optimize",databaseUpdateComment:"/v1/database/comment",oauthLists:"/v1/oauth/index",oauthUpdate:"/v1/oauth/update",oauthDelete:"/v1/oauth/delete",sendMail:"/v1/oauth/sendMail",verifyCode:"/v1/oauth/verifyCode",reqRuleLists:"/v1/req-rule/index",reqRuleSave:"/v1/req-rule/save",reqRuleUpdate:"/v1/req-rule/update",reqRuleDelete:"/v1/req-rule/delete",getAuthByToken:"/v1/req-rule/getAuth",fileLists:"/v1/file/index",fileRead:"/v1/file/read",fileRename:"/v1/file/rename",fileChmod:"/v1/file/chmod",fileSave:"/v1/file/save",fileDelete:"/v1/file/delete",fileUpdate:"/v1/file/update",fileUpload:"v1/file/upload",fileDownload:"v1/file/download",fileCompression:"/v1/file/zip",fileDecompression:"/v1/file/unzip",imagePreview:"/v1/image/preview",areaIndex:"/v1/area/index",areaLists:"/v1/area/lists",areaWeather:"/v1/area/weather",chatHistory:"/v1/chat/history",emotionLists:"/v1/emotion/index",pushList:"/v1/push/index",pushSave:"/v1/push/save",pushUpdate:"/v1/push/update",pushRead:"/v1/push/see",pushDelete:"v1/push/delete",tree:"/v1/menu",login:"/v1/login",logout:"/v1/logout",checkToken:"/v1/checkLogin",getConfig:"/v1/config"},v=s("//Fk"),b=s.n(v),_=s("mtWM"),y=s.n(_),x={state:{tabs:[{label:"欢迎页",name:"/admin/index"}],currTabs:{label:null,name:null},activeAuthName:"/admin/index"},getters:{tabs:function(e){return e.tabs},currTabs:function(e){return e.currTabs},activeAuthName:function(e){return e.activeAuthName}},mutations:{setTabs:function(e,t){e.tabs.push(t)},setCurrTabs:function(e,t){e.currTabs=t},setActiveAuthName:function(e,t){e.activeAuthName=t},delTabs:function(e,t){e.tabs=t}},actions:{addTabs:function(e,t){var s=e.state,a=e.commit;-1===i()(s.tabs).indexOf(i()(t))&&a("setTabs",t)},addCurrTabs:function(e,t){e.state;var s=e.commit;s("setCurrTabs",t),s("setActiveAuthName",t.label)},deleteTabs:function(e,t){var s=e.state,a=e.commit,i=0;for(var n in s.tabs)t===s.tabs[n].name&&(i=n);s.tabs.splice(i,1),a("delTabs",s.tabs)}}},k={state:{fileTabs:[],currFileObj:{name:null,content:null,path:null,label:null},currSystemLogObj:{}},getters:{fileTabs:function(e){return e.fileTabs},currFileObj:function(e){return e.currFileObj},currSystemLogObj:function(e){return e.currSystemLogObj}},mutations:{setFileTabs:function(e,t){e.fileTabs.push(t)},delFileTabs:function(e,t){e.fileTabs=t},setCurrFileObj:function(e,t){e.currFileObj=t},setCurrSystemLogObj:function(e,t){e.currSystemLogObj=t}},actions:{addFileTabs:function(e,t){var s=e.state,a=e.commit;-1===i()(s.fileTabs).indexOf(i()(t))&&a("setFileTabs",t)},deleteFileTabs:function(e,t){var s=e.state,a=e.commit,i=0;for(var n in s.fileTabs)t===s.fileTabs[n].name&&(i=n);s.fileTabs.splice(i,1),a("delFileTabs",s.fileTabs)},addCurrFileObj:function(e,t){e.state;(0,e.commit)("setCurrFileObj",t)},addCurrSystemLogObj:function(e,t){e.state;(0,e.commit)("setCurrSystemLogObj",t)}}},w={state:{apiVisible:!1,interfaceName:"",apiModel:{}},getters:{apiVisible:function(e){return e.apiVisible},interfaceName:function(e){return e.interfaceName},apiModel:function(e){return e.apiModel}},mutations:{setApiVisible:function(e,t){e.apiVisible=t},setInterfaceName:function(e,t){e.interfaceName=t},setApiModel:function(e,t){e.apiModel=t}},actions:{addApiVisible:function(e,t){e.state;var s=e.commit;s("setApiVisible",t.apiVisible),s("setInterfaceName",t.interfaceName)},addApiModel:function(e,t){e.state,(0,e.commit)("setApiModel",t)}}},C=s("k3x/"),S=s.n(C),L=s("8Ygm"),M=s.n(L),T=s("DmT9"),$=s.n(T),R={state:{token:localStorage.getItem("token"),socketServer:"",avatarUrl:"",websocketServer:"",username:"",auth_url:"",menuLists:[],oauthConfig:[]},getters:{token:function(e){return e.token},username:function(e){return e.username},auth_url:function(e){return e.auth_url},menuLists:function(e){return e.menuLists},oauthConfig:function(e){return e.oauthConfig},socketServer:function(e){return e.socketServer},avatarUrl:function(e){return e.avatarUrl},websocketServer:function(e){return e.websocketServer}},mutations:{setToken:function(e,t){e.token=t,localStorage.setItem("token",t)},setUserName:function(e,t){e.username=t},setMenuLists:function(e,t){e.menuLists=t},setAuthUrl:function(e,t){e.auth_url=t},setOauthConfig:function(e,t){e.oauthConfig=t},setSocketServer:function(e,t){e.socketServer=$()(t)},setAvatarUrl:function(e,t){e.avatarUrl=t},setWebsocketServer:function(e,t){e.websocketServer=new WebSocket(t)}},actions:{loginSystem:function(e,t){e.state;var s=e.commit;A.LoginSys(t).then(function(e){e&&e.data.code===S.a.SUCCESS&&(s("setToken",e.data.item.token),s("setUserName",e.data.item.username),it.push({path:"/admin/index"}))})},getOauthConfig:function(e,t){e.state;var s=e.commit;A.GetConfig({name:t}).then(function(e){e&&e.data.code===S.a.SUCCESS&&s("setOauthConfig",e.data.item)})},getAuthMenu:function(e){var t=e.state,s=e.commit;t.menuLists.length>0?s("setMenuLists",t.menuLists):t.username?A.AuthTree([]).then(function(e){e&&e.data.code===S.a.SUCCESS&&s("setMenuLists",M.a.set_tree(e.data.item))}):it.push({path:"/login"})},logoutSystem:function(e,t){e.state;var s=e.commit;A.LogoutSys({token:t}).then(function(e){e&&e.data.code===S.a.SUCCESS&&(s("setToken",""),s("setUserName",""),it.push({path:"/login"}))})},saveSystemLog:function(e,t){var s=e.state;e.commit;t.username=s.username,A.LogSave(t).then(function(e){e&&e.data.code===S.a.SUCCESS&&o.Message.success(e.data.msg)})},checkAuth:function(e,t){var s=e.state;e.commit;if(t.url=t.url.replace("v1","admin"),-1===s.auth_url.indexOf(t.url)&&"/admin/index"!==t.url&&"admin"!==s.username){var a="你没有访问权限，请联系管理员【"+S.a.QQ+"】检验数据的正确性！！";o.MessageBox.alert(a).then(function(){var e={username:s.username,href:[t.url]};A.ReqRuleSave(e).then(function(e){if(e&&e.data.code===S.a.SUCCESS){var n={href:t.url,msg:i()({info:a,result:e.data.result}),token:s.token};A.LogSave(n).then(function(e){e&&e.data.code===S.a.SUCCESS&&(o.Message.success(e.data.msg),location.href="tencent://message/?uin="+S.a.QQ+"&Site=后台权限认证&Menu=yes")})}})})}}}};n.default.use(h.a);var V=new h.a.Store({modules:{tabs:x,fileTabs:k,api:w,login:R}}),O=y.a.create({timeout:1e4});O.defaults.baseURL="https://www.fanglonger.com/api/",O.interceptors.request.use(function(e){return V.state.login.token&&(e.headers.Authorization=""+M.a.set_password(M.a.set_random(32),M.a.set_random(12))+V.state.login.token+M.a.set_password(M.a.set_random(32),M.a.set_random(12))),e},function(e){return b.a.reject(e)}),O.interceptors.response.use(function(e){return 200!==e.data.code&&o.Message.warning(e.data.msg),e},function(e){!function(e,t){switch(e){case 401:V.commit("setToken",""),it.push({path:"/login"}),o.Message.warning(t);break;case 403:it.push({path:"/admin/index"}),o.Message.warning(t);break;case 404:it.push({path:"/404"}),o.Message.warning(t);break;default:o.Message.warning("network error")}}(e.response.data.code,e.response.data.msg)});var F=O,U=s("mw3O"),q=s.n(U),D={token:localStorage.getItem("token")},A={LoginSys:function(e){return F.post(g.login,q.a.stringify(f()(D,e)))},LogoutSys:function(e){return F.post(g.logout,q.a.stringify(f()(D,e)))},LogSave:function(e){return F.post(g.logSave,q.a.stringify(f()(D,e)))},CheckToken:function(e){return F.post(g.checkToken,q.a.stringify(f()(D,e)))},AuthLists:function(e){return F.post(g.authLists,q.a.stringify(f()(D,e)))},RoleLists:function(e){return F.post(g.roleLists,q.a.stringify(f()(D,e)))},AuthTree:function(e){return F.post(g.tree,q.a.stringify(f()(D,e)))},UserLists:function(e){return F.post(g.userLists,q.a.stringify(f()(D,e)))},UserCenter:function(e){return F.post(g.userCenter,q.a.stringify(f()(D,e)))},LogLists:function(e){return F.post(g.logLists,q.a.stringify(f()(D,e)))},ApiLists:function(e){return F.post(g.apiLists,q.a.stringify(f()(D,e)))},CategoryLists:function(e){return F.post(g.categoryLists,q.a.stringify(f()(D,e)))},FileLists:function(e){return F.post(g.fileLists,q.a.stringify(f()(D,e)))},FileRead:function(e){return F.post(g.fileRead,q.a.stringify(f()(D,e)))},FileRename:function(e){return F.post(g.fileRename,q.a.stringify(f()(D,e)))},FileSave:function(e){return F.post(g.fileSave,q.a.stringify(f()(D,e)))},FileDelete:function(e){return F.post(g.fileDelete,q.a.stringify(f()(D,e)))},DatabaseLists:function(e){return F.post(g.databaseLists,q.a.stringify(f()(D,e)))},DatabaseBackup:function(e){return F.post(g.databaseBackUp,q.a.stringify(f()(D,e)))},DatabaseRepair:function(e){return F.post(g.databaseRepair,q.a.stringify(f()(D,e)))},DatabaseOptimize:function(e){return F.post(g.databaseOptimize,q.a.stringify(f()(D,e)))},DatabaseUpdateComment:function(e){return F.post(g.databaseUpdateComment,q.a.stringify(f()(D,e)))},CategoryDelete:function(e){return F.post(g.categoryDelete,q.a.stringify(f()(D,e)))},Compression:function(e){return F.post(g.fileCompression,q.a.stringify(f()(D,e)))},Decompression:function(e){return F.post(g.fileDecompression,q.a.stringify(f()(D,e)))},ImagePreview:function(e){return F.post(g.imagePreview,q.a.stringify(f()(D,e)))},ConfigLists:function(e){return F.post(g.configLists,q.a.stringify(f()(D,e)))},ConfigValUpdate:function(e){return F.post(g.configValUpdate,q.a.stringify(f()(D,e)))},GetConfig:function(e){return F.post(g.getConfig,q.a.stringify(f()(D,e)))},OauthLists:function(e){return F.post(g.oauthLists,q.a.stringify(f()(D,e)))},ReqRuleLists:function(e){return F.post(g.reqRuleLists,q.a.stringify(f()(D,e)))},ReqRuleSave:function(e){return F.post(g.reqRuleSave,q.a.stringify(f()(D,e)))},GetAuthByToken:function(e){return F.post(g.getAuthByToken,q.a.stringify(f()(D,e)))},SendEmail:function(e){return F.post(g.sendMail,q.a.stringify(f()(D,e)))},VerifyCode:function(e){return F.post(g.verifyCode,q.a.stringify(f()(D,e)))},AreaLists:function(e,t){return F.post(t,q.a.stringify(f()(D,e)))},AreaWeather:function(e){return F.post(g.areaWeather,q.a.stringify(f()(D,e)))},PushList:function(e){return F.post(g.pushList,q.a.stringify(f()(D,e)))},PushRead:function(e){return F.post(g.pushRead,q.a.stringify(f()(D,e)))},ChatHistory:function(e){return F.post(g.chatHistory,q.a.stringify(f()(D,e)))},EmotionLists:function(e){return F.post(g.emotionLists,q.a.stringify(f()(D,e)))}},z={props:{height:Number},data:function(){return{emotionTypeLists:[{type:"1",title:"表情",id:"emotion"},{type:"2",title:"人物",id:"person"},{type:"3",title:"动作",id:"action"},{type:"4",title:"家庭",id:"family"},{type:"5",title:"自然",id:"natural"},{type:"6",title:"食物",id:"food"},{type:"7",title:"体育",id:"sport"},{type:"8",title:"建筑",id:"building"},{type:"9",title:"用品",id:"supplies"},{type:"10",title:"符号",id:"symbol"},{type:"11",title:"国旗",id:"flag"}],type:"1",emotionList:[],limit:55,page:1,pages:0}},methods:{changeEmotionLists:function(e){this.type=e.name,this.page=1,this.emotionList=[],this.showEmotionLists(this.page,this.limit)},clickHandler:function(e){this.$emit("clickEmotion",e)},showEmotionLists:function(e,t){var s=this;A.EmotionLists({type:this.type,limit:t,page:e}).then(function(e){s.pages=e.data.item.pages;var t=e.data.item.data;for(var a in t)s.emotionList.push(t[a])})},scrollEmotion:function(){this.page<=this.pages&&(this.page=this.page+1,this.showEmotionLists(this.page,this.limit))}},mounted:function(){this.$nextTick(function(){this.showEmotionLists(this.page,this.limit)})}},N={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"emotion"},[s("div",{staticClass:"emotion-box",style:{height:e.height+"px"}},[s("el-tabs",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:e.scrollEmotion,expression:"scrollEmotion"}],attrs:{type:"border-card","tab-position":"top"},on:{"tab-click":e.changeEmotionLists},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}},e._l(e.emotionTypeLists,function(t,a){return s("el-tab-pane",{key:a,attrs:{name:t.type,label:t.title}},e._l(e.emotionList,function(t,a){return s("div",{key:a,staticClass:"emotion-box-line"},[s("div",{staticClass:"emotion-item"},[s("el-image",{staticStyle:{width:"30px",height:"30px"},attrs:{src:t.icon,alt:t.title,lazy:""},nativeOn:{click:function(s){return e.clickHandler(t)}}})],1)])}),0)}),1)],1)])},staticRenderFns:[]};var j={name:"baseModule",inject:["reload"],data:function(){return{isCollapse:!1,activeName:null,activeIndex:"1",menuClass:"el-icon-s-unfold",asideWidth:"200px",asideHeight:{},headerStyle:{"margin-left":"200px"},noticeLength:0,notice:[],online:0,cgi:{uploadUrl:"https://www.fanglonger.com/api/"+g.fileUpload},chatTitle:"ChatRoom",fileData:{},headers:{},chatVisible:!1,client_list:[],inputMsg:"",emotionLists:[],showEmotion:!1,closeModel:!1,center:!0,messageLists:[],msg_type:"text",to_client_name:"all",to_client_id:"all",avatar_url:"",chatMsgClass:"el-icon-chat-dot-round",msg_dot:!1,room_id:"1",roomLists:[{room_id:"1",room_name:"谈笑风生"}]}},components:{emotion:s("VU/8")(z,N,!1,function(e){s("tuGd")},"data-v-3df05567",null).exports},computed:m()({},Object(h.c)(["tabs","token","username","activeAuthName","menuLists","socketServer","avatarUrl","websocketServer"])),methods:m()({},Object(h.b)(["addTabs","deleteTabs","addCurrTabs","logoutSystem","getAuthMenu"]),{unescape:function(e){return e.replace(e?/&(?!#?\w+;)/g:/&/g,"&amp;").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#39;/g,"'")},setAttr:function(e){var t={label:e.name,name:e.href};this.activeName=t.name,this.addCurrTabs(t),this.addTabs(t),this.asideHeight={"min-height":window.innerHeight-60+"px"},this.$router.push({path:t.name})},getMsgDialog:function(){this.chatVisible=!this.chatVisible,this.chatVisible?(this.chatMsgClass="el-icon-close",this.websocketServer.send('{"type":"history","from_client_name":"'+this.username+'","to_client_name":"'+this.to_client_name+'"}'),this.msg_dot=!1):this.chatMsgClass="el-icon-chat-dot-round"},goto:function(e){this.$router.push({path:e.name})},remove:function(e){var t=this;this.tabs.forEach(function(s,a){if(s.name===e){var i=t.tabs[a+1]||t.tabs[a-1];i&&(t.deleteTabs(e),t.activeName=i.name,t.$router.push({path:t.activeName}),t.addCurrTabs(i))}})},handleSelect:function(e,t){switch(e){case"2-1":var s={label:"个人中心",name:"/admin/user/center"};this.activeName=s.name,this.addCurrTabs(s),this.addTabs(s),this.$router.push({path:s.name});break;case"2-2":this.logoutSystem(this.token)}},readNotice:function(e){if("more"===e){var t={label:"站内通知",name:"/admin/push/index"};return this.activeName=t.name,this.addCurrTabs(t),this.addTabs(t),this.$router.push({path:t.name}),!1}var s={};s.see=parseInt(e.see)+1,s.id=e.id,s.type=e.type,A.PushRead(s)},hideMenu:function(){this.isCollapse=!this.isCollapse,this.isCollapse?(this.menuClass="el-icon-s-fold",this.asideWidth="65px",this.headerStyle={"margin-left":"65px"}):(this.menuClass="el-icon-s-unfold",this.asideWidth="200px",this.headerStyle={"margin-left":"200px"})},connect:function(e){var t=this;e.onopen=function(){var s={type:"login",client_name:t.username,room_id:t.room_id,client_img:t.avatarUrl,uid:t.md5(t.username)};e.send(i()(s))},e.onmessage=function(s){var a=JSON.parse(s.data);switch(a.type){case"ping":e.send('{"type":"pong"}');break;case"login":t.client_list={},a.client_list?t.client_list=a.client_list:t.client_list[a.client_id]=a.client_name;break;case"say":t.say(a);break;case"history":for(var i in a.message)a.message[i].content=t.setContent(a.message[i].content,a.message[i].msg_type);t.messageLists=a.message}},e.onclose=function(){console.log("连接关闭，定时重连"),t.connect(e)},e.onerror=function(){console.log("出现错误")}},sendUser:function(e,t){this.to_client_name=e.client_name,this.to_client_id="0"===t?"all":t,this.chatTitle="all"===e.client_name?"ChatRoom":e.client_name,this.avatar_url=this.avatarUrl;var s={type:"history",from_client_name:this.username,to_client_name:this.to_client_name};this.websocketServer.send(i()(s))},setMsg:function(){this.inputMsg=this.$refs.message.innerHTML},getEmotion:function(e){this.msg_type="text",this.inputMsg+="<img src='"+e.icon+"' width='50px' height='50px' alt='"+e.emoji+"' title='"+e.title+"'>",this.$refs.message.innerHTML=this.inputMsg},setContent:function(e,t){var s="";switch(t){case"file":s='<img src="'+e+'" alt="" width="50px" height="50px"/>';break;case"text":s=e;break;case"video":s='<video src="'+e+'" width="100px" height="100px"/>'}return s},uploadSuccess:function(e){if(e&&200===e.code)return this.msg_type="text",this.inputMsg+="<img src='"+e.item.src+"' width='100px' height='100px' alt=''>",void(this.$refs.message.innerHTML=this.inputMsg);this.$message({type:"warning",message:e.msg})},beforeUpload:function(e){return["image/jpg","image/gif","image/png","image/jpeg"].includes(e.type)?!(e.size>2097152)||(this.$message({type:"warning",message:"upload image size error"}),!1):(this.$message({type:"warning",message:"upload image format error"}),!1)},say:function(e){var t=this.setContent(e.content,e.msg_type),s={from_client_name:e.from_client_name,time:e.time,content:t,msg_type:e.msg_type,avatar_url:e.avatar_url},a={type:"history",from_client_name:e.from_client_name,to_client_name:e.to_client_name};this.websocketServer.send(i()(a)),this.messageLists.push(s),this.username!==e.from_client_name&&("all"!==e.to_client_id&&(this.chatTitle=e.from_client_name,this.to_client_id=e.from_client_id),this.msg_dot=!0),this.chatVisible&&this.username===e.from_client_name&&("all"!==e.to_client_id&&(this.chatTitle=e.to_client_name,this.to_client_id=e.to_client_id),this.scrollToBottom())},sendMsg:function(){if(this.showEmotion=!1,this.inputMsg=this.$refs.message.innerHTML,""!==this.inputMsg){var e={type:"say",to_client_id:this.to_client_id,to_client_name:this.to_client_name,msg_type:this.msg_type,content:this.inputMsg,avatar_url:this.avatar_url};return this.websocketServer.send(i()(e)),this.$refs.message.innerHTML="",void(this.inputMsg="")}this.chatVisible&&(this.$refs.message.focus(),this.$message({type:"info",message:"Please enter message"}))},webPush:function(){var e=this;this.socketServer.on("connect",function(){e.socketServer.emit("login",e.md5(e.username))}),this.socketServer.on("new_msg",function(t){e.$notify({title:"站内通知",message:t,position:"top-right",type:"success",duration:0})}),this.socketServer.on("notice",function(t){var s=1;for(var a in e.noticeLength=0,t)t[a].disabled=!0,"successfully"!==t[a].status&&0===t[a].see&&(t[a].disabled=!1,e.noticeLength=s++);e.notice=t}),this.socketServer.on("online",function(t){e.online=t})},scrollToBottom:function(){this.$nextTick(function(){var e=document.getElementById("msg");try{e.scrollTop=e.scrollHeight}catch(e){}})}}),created:function(){this.activeName=this.activeAuthName,this.asideHeight={"min-height":window.innerHeight-60+"px"},this.avatar_url=this.avatarUrl,this.fileData.token=this.token,this.fileData.rand=!0,this.headers.Authorization=""+M.a.set_password(M.a.set_random(32),M.a.set_random(12))+this.token+M.a.set_password(M.a.set_random(32),M.a.set_random(12)),this.connect(this.websocketServer);var e=this;document.onkeydown=function(t){if("Enter"===t.code)return t.preventDefault(),e.sendMsg(),!1}},watch:{chatVisible:function(){this.chatVisible||(this.chatMsgClass="el-icon-chat-dot-round")},inputMsg:function(){this.inputMsg=this.$refs.message.innerHTML}},mounted:function(){this.$nextTick(function(){var e={label:this.$route.meta.title,name:this.$route.path};this.activeName=e.name,this.addCurrTabs(e),this.addTabs(e),this.getAuthMenu(),this.webPush()})}},E={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-container",[s("el-header",[s("el-menu",{style:e.headerStyle,attrs:{"default-active":e.activeIndex,mode:"horizontal","background-color":"#393d49","text-color":"#fff","active-text-color":"#ffd04b"},on:{select:e.handleSelect}},[s("el-menu-item",{attrs:{index:"1"},on:{click:e.hideMenu}},[s("i",{class:e.menuClass,staticStyle:{color:"#fff","font-size":"25px"}})]),e._v(" "),s("el-submenu",{staticStyle:{float:"right"},attrs:{index:"2"}},[s("template",{slot:"title"},[s("el-avatar",{attrs:{src:e.avatarUrl,alt:e.username,size:35}}),e._v(" "),s("span",{staticStyle:{"margin-left":"10px"},domProps:{innerHTML:e._s(e.username)}})],1),e._v(" "),s("el-menu-item",{attrs:{index:"2-1"}},[s("i",{staticClass:"el-icon-user-solid"}),e._v(" 个人中心")]),e._v(" "),s("el-menu-item",{attrs:{index:"2-2"}},[s("i",{staticClass:"el-icon-upload2"}),e._v(" 退出系统")])],2),e._v(" "),s("el-menu-item",{staticStyle:{float:"right"},attrs:{index:"3"}},[s("el-dropdown",{attrs:{trigger:"hover","hide-on-click":!1,"show-timeout":100},on:{command:e.readNotice}},[s("i",{staticClass:"el-icon-message-solid",staticStyle:{color:"#fff","font-size":"22px"}}),e._v(" "),e.noticeLength?s("el-badge",{staticStyle:{"margin-top":"-30px","margin-left":"-18px"},attrs:{value:e.noticeLength}}):e._e(),e._v(" "),s("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[s("el-dropdown-item",{staticStyle:{"text-align":"center",color:"#66b1ff"}},[e._v("站内通知")]),e._v(" "),e._l(e.notice,function(t,a){return s("el-dropdown-item",{key:a,attrs:{command:t,divided:"",disabled:t.disabled}},[t.disabled?e._e():s("el-badge",{attrs:{"is-dot":""}}),e._v("【"+e._s(t.title)+"】 "+e._s(t.info)+"\n                        ")],1)}),e._v(" "),s("el-dropdown-item",{staticStyle:{"text-align":"center",color:"#66b1ff"},attrs:{command:"more"}},[e._v("查看更多")])],2)],1)],1),e._v(" "),s("el-menu-item",{staticStyle:{float:"right"},attrs:{index:"4"}},[s("a",{attrs:{href:"https://gitee.com/f_longer/vue-app",target:"_blank"}},[s("img",{attrs:{src:"https://gitee.com/f_longer/longer/widgets/widget_5.svg?color=C71D24",alt:"gitee"}})])])],1)],1),e._v(" "),s("el-container",[s("el-aside",{style:e.asideHeight,attrs:{width:e.asideWidth}},[s("el-menu",{attrs:{"unique-opened":"","background-color":"#393d49","text-color":"#fff","active-text-color":"#ffd04b",collapse:e.isCollapse}},e._l(e.menuLists,function(t,a){return s("el-submenu",{key:a,attrs:{index:t.id.toString()}},[s("template",{slot:"title"},[2!==t.id?s("i",{staticClass:"el-icon-menu"}):e._e(),e._v(" "),s("span",{domProps:{innerHTML:e._s(t.name)}})]),e._v(" "),e._l(t.__child,function(t,a){return s("el-menu-item",{key:a,attrs:{index:t.id.toString()},on:{click:function(s){return e.setAttr(t)}}},[s("template",{slot:"title"},[s("span",{domProps:{innerHTML:e._s(t.name)}})])],2)})],2)}),1)],1),e._v(" "),s("el-container",{attrs:{direction:"vertical"}},[s("el-main",[s("el-tabs",{attrs:{type:"border-card",closable:"",lazy:""},on:{"tab-click":e.goto,"tab-remove":e.remove},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[e._l(e.tabs,function(e){return s("el-tab-pane",{key:e.name,attrs:{label:e.label,name:e.name}})}),e._v(" "),s("el-card",{attrs:{shadow:"always"}},[s("router-view")],1)],2)],1),e._v(" "),s("el-footer",[e._v("\n                ©fl140125@gmail.com 在线人数："+e._s(e.online)+"\n            ")]),e._v(" "),s("i",{staticClass:"msg-icon",on:{click:e.getMsgDialog}},[s("i",{class:e.chatMsgClass,staticStyle:{margin:"13px 15px"}},[e.msg_dot?s("el-badge",{staticClass:"msg-count",attrs:{"is-dot":"",type:"danger"}}):e._e()],1)])],1)],1),e._v(" "),s("el-dialog",{attrs:{title:e.chatTitle,center:e.center,"show-close":e.closeModel,"close-on-press-escape":e.closeModel,visible:e.chatVisible},on:{close:function(t){e.chatVisible=!1},"update:visible":function(t){e.chatVisible=t}}},[s("el-row",{attrs:{gutter:24}},[s("el-col",{staticClass:"user-list",attrs:{span:6}},[s("el-aside",[s("el-menu",{attrs:{"background-color":"#393d49","text-color":"#fff","active-text-color":"#ffd04b"}},e._l(e.client_list,function(t,a){return s("el-menu-item",{key:a,attrs:{index:a},on:{click:function(s){return e.sendUser(t,a)}}},[s("el-avatar",{staticStyle:{cursor:"pointer"},attrs:{size:50,src:t.client_img}}),e._v(" "),s("span",{staticStyle:{"margin-left":"20px"},attrs:{slot:"title"},domProps:{innerHTML:e._s(t.client_name)},slot:"title"})],1)}),1)],1)],1),e._v(" "),s("el-col",{attrs:{offset:1,span:17}},[s("el-card",{attrs:{shadow:"always"}},[s("div",{attrs:{id:"msg"}},e._l(e.messageLists,function(t,a){return s("div",{key:a},[s("div",{staticClass:"msg-img"},[s("el-avatar",{staticStyle:{cursor:"pointer"},attrs:{size:50,src:t.avatar_url}}),e._v(" "),s("i",[e._v(e._s(t.from_client_name)+"   "+e._s(t.time))])],1),e._v(" "),s("div",{staticClass:"msg-list",domProps:{innerHTML:e._s(e.unescape(t.content))}})])}),0),e._v(" "),s("div",{staticClass:"input-msg"},[s("emotion",{directives:[{name:"show",rawName:"v-show",value:e.showEmotion,expression:"showEmotion"}],attrs:{height:300},on:{clickEmotion:e.getEmotion}}),e._v(" "),s("div",[s("el-tooltip",{attrs:{effect:"dark",content:"发送表情",placement:"top-start"}},[s("i",{staticClass:"el-icon-picture-outline-round icon",on:{click:function(t){e.showEmotion=!e.showEmotion}}})]),e._v(" "),s("el-upload",{staticStyle:{float:"left"},attrs:{action:e.cgi.uploadUrl,data:e.fileData,headers:e.headers,"show-file-list":!1,"on-success":e.uploadSuccess,"before-upload":e.beforeUpload}},[s("el-tooltip",{attrs:{effect:"dark",content:"发送文件和图片",placement:"top-start"}},[s("i",{staticClass:"el-icon-picture-outline icon"})])],1)],1),e._v(" "),s("div",{ref:"message",attrs:{contentEditable:"true",id:"content"},on:{focus:function(t){e.showEmotion=!1},keydown:e.setMsg}})],1),e._v(" "),s("div",{staticClass:"input-button",staticStyle:{"text-align":"right"}},[s("el-button",{attrs:{type:"primary",round:"",plain:"",size:"medium"},on:{click:e.sendMsg}},[e._v("发 送")])],1)])],1)],1)],1)],1)},staticRenderFns:[]};var W={name:"index",data:function(){return{}},components:{baseModule:s("VU/8")(j,E,!1,function(e){s("+Egf")},"data-v-78eca623",null).exports}},B={render:function(){var e=this.$createElement,t=this._self._c||e;return t("el-row",{attrs:{gutter:24}},[t("baseModule")],1)},staticRenderFns:[]},I=s("VU/8")(W,B,!1,null,null,null).exports,P=s("XLwt"),H=s.n(P),Q={name:"index",data:function(){return{access_token:"",charts:{},xAxisData:[],seriesData:{log:[],notice:[],oauth:[]},reverse:!1,activities:s("BmtV")}},computed:m()({},Object(h.c)(["socketServer"])),methods:m()({},Object(h.d)(["setToken"])),created:function(){this.$route.params.access_token&&(this.access_token=this.$route.params.access_token)},mounted:function(){this.$nextTick(function(){var e=this;this.access_token&&this.setToken(this.access_token),this.echarts=H.a.init(document.getElementById("charts")),this.socketServer.on("charts",function(t){e.xAxisData=t.day,e.seriesData.log=t.total.log,e.seriesData.notice=t.total.push,e.seriesData.oauth=t.total.oauth,e.echarts.setOption({title:{text:"数据统计"},tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},legend:{data:["授权用户","站内通知","系统日志"]},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},toolbox:{feature:{saveAsImage:{}}},xAxis:{type:"category",boundaryGap:!1,data:e.xAxisData},yAxis:{type:"value"},series:[{name:"授权用户",type:"line",stack:"总量",areaStyle:{normal:{}},data:e.seriesData.oauth},{name:"站内通知",type:"line",stack:"总量",areaStyle:{normal:{}},data:e.seriesData.notice},{name:"系统日志",type:"line",stack:"总量",areaStyle:{normal:{}},data:e.seriesData.log}]})})})}},K={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-row",{attrs:{gutter:24}},[s("el-col",{attrs:{span:12}},[s("div",{staticStyle:{height:"500px"},attrs:{id:"charts"}})]),e._v(" "),s("el-col",{attrs:{span:12}},[s("div",{staticClass:"block"},[s("div",{staticClass:"radio"},[s("el-radio-group",{model:{value:e.reverse,callback:function(t){e.reverse=t},expression:"reverse"}},[s("el-radio",{attrs:{label:!0}},[e._v("倒序")]),e._v(" "),s("el-radio",{attrs:{label:!1}},[e._v("正序")])],1)],1),e._v(" "),s("el-timeline",{attrs:{reverse:e.reverse}},e._l(e.activities,function(t,a){return s("el-timeline-item",{key:a,attrs:{type:t.type,placement:"top",color:t.color,timestamp:t.timestamp}},[s("el-card",[e._v(e._s(t.content))])],1)}),1)],1)])],1)},staticRenderFns:[]};var G=s("VU/8")(Q,K,!1,function(e){s("oC1x")},"data-v-02095fa0",null).exports,Z={name:"login",data:function(){return{users:{username:"",password:""},rules:{username:[{required:!0,message:"用户名必须",trigger:"blur"}],password:[{required:!0,message:"用户密码必须",trigger:"blur"}]},reFrom:"login",bgStyle:{background:"url("+s("CqVR")+")","background-repeat":"no-repeat",height:window.innerHeight-16+"px"},oauthVisible:!1,center:!0,destroy_on_close:!0,innerWidth:window.innerWidth,dialogWidth:"30%",oauth:!0}},computed:m()({},Object(h.c)(["oauthConfig"])),methods:m()({},Object(h.b)(["loginSystem","getOauthConfig"]),{onSubmit:function(e){var t=this;this.$refs[e].validate(function(e){e&&t.loginSystem(t.users)})},oauthLogin:function(){this.oauthVisible=!0,this.getOauthConfig("oauth")},goto:function(e){window.open(e,"_self")},resetForm:function(e){this.$refs[e].resetFields()}}),created:function(){this.innerWidth=window.innerWidth},mounted:function(){this.$nextTick(function(){this.innerWidth>=1920&&(this.oauth=!0,this.dialogWidth="30%"),this.innerWidth>=1200&&this.innerWidth<1920&&(this.oauth=!0,this.dialogWidth="50%"),this.innerWidth>=992&&this.innerWidth<1200&&(this.oauth=!1,this.dialogWidth="60%"),this.innerWidth>=768&&this.innerWidth<992&&(this.oauth=!1,this.dialogWidth="70%"),this.innerWidth<768&&(this.oauth=!1,this.dialogWidth="95%")})}},Y={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{style:e.bgStyle},[s("el-row",{staticStyle:{"padding-top":"8%"},attrs:{gutter:24}},[s("el-col",{attrs:{xl:{span:8,offset:8},lg:{span:12,offset:6},md:{span:16,offset:4},sm:{span:20,offset:"2"},xs:{span:24}}},[s("el-header",{staticStyle:{"text-align":"center","font-size":"20px"}},[e._v("登录系统")]),e._v(" "),s("el-main",[s("el-form",{ref:e.reFrom,attrs:{model:e.users,rules:e.rules}},[s("el-form-item",{attrs:{prop:"username"}},[s("el-input",{attrs:{placeholder:"username",autocomplete:"off"},model:{value:e.users.username,callback:function(t){e.$set(e.users,"username",t)},expression:"users.username"}},[s("template",{slot:"prepend"},[s("i",{staticClass:"el-icon-s-custom"})])],2)],1),e._v(" "),s("el-form-item",{attrs:{prop:"password"}},[s("el-input",{attrs:{type:"password",placeholder:"password",autocomplete:"off"},model:{value:e.users.password,callback:function(t){e.$set(e.users,"password",t)},expression:"users.password"}},[s("template",{slot:"prepend"},[s("i",{staticClass:"el-icon-user-solid"})])],2)],1)],1)],1)],1),e._v(" "),s("el-dialog",{attrs:{visible:e.oauthVisible,title:"授权登录","destroy-on-close":e.destroy_on_close,center:e.center,width:e.dialogWidth},on:{"update:visible":function(t){e.oauthVisible=t}}},e._l(e.oauthConfig,function(t,a){return 1===t.status?s("el-button",{key:a,attrs:{plain:"",type:"primary"},on:{click:function(s){return e.goto(t.value)}}},[e._v(e._s(t.name))]):e._e()}),1)],1),e._v(" "),s("el-footer",{staticStyle:{"text-align":"center"}},[s("el-button",{attrs:{plain:""},on:{click:function(t){return e.resetForm(e.reFrom)}}},[e._v("取 消")]),e._v(" "),s("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){return e.onSubmit(e.reFrom)}}},[e._v("确 定")]),e._v(" "),s("el-button",{directives:[{name:"show",rawName:"v-show",value:e.oauth,expression:"oauth"}],attrs:{type:"primary"},on:{click:e.oauthLogin}},[e._v("授权登录")])],1)],1)},staticRenderFns:[]};var J=s("VU/8")(Z,Y,!1,function(e){s("xQBZ")},"data-v-a981495c",null).exports,X={name:"Submit",props:{reFrom:String,model:Object,url:String,refs:Object},data:function(){return{}},methods:m()({},Object(h.b)(["saveSystemLog","checkAuth"]),{submitForm:function(e){var t=this;this.refs[e].validate(function(e){if(e)return t.checkAuth({url:t.url}),t.model.token=t.$store.state.login.token,t.$http.post(t.url,t.model).then(function(e){if(e&&200===e.data.code){var s={href:t.url,msg:i()({info:e.data.msg,result:e.data.result}),token:t.$store.state.login.token};return t.saveSystemLog(s),t.$message({type:"success",message:e.data.msg}),t.$emit("success"),!1}},function(e){console.log(e)}),!0;t.$message({type:"warning",message:"请检查字段完整性~"})})},resetForm:function(e){this.refs[e].resetFields()}})},ee={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("el-button",{attrs:{plain:""},on:{click:function(t){return e.resetForm(e.reFrom)}}},[e._v("取 消")]),e._v(" "),s("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){return e.submitForm(e.reFrom)}}},[e._v("确 定")])],1)},staticRenderFns:[]};var te=s("VU/8")(X,ee,!1,function(e){s("keIh")},"data-v-e812b49c",null).exports,se={name:"Radio",props:{item:Object,url:String},data:function(){return{table:this.$route.meta.mode}},methods:m()({},Object(h.b)(["saveSystemLog","checkAuth"]),{setStatus:function(e){var t=this;this.checkAuth({url:this.url});var s={status:e.status,id:e.id,token:this.$store.state.login.token,act:"status"};this.$http.post(this.url,s).then(function(a){if(a&&200===a.data.code){var n={href:t.url,msg:i()({info:a.data.msg,result:a.data.result}),token:t.$store.state.login.token};return t.saveSystemLog(n),t.$message({type:"success",message:a.data.msg}),void t.$emit("success")}e.status=1===parseInt(s.status)?2:1},function(t){e.status=1===parseInt(s.status)?2:1,console.log(t)})}})},ae={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("el-radio-group",{attrs:{size:"mini"},on:{change:function(t){return e.setStatus(e.item)}},model:{value:e.item.status,callback:function(t){e.$set(e.item,"status",t)},expression:"item.status"}},[s("el-radio-button",{attrs:{label:"2"}},[e._v("关闭")]),e._v(" "),s("el-radio-button",{attrs:{label:"1"}},[e._v("开启")])],1)],1)},staticRenderFns:[]};var ie=s("VU/8")(se,ae,!1,function(e){s("XDbd")},"data-v-01d5aee5",null).exports,ne={name:"Delete",props:{item:Object,url:String,index:Number,Lists:Array},data:function(){return{table:this.$route.meta.mode}},methods:m()({},Object(h.b)(["saveSystemLog","checkAuth"]),{remove:function(e,t){var s=this;this.$confirm("此操作将永远删除该条记录，是否继续？","删除记录",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){s.checkAuth({url:s.url});var a={id:e.id,token:s.$store.state.login.token};s.$http.post(s.url,a).then(function(e){if(e&&200===e.data.code){s.Lists.splice(t,1);var a={href:s.url,msg:i()({info:e.data.msg,result:e.data.result}),token:s.$store.state.login.token};return s.saveSystemLog(a),s.$message({type:"success",message:e.data.msg}),s.$emit("success"),!1}},function(e){console.log(e)})}).catch(function(){s.$message({type:"info",message:"已取消删除！"})})}})},oe={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("el-button",{attrs:{plain:"",type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:function(t){return e.remove(e.item,e.index)}}},[e._v("删 除")])},staticRenderFns:[]};var re=s("VU/8")(ne,oe,!1,function(e){s("q04y")},"data-v-68938f2d",null).exports,le={name:"lists",components:{Delete:re,Radio:ie,Submit:te},data:function(){return{authLists:[],authLevel:[],search:"",syncVisible:!1,modal:!0,center:!0,labelWidth:"80px",title:"",loading:!0,loadingText:"玩命加载中。。。",url:"",refs:this.$refs,reFrom:"auth",act:"",authModel:{},cgi:{insert:g.authSave,update:g.authUpdate,remove:g.authDelete,status:g.authUpdate},rules:{name:[{required:!0,message:"权限名称不得为空",trigger:"blur"}],href:[{required:!0,message:"权限链接不得为空",trigger:"blur"}],pid:[{required:!0,message:"权限上级不得为空",trigger:"change"}],status:[{required:!0,message:"权限状态不得为空",trigger:"change"}]}}},methods:{success:function(){this.getAuthLists(this.page,this.limit),this.syncVisible=!1},getAuthLists:function(){var e=this;A.AuthLists([]).then(function(t){t&&200===t.data.code&&(e.authLists=M.a.set_tree(t.data.item.authLists),e.authLevel=t.data.item.selectAuth,e.loading=!1)})},searchAuth:function(){console.log("ss")},setAuthName:function(e){return Array(e.level+1).join("　　")+e.name},addAuth:function(){this.syncVisible=!0,this.title="添加权限",this.url=this.cgi.insert,this.act="add",this.authModel={name:"",href:"",status:"1",pid:"0",level:0,path:"1"}},updateAuth:function(e){this.syncVisible=!0,this.title="修改权限",this.url=this.cgi.update,this.authModel=e,this.act="update",this.authModel.pid=this.authModel.pid.toString()}},mounted:function(){this.$nextTick(function(){this.getAuthLists()})}},ce={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{"element-loading-text":e.loadingText}},[s("el-form",{staticStyle:{"margin-top":"10px"},attrs:{inline:!0}},[s("el-form-item",{staticStyle:{float:"right"}},[s("el-button",{attrs:{icon:"el-icon-plus",type:"primary",size:"medium",plain:""},on:{click:e.addAuth}},[e._v("添 加")])],1)],1),e._v(" "),s("el-table",{attrs:{data:e.authLists.filter(function(t){return!e.search||t.name.toLowerCase().includes(e.search.toLowerCase())||t.href.includes(e.search.toLowerCase())}),"row-key":"id","default-expand-all":"","tree-props":{children:"__child",hasChildren:"hasChildren"}}},[s("el-table-column",{attrs:{label:"权限名称",prop:"name"}}),e._v(" "),s("el-table-column",{attrs:{label:"权限链接",prop:"href"}}),e._v(" "),s("el-table-column",{attrs:{label:"显示状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("Radio",{attrs:{item:t.row,url:e.cgi.status}})]}}])}),e._v(" "),s("el-table-column",{attrs:{align:"right"},scopedSlots:e._u([{key:"header",fn:function(t){return[s("el-input",{attrs:{placeholder:"输入关键词查询"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchAuth(t)}},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})]}},{key:"default",fn:function(t){return[s("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-edit",size:"mini"},on:{click:function(s){return e.updateAuth(t.row)}}},[e._v("修 改")]),e._v(" "),s("Delete",{attrs:{url:e.cgi.remove,item:t.row,index:t.$index,Lists:e.authLists},on:{success:e.success}})]}}])})],1),e._v(" "),s("el-dialog",{attrs:{title:e.title,visible:e.syncVisible,modal:e.modal,center:e.center},on:{"update:visible":function(t){e.syncVisible=t}}},[s("el-form",{ref:e.reFrom,attrs:{"label-width":e.labelWidth,model:e.authModel,rules:e.rules}},[s("el-form-item",{attrs:{label:"权限名称",prop:"name"}},[s("el-input",{attrs:{placeholder:"权限名称"},model:{value:e.authModel.name,callback:function(t){e.$set(e.authModel,"name",t)},expression:"authModel.name"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"权限链接",prop:"href"}},[s("el-input",{attrs:{placeholder:"/admin/auth/lists"},model:{value:e.authModel.href,callback:function(t){e.$set(e.authModel,"href",t)},expression:"authModel.href"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"权限上级",prop:"pid"}},[s("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"权限上级",filterable:""},model:{value:e.authModel.pid,callback:function(t){e.$set(e.authModel,"pid",t)},expression:"authModel.pid"}},["0"===e.authModel.pid?s("el-option",{attrs:{label:"默认权限",value:"0",selected:""}}):e._e(),e._v(" "),e._l(e.authLevel,function(t,a){return s("el-option",{key:a,attrs:{label:e.setAuthName(t),value:t.id.toString()}})})],2)],1),e._v(" "),"add"===e.act?s("el-form-item",{attrs:{label:"权限状态",prop:"status"}},[s("el-radio-group",{attrs:{size:"small"},model:{value:e.authModel.status,callback:function(t){e.$set(e.authModel,"status",t)},expression:"authModel.status"}},[s("el-radio-button",{attrs:{label:"2"}},[e._v("关闭")]),e._v(" "),s("el-radio-button",{attrs:{label:"1"}},[e._v("开启")])],1)],1):e._e()],1),e._v(" "),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("Submit",{attrs:{reFrom:e.reFrom,model:e.authModel,url:e.url,refs:e.refs},on:{success:e.success}})],1)],1)],1)},staticRenderFns:[]};var ue=s("VU/8")(le,ce,!1,function(e){s("c5TN")},"data-v-47982dab",null).exports,de={name:"lists",components:{Submit:te,Delete:re,Radio:ie},data:function(){return{roleLists:[],loading:!0,loadingText:"玩命加载中。。。",authLists:[],defaultChecked:[],search:"",title:"",syncVisible:!1,modal:!0,labelWidth:"80px",center:!0,url:"",refs:this.$refs,reFrom:"role",act:"",roleModel:{},ids:[],urls:[],cgi:{insert:g.roleSave,update:g.roleUpdate,remove:g.roleDelete,status:g.roleUpdate},rules:{role_name:[{required:!0,message:"角色名称不得为空",trigger:"blur"}],ids:[{required:!0,message:"权限ID不得为空",trigger:"blur"}],urls:[{required:!0,message:"权限地址不得为空",trigger:"blur"}]}}},methods:{success:function(){this.getRoleLists(this.page,this.limit),this.syncVisible=!1},getRoleLists:function(e,t){var s=this,a={offset:t*(e-1),limit:t,level:4};A.RoleLists(a).then(function(e){e&&200===e.data.code&&(s.roleLists=e.data.item.role,s.authLists=e.data.item.auth,s.loading=!1)})},sizeChange:function(e){this.limit=e,this.getRoleLists(this.page,this.limit)},currentChange:function(e){this.page=e,this.getRoleLists(this.page,this.limit)},addRole:function(){this.title="添加角色",this.syncVisible=!0,this.url=this.cgi.insert,this.act="add",this.defaultChecked=[],this.roleModel={role_name:"",auth_ids:[],auth_url:[],status:"1",created_at:M.a.get_timestamp(),updated_at:M.a.get_timestamp()}},handleChange:function(e,t,s){var a=this;switch(t){case"left":s.forEach(function(e,t){a.ids.splice(a.ids.indexOf(e),1)});break;case"right":s.forEach(function(e,t){a.ids.push(parseInt(e))})}a.roleModel.auth_ids=a.ids},updateRole:function(e){for(var t in this.syncVisible=!0,this.title="修改角色",this.url=this.cgi.update,this.ids=JSON.parse(e.auth_ids),this.urls=JSON.parse(e.auth_url),this.defaultChecked=[],this.act="update",this.ids)this.defaultChecked.push(parseInt(this.ids[t]));this.roleModel=e,this.roleModel.auth_ids=this.defaultChecked}},mounted:function(){this.$nextTick(function(){this.getRoleLists(this.page,this.limit)})}},me={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{"element-loading-text":e.loadingText}},[s("el-form",{staticStyle:{"margin-top":"10px"},attrs:{inline:!0}},[s("el-form-item",{staticStyle:{float:"right"}},[s("el-button",{attrs:{icon:"el-icon-plus",type:"primary",size:"medium",plain:""},on:{click:e.addRole}},[e._v("添 加")])],1)],1),e._v(" "),s("el-table",{attrs:{data:e.roleLists.filter(function(t){return!e.search||t.role_name.includes(e.search)}),border:""}},[s("el-table-column",{attrs:{label:"#",prop:"id",sortable:""}}),e._v(" "),s("el-table-column",{attrs:{label:"角色名称",prop:"role_name"}}),e._v(" "),s("el-table-column",{attrs:{label:"显示状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("Radio",{attrs:{item:t.row,url:e.cgi.status}})]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"创建时间",sortable:"",prop:"created_at"}}),e._v(" "),s("el-table-column",{attrs:{label:"修改时间",sortable:"",prop:"updated_at"}}),e._v(" "),s("el-table-column",{attrs:{label:"操作",align:"right"},scopedSlots:e._u([{key:"header",fn:function(t){return[s("el-input",{attrs:{placeholder:"请输入关键词查询"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})]}},{key:"default",fn:function(t){return[s("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-edit",size:"mini"},on:{click:function(s){return e.updateRole(t.row)}}},[e._v("修 改")]),e._v(" "),s("Delete",{attrs:{url:e.cgi.remove,item:t.row,index:t.$index,Lists:e.roleLists},on:{success:e.success}})]}}])})],1),e._v(" "),s("el-dialog",{attrs:{title:e.title,visible:e.syncVisible,modal:e.modal,center:e.center},on:{"update:visible":function(t){e.syncVisible=t}}},[s("el-form",{ref:e.reFrom,attrs:{"label-width":e.labelWidth,model:e.roleModel,rules:e.rules}},[s("el-form-item",{attrs:{label:"角色名称",prop:"role_name"}},[s("el-input",{attrs:{placeholder:"角色名称"},model:{value:e.roleModel.role_name,callback:function(t){e.$set(e.roleModel,"role_name",t)},expression:"roleModel.role_name"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"权限列表",prop:"auth_ids"}},[s("el-transfer",{attrs:{titles:["所有","拥有"],"button-texts":["移除","添加"],data:e.authLists,filterable:""},on:{change:e.handleChange},model:{value:e.defaultChecked,callback:function(t){e.defaultChecked=t},expression:"defaultChecked"}})],1),e._v(" "),"add"===e.act?s("el-form-item",{attrs:{label:"状态",prop:"status"}},[s("el-radio-group",{attrs:{size:"small"},model:{value:e.roleModel.status,callback:function(t){e.$set(e.roleModel,"status",t)},expression:"roleModel.status"}},[s("el-radio-button",{attrs:{label:"0"}},[e._v("关闭")]),e._v(" "),s("el-radio-button",{attrs:{label:"1"}},[e._v("开启")])],1)],1):e._e()],1),e._v(" "),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("Submit",{attrs:{reFrom:e.reFrom,model:e.roleModel,url:e.url,refs:e.refs},on:{success:e.success}})],1)],1)],1)},staticRenderFns:[]};var he=s("VU/8")(de,me,!1,function(e){s("pZoA")},"data-v-3ddcdb29",null).exports,pe={name:"lists",components:{Submit:te,Delete:re,Radio:ie},data:function(){return{userLists:[],roleLists:[],page:1,limit:15,total:0,search:"",title:"",syncVisible:!1,modal:!0,labelWidth:"80px",loading:!0,center:!0,loadingText:"玩命加载中。。。",url:"",refs:this.$refs,reFrom:"user",act:"",userModel:{},cgi:{insert:g.userSave,update:g.userUpdate,remove:g.userDelete,status:g.userUpdate},rules:{username:[{required:!0,message:"管理员名称不得为空",trigger:"blur"}],password:[{required:!0,message:"密码不得为空",trigger:"blur"}],email:[{required:!0,message:"邮箱不得为空",trigger:"blur"},{type:"email",message:"邮箱格式不正确",trigger:"blur"}],phone_number:[{required:!0,message:"手机号不得为空",trigger:"blur"}],role_id:[{required:!0,message:"角色不得为空",trigger:"change"}]}}},methods:{success:function(){this.getUserLists(this.page,this.limit),this.syncVisible=!1},getUserLists:function(e,t){var s=this,a={offset:t*(e-1),limit:t,level:"1"};A.UserLists(a).then(function(e){e&&200===e.data.code&&(s.userLists=e.data.item.userLists,s.total=e.data.item.total,s.roleLists=e.data.item.roleLists,s.loading=!1)})},sizeChange:function(e){this.limit=e,this.getUserLists(this.page,this.limit)},currentChange:function(e){this.page=e,this.getUserLists(this.page,this.limit)},addUser:function(){this.title="添加管理员",this.syncVisible=!0,this.act="add",this.userModel={username:"",email:"",password:"",salt:M.a.set_random(),status:"1",role_id:1,phone_number:"",created_at:M.a.get_timestamp(),updated_at:M.a.get_timestamp(),access_token:""},this.url=this.cgi.insert},updateUser:function(e){this.title="修改管理员",this.syncVisible=!0,this.userModel=e,this.url=this.cgi.update,this.act="update"}},mounted:function(){this.$nextTick(function(){this.getUserLists(this.page,this.limit)})}},fe={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{"element-loading-text":e.loadingText}},[s("el-form",{staticStyle:{"margin-top":"10px"},attrs:{inline:!0}},[s("el-form-item",{staticStyle:{float:"right"}},[s("el-button",{attrs:{icon:"el-icon-plus",type:"primary",size:"medium",plain:""},on:{click:e.addUser}},[e._v("添 加")])],1)],1),e._v(" "),s("el-table",{attrs:{data:e.userLists.filter(function(t){return!e.search||t.username.toLowerCase().includes(e.search.toLowerCase())||t.email.toLowerCase().includes(e.search.toLowerCase())||t.phone_number.toLowerCase().includes(e.search.toLowerCase())}),border:""}},[s("el-table-column",{attrs:{label:"#",prop:"id"}}),e._v(" "),s("el-table-column",{attrs:{label:"管理员",prop:"username"}}),e._v(" "),s("el-table-column",{attrs:{label:"邮箱",prop:"email"}}),e._v(" "),s("el-table-column",{attrs:{label:"手机号",prop:"phone_number"}}),e._v(" "),s("el-table-column",{attrs:{label:"显示状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("Radio",{attrs:{item:t.row,url:e.cgi.status}})]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"创建时间",prop:"created_at"}}),e._v(" "),s("el-table-column",{attrs:{label:"修改时间",prop:"updated_at"}}),e._v(" "),s("el-table-column",{attrs:{label:"操作",align:"right"},scopedSlots:e._u([{key:"header",fn:function(t){return[s("el-input",{attrs:{placeholder:"请输入关键词查询"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})]}},{key:"default",fn:function(t){return[s("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-edit",size:"mini"},on:{click:function(s){return e.updateUser(t.row)}}},[e._v("修 改")]),e._v(" "),s("Delete",{attrs:{url:e.cgi.remove,item:t.row,index:t.$index,Lists:e.userLists},on:{success:e.success}})]}}])})],1),e._v(" "),s("div",{staticStyle:{margin:"25px 0"}},[s("el-pagination",{attrs:{"page-sizes":[15,30,50,100],"page-size":e.limit,layout:"total, sizes, prev, pager, next, jumper",total:e.total,"current-page":e.page},on:{"size-change":e.sizeChange,"current-change":e.currentChange}})],1),e._v(" "),s("el-dialog",{attrs:{title:e.title,visible:e.syncVisible,modal:e.modal,center:e.center},on:{"update:visible":function(t){e.syncVisible=t}}},[s("el-form",{ref:e.reFrom,attrs:{"label-width":e.labelWidth,model:e.userModel,rules:e.rules}},[s("el-form-item",{attrs:{label:"管理员",prop:"username"}},[s("el-input",{attrs:{placeholder:"管理员名称"},model:{value:e.userModel.username,callback:function(t){e.$set(e.userModel,"username",t)},expression:"userModel.username"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"密码",prop:"password"}},[s("el-input",{attrs:{type:"password",placeholder:"密码"},model:{value:e.userModel.password,callback:function(t){e.$set(e.userModel,"password",t)},expression:"userModel.password"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[s("el-input",{attrs:{type:"email",placeholder:"邮箱"},model:{value:e.userModel.email,callback:function(t){e.$set(e.userModel,"email",t)},expression:"userModel.email"}})],1),e._v(" "),"update"===e.act?s("el-form-item",{attrs:{label:"手机号",prop:"phone_number"}},[s("el-input",{attrs:{type:"email",placeholder:"手机号"},model:{value:e.userModel.phone_number,callback:function(t){e.$set(e.userModel,"phone_number",t)},expression:"userModel.phone_number"}})],1):e._e(),e._v(" "),s("el-form-item",{attrs:{label:"角色",prop:"role_id"}},[s("el-select",{staticStyle:{width:"100%"},model:{value:e.userModel.role_id,callback:function(t){e.$set(e.userModel,"role_id",t)},expression:"userModel.role_id"}},e._l(e.roleLists,function(e,t){return s("el-option",{key:t,attrs:{label:e.role_name,value:e.id}})}),1)],1),e._v(" "),"add"===e.act?s("el-form-item",{attrs:{label:"显示状态",prop:"status"}},[s("el-radio-group",{attrs:{size:"small"},model:{value:e.userModel.status,callback:function(t){e.$set(e.userModel,"status",t)},expression:"userModel.status"}},[s("el-radio-button",{attrs:{label:"2"}},[e._v("关闭")]),e._v(" "),s("el-radio-button",{attrs:{label:"1"}},[e._v("开启")])],1)],1):e._e()],1),e._v(" "),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("Submit",{attrs:{reFrom:e.reFrom,model:e.userModel,url:e.url,refs:e.refs},on:{success:e.success}})],1)],1)],1)},staticRenderFns:[]};var ge=s("VU/8")(pe,fe,!1,function(e){s("T+z7")},"data-v-2332f94c",null).exports,ve={name:"Upload",props:{avatar_url:String,username:String,size:{type:[Number,String],default:100},index:{type:[Number,String],default:1}},data:function(){return{fileData:{},headers:{},uploadUrl:"https://www.fanglonger.com/api/"+g.fileUpload}},methods:{uploadSuccess:function(e){if(e&&200===e.code)return this.$message({type:"success",message:e.msg}),void this.$emit("uploadSuccess",e.item.src);this.$message({type:"warning",message:e.msg})},beforeUpload:function(e){var t=e.type;return["image/jpg","image/gif","image/png","image/jpeg"].includes(t)?!(e.size>2097152)||(this.$message({type:"warning",message:"upload image size error"}),!1):(this.$message({type:"warning",message:"upload image format error"}),!1)}},created:function(){this.fileData.token=this.$store.state.login.token,this.fileData.rand=!0,this.headers.Authorization=""+M.a.set_password(M.a.set_random(32),M.a.set_random(12))+this.fileData.token+M.a.set_password(M.a.set_random(32),M.a.set_random(12))}},be={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-upload",{attrs:{action:e.uploadUrl,data:e.fileData,headers:e.headers,"show-file-list":!1,index:e.index,"on-success":e.uploadSuccess,"before-upload":e.beforeUpload}},[s("el-avatar",{attrs:{src:e.avatar_url,alt:e.username,fit:"cover",size:e.size}})],1)},staticRenderFns:[]};var _e=s("VU/8")(ve,be,!1,function(e){s("PyPa")},"data-v-3efb5300",null).exports,ye={name:"lists",components:{Submit:te,Upload:_e},data:function(){return{loading:!0,loadingText:"玩命加载中。。。",userCenter:{avatarUrl:"",u_name:"",local:[],ip_address:[],notice_status:"",user_status:"",desc:"",tags:[],u_type:""},reFrom:"center",refs:this.$refs,url:g.saveUserCenter,fileData:{},headers:{},cgi:{save:""},rules:{avatarUrl:[{required:!0,message:"用户头像不得为空",trigger:"change"}],u_name:[{required:!0,message:"用户名称不得为空",trigger:"blur"}],u_type:[{required:!0,message:"账户类型不得为空",trigger:"blur"}],local:[{required:!0,message:"居住地址不得为空",trigger:"change"}],ip_address:[{required:!0,message:"用户地址不得为空",trigger:"change"}],desc:[{required:!0,message:"个人介绍不得为空",trigger:"blur"}],tags:[{required:!0,message:"用户标签不得为空",trigger:"blur"}],notice_status:[{required:!0,message:"站内通知",trigger:"change"}],user_status:[{required:!0,message:"账号信息",trigger:"change"}]},inputVisible:!1,inputValue:"",pid:1,options:[],props:{value:"name",label:"name"}}},computed:m()({},Object(h.c)(["username","avatarUrl"])),methods:{uploadSuccess:function(e){this.userCenter.avatarUrl=e},handleClose:function(e){this.userCenter.tags.splice(this.userCenter.tags.indexOf(e),1)},showInput:function(){var e=this;this.inputVisible=!0,this.$nextTick(function(t){e.$refs.saveTagInput.focus()})},setLocal:function(e){return e.length>0?e.join(",").replace(new RegExp(/,/g)," / "):e},handleInputConfirm:function(){var e=this.inputValue;e&&this.userCenter.tags.indexOf(e)<0&&this.userCenter.tags.push(e),this.inputVisible=!1,this.inputValue=""},getCity:function(e){var t=this;A.AreaLists({parent_id:e},g.areaLists).then(function(e){e&&200===e.data.code&&t.setOptions(e.data.item)})},setOptions:function(e){for(var t in e)0===e[t].children.length&&delete e[t].children,this.setOptions(e[t].children);this.options=e},getUserCenter:function(){var e=this;this.loading=!0,A.UserCenter([]).then(function(t){t&&200===t.data.code&&(e.loading=!1,e.userCenter=t.data.item,e.userCenter.avatarUrl=e.avatarUrl,e.userCenter.user_status=e.userCenter.user_status.toString(),e.userCenter.notice_status=e.userCenter.notice_status.toString(),e.getCity(e.pid))})},resetForm:function(e){this.$refs[e].resetFields()}},mounted:function(){this.$nextTick(function(){this.getUserCenter()})}},xe={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{"element-loading-text":e.loadingText}},[s("el-row",{attrs:{gutter:24}},[s("el-col",{attrs:{xl:6,lg:6}},[s("el-card",{attrs:{shadow:"always"}},[s("div",{staticStyle:{"text-align":"center"}},[s("el-avatar",{attrs:{src:e.avatarUrl,size:100,alt:e.username}}),e._v(" "),s("div",{domProps:{innerHTML:e._s(e.userCenter.u_name)}})],1),e._v(" "),s("div",{staticClass:"message"},[s("p",[s("i",{staticClass:"el-icon-message"}),e._v(" "+e._s(e.userCenter.email)+" ")]),e._v(" "),s("p",[s("i",{staticClass:"el-icon-location-information"}),e._v(" "+e._s(e.setLocal(e.userCenter.local))+" ")]),e._v(" "),s("p",[s("i",{staticClass:"el-icon-aim"}),e._v(" "+e._s(e.userCenter.desc)+" ")]),e._v(" "),s("p",[e._v("个人标签：\n                        "),e._l(e.userCenter.tags,function(t){return s("el-tag",{key:t,staticStyle:{"margin-left":"10px"}},[e._v("\n                            "+e._s(t)+"\n                        ")])})],2)])])],1),e._v(" "),s("el-col",{attrs:{xl:18,lg:18}},[s("el-tabs",{attrs:{type:"border-card"}},[s("el-tab-pane",{attrs:{label:"基础设置"}}),e._v(" "),s("el-card",{attrs:{shadow:"always"}},[s("el-form",{ref:"center",attrs:{model:e.userCenter,"label-width":"80px","label-position":"left",rules:e.rules}},[s("el-form-item",{attrs:{label:"头像",prop:"avatarUrl"}},[s("el-tooltip",{attrs:{effect:"dark",content:"用户头像修改请移步至用户列表",placement:"top-start"}},[s("Upload",{attrs:{avatar_url:e.userCenter.avatarUrl,username:e.username},on:{uploadSuccess:e.uploadSuccess}})],1)],1),e._v(" "),s("el-form-item",{attrs:{label:"用户名",prop:"u_name"}},[s("el-input",{attrs:{placeholder:"用户名"},model:{value:e.userCenter.u_name,callback:function(t){e.$set(e.userCenter,"u_name",t)},expression:"userCenter.u_name"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"账户类型",prop:"u_type"}},[s("el-select",{staticStyle:{width:"100%"},model:{value:e.userCenter.u_type.toString(),callback:function(t){e.$set(e.userCenter.u_type,"toString()",t)},expression:"userCenter.u_type.toString()"}},[s("el-option",{attrs:{label:"授权用户",value:"1"}}),e._v(" "),s("el-option",{attrs:{label:"管理员",value:"2"}})],1)],1),e._v(" "),s("el-form-item",{attrs:{label:"居住地址",prop:"local"}},[s("el-cascader",{staticStyle:{width:"100%"},attrs:{props:e.props,options:e.options,filterable:""},model:{value:e.userCenter.local,callback:function(t){e.$set(e.userCenter,"local",t)},expression:"userCenter.local"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"所在地",prop:"ip_address"}},[s("el-cascader",{staticStyle:{width:"100%"},attrs:{props:e.props,options:e.options,filterable:""},model:{value:e.userCenter.ip_address,callback:function(t){e.$set(e.userCenter,"ip_address",t)},expression:"userCenter.ip_address"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"座右铭",prop:"desc"}},[s("el-input",{attrs:{type:"textarea",resize:"none",rows:"4","show-word-limit":"",maxlength:"128",placeholder:"这个人很懒，什么也没有留下"},model:{value:e.userCenter.desc,callback:function(t){e.$set(e.userCenter,"desc",t)},expression:"userCenter.desc"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"个人标签",prop:"tags"}},[e._l(e.userCenter.tags,function(t){return s("el-tag",{key:t,staticStyle:{"margin-left":"10px"},attrs:{closable:"","disable-transitions":!1},on:{close:function(s){return e.handleClose(t)}}},[e._v("\n                                "+e._s(t)+"\n                            ")])}),e._v(" "),e.inputVisible?s("el-input",{ref:"saveTagInput",staticStyle:{width:"100px"},attrs:{size:"small"},on:{blur:e.handleInputConfirm},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleInputConfirm(t)}},model:{value:e.inputValue,callback:function(t){e.inputValue=t},expression:"inputValue"}}):s("el-button",{staticStyle:{"margin-right":"5px"},attrs:{size:"small"},on:{click:e.showInput}},[e._v("+ New Tag")])],2),e._v(" "),s("el-form-item",{attrs:{label:"站内通知",prop:"notice_status"}},[s("el-tooltip",{attrs:{effect:"dark",content:"系统性的通知或者更新消息",placement:"top-start"}},[s("el-switch",{attrs:{"active-value":"1","inactive-value":"2"},model:{value:e.userCenter.notice_status,callback:function(t){e.$set(e.userCenter,"notice_status",t)},expression:"userCenter.notice_status"}})],1)],1),e._v(" "),s("el-form-item",{attrs:{label:"账号信息",prop:"user_status"}},[s("el-tooltip",{attrs:{effect:"dark",content:"帐号变更的通知消息",placement:"top-start"}},[s("el-switch",{attrs:{"active-value":"1","inactive-value":"2"},model:{value:e.userCenter.user_status,callback:function(t){e.$set(e.userCenter,"user_status",t)},expression:"userCenter.user_status"}})],1)],1),e._v(" "),s("el-form-item",{staticStyle:{"text-align":"center"}},[s("Submit",{attrs:{reFrom:e.reFrom,url:e.url,model:e.userCenter,refs:e.refs}})],1)],1)],1)],1)],1)],1)],1)},staticRenderFns:[]};var ke=s("VU/8")(ye,xe,!1,function(e){s("OxKM")},"data-v-a99796bc",null).exports,we={name:"log",components:{Delete:re},data:function(){return{logLists:[],page:1,limit:15,total:0,search:"",labelWidth:"80px",loading:!0,loadingText:"玩命加载中。。。",cgi:{remove:g.logDelete},rules:{}}},methods:{success:function(){this.getLogLists(this.page,this.limit)},getLogLists:function(e,t){var s=this,a={page:e,limit:t};A.LogLists(a).then(function(e){e&&200===e.data.code&&(s.logLists=e.data.item.data,s.total=e.data.item.total,s.loading=!1)})},sizeChange:function(e){this.limit=e,this.getLogLists(this.page,this.limit)},currentChange:function(e){this.page=e,this.getLogLists(this.page,this.limit)}},mounted:function(){this.$nextTick(function(){this.getLogLists(this.page,this.limit)})}},Ce={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{"element-loading-text":e.loadingText}},[s("el-table",{attrs:{data:e.logLists.filter(function(t){return!e.search||t.username.toLowerCase().includes(e.search.toLowerCase())||t.ip_address.includes(e.search.toLowerCase())}),border:""}},[s("el-table-column",{attrs:{label:"#",prop:"id",sortable:"",width:"100px"}}),e._v(" "),s("el-table-column",{attrs:{label:"执行人",prop:"username",sortable:"",width:"150px"}}),e._v(" "),s("el-table-column",{attrs:{label:"日志信息",prop:"log","show-overflow-tooltip":!0}}),e._v(" "),s("el-table-column",{attrs:{label:"地址",prop:"ip_address",width:"200px"}}),e._v(" "),s("el-table-column",{attrs:{label:"创建时间",sortable:"",prop:"created_at",width:"200px"}}),e._v(" "),s("el-table-column",{attrs:{label:"操作",align:"right",width:"200px"},scopedSlots:e._u([{key:"header",fn:function(t){return[s("el-input",{attrs:{placeholder:"请输入关键字查询"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})]}},{key:"default",fn:function(t){return[s("Delete",{attrs:{url:e.cgi.remove,item:t.row,index:t.$index,Lists:e.logLists},on:{success:e.success}})]}}])})],1),e._v(" "),s("div",{staticStyle:{margin:"25px 0"}},[s("el-pagination",{attrs:{"page-sizes":[15,30,50,100],"page-size":e.limit,layout:"total, sizes, prev, pager, next, jumper",total:e.total,"current-page":e.page},on:{"size-change":e.sizeChange,"current-change":e.currentChange}})],1)],1)},staticRenderFns:[]};var Se=s("VU/8")(we,Ce,!1,function(e){s("Dldn")},"data-v-a00bffe2",null).exports,Le=s("gZhU");s("c6RA"),s("aGTD"),s("UM8r"),s("Yokd"),s("THjC"),s("Kk9m"),s("fo6W"),s("fo6W"),s("soCA"),s("vq+x");var Me={name:"lists",components:{codemirror:Le.codemirror},data:function(){return{props:{label:"label",children:"children",isLeaf:!1},options:{mode:"text/x-php",tabSize:4,lineNumbers:!0,theme:"monokai",extraKeys:{"Ctrl-Space":"autocomplete"},lineWrapping:!1,foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"],indentWithTabs:!0,smartIndent:!0,matchBrackets:!0,cursorHeight:1,autoRefresh:!0,styleActiveLine:!0,readOnly:!0,showCursorWhenSelecting:!0},highlight:!0,fileLists:[],path:"storage_path",loading:!0,loadingText:"玩命加载中。。。",filterText:"",fileModel:{content:"",path:""}}},watch:{filterText:function(e){this.$refs.tree.filter(e)}},computed:m()({},Object(h.c)(["currSystemLogObj","token"])),methods:m()({},Object(h.b)(["addCurrSystemLogObj"]),{filterNode:function(e,t){return!e||-1!==t.label.toLowerCase().indexOf(e.toLowerCase())},getFileLists:function(e){var t=this,s={path:e,basename:"/logs//"};A.FileLists(s).then(function(e){e&&200===e.data.code&&(t.fileLists=e.data.item,t.getFileContent(t.fileLists[t.fileLists.length-1]),t.loading=!1)})},getFileContent:function(e){var t=this,s={path:e.path};this.fileModel.name=e.label,A.FileRead(s).then(function(e){e&&200===e.data.code&&(t.fileModel.content=e.data.item.content,t.addCurrSystemLogObj(t.fileModel))})}}),mounted:function(){this.$nextTick(function(){this.getFileLists(this.path)})}},Te={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{"element-loading-text":e.loadingText}},[s("el-row",{attrs:{gutter:24}},[s("el-col",{staticStyle:{"margin-bottom":"20px"},attrs:{xl:{span:5},lg:{span:5},md:{span:24},sm:{span:24},xs:{span:24}}},[s("el-input",{staticStyle:{"margin-bottom":"20px"},attrs:{placeholder:"输入关键字搜索"},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}}),e._v(" "),s("el-tree",{ref:"tree",staticStyle:{"background-color":"#393d49"},attrs:{data:e.fileLists,"highlight-current":e.highlight,props:e.props,"filter-node-method":e.filterNode,"node-key":e.props.id},on:{"node-click":e.getFileContent}})],1),e._v(" "),s("el-col",{attrs:{xl:{span:18,push:1},lg:{span:18,push:1},md:{span:24},sm:{span:24},xs:{span:24}}},[s("el-form",{attrs:{model:e.fileModel}},[s("el-form-item",{staticStyle:{"margin-left":"-30px !important"}},[s("el-tabs",{attrs:{type:"border-card"},model:{value:e.fileModel.name,callback:function(t){e.$set(e.fileModel,"name",t)},expression:"fileModel.name"}},[s("el-tab-pane",{key:e.fileModel.name,attrs:{label:e.fileModel.name,name:e.fileModel.name}}),e._v(" "),s("el-card",{attrs:{shadow:"always"}},[s("codemirror",{staticStyle:{"line-height":"20px"},attrs:{value:e.fileModel.content,options:e.options}})],1)],1)],1)],1)],1)],1)],1)},staticRenderFns:[]};var $e=s("VU/8")(Me,Te,!1,function(e){s("wz4K")},"data-v-ad113276",null).exports;s("c6RA"),s("f6fj"),s("ezqs"),s("Mixr"),s("5IAE"),s("aGTD"),s("UM8r"),s("Yokd"),s("THjC"),s("Kk9m"),s("fo6W"),s("fo6W"),s("soCA"),s("vq+x");var Re={name:"lists",components:{Submit:te,codemirror:Le.codemirror},data:function(){return{props:{label:"label",children:"children",isLeaf:!1},checkBoxArr:[{id:4,value:"读取"},{id:2,value:"写入"},{id:1,value:"执行"}],all:[],user:[],common:[],all_id:0,user_id:0,common_id:0,chmodModel:{auth:parseInt(this.all_id+""+this.user_id+this.common_id),path:""},compressionModel:{docLists:[],resource:"",path:""},mode:{markdown:"text/markdown",php:"text/x-php",xml:"text/xml",json:"application/ld+json"},options:{mode:"text/x-php",tabSize:4,lineNumbers:!0,theme:"monokai",extraKeys:{"Ctrl-Space":"autocomplete"},lineWrapping:!1,foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"],indentWithTabs:!0,smartIndent:!0,matchBrackets:!0,cursorHeight:1,autoRefresh:!0,styleActiveLine:!0,readOnly:!0},menuVisible:!1,highlight:!0,fileLists:[],path:"base_path",activeFileTabName:null,title:"default",syncVisible:!1,modal:!0,labelWidth:"80px",center:!0,loading:!0,loadingText:"玩命加载中。。。",url:"",refs:this.$refs,reFrom:"file",fileObject:{},showRightBtn:{add:!0,rename:!0,remove:!0,compression:!0,DeCompression:!1,auth:!0,download:!0,upload:!0},fileModel:{content:"",path:""},fileList:[],fileSyncVisible:!1,fileData:{},headers:{},showIdea:!0,cgi:{update:g.fileUpdate,chmod:g.fileChmod,uploadUrl:"https://www.fanglonger.com/api/"+g.fileUpload},imgVisible:!1,dialogImageUrl:"",rules:{auth:[{required:!0,message:"权限不得为空",trigger:"blur"},{type:"number",message:"权限必须为数字值",trigger:"blur"}]},filterText:"",scrollTop:0}},watch:{filterText:function(e){this.$refs.tree.filter(e)}},computed:m()({},Object(h.c)(["fileTabs","currFileObj","token","username"])),methods:m()({},Object(h.b)(["addFileTabs","deleteFileTabs","addCurrFileObj","saveSystemLog"]),{success:function(){this.addCurrFileObj(this.fileModel),this.getFileLists(this.path),this.syncVisible=!1},filterNode:function(e,t){return!e||-1!==t.label.toLowerCase().indexOf(e.toLowerCase())},getFileLists:function(e){var t=this,s={path:e,basename:"/"};A.FileLists(s).then(function(e){e&&200===e.data.code&&(t.fileLists=e.data.item,t.loading=!1)})},rightClick:function(e,t,s,a){this.menuVisible=!1,this.menuVisible=!0;var i=document.querySelector("#menu");switch(this.scrollTop=M.a.get_scroll_top(),document.addEventListener("click",this.foo),i.style.left="360px",i.style.top=e.clientY+this.scrollTop-125+"px",this.fileObject=t,this.fileObject.fileType){case"file":this.showRightBtn.DeCompression=!1,this.showRightBtn.download=!0;var n=this.fileObject.label.split(".")[1];["tar","zip","7z","TAR","ZIP","7Z"].includes(n)&&(this.showRightBtn.DeCompression=!0);break;case"dir":this.showRightBtn.download=!1,this.showRightBtn.DeCompression=!1}},foo:function(){this.menuVisible=!1,document.removeEventListener("click",this.foo)},goto:function(e){var t=e.label.split(".")[1];this.setOptionsMode(t);var s=this.fileTabs;for(var a in s)if(s[a].label===e.label){this.fileModel.content=s[a].content,this.fileModel.path=s[a].path;var i={content:this.fileModel.content,path:this.fileModel.path,name:s[a].name};this.addCurrFileObj(i)}},removeTabName:function(e){var t=this;this.fileTabs.forEach(function(s,a){if(s.name===e){var i=t.fileTabs[a+1]||t.fileTabs[a-1];if(i){t.activeFileTabName=i.name,t.fileModel.content=i.content;var n={content:i.content,path:i.path,name:i.name};t.addCurrFileObj(n),t.deleteFileTabs(e)}}})},getFileContent:function(e){var t=this,s=e.label.split(".")[1];if(["tar","zip","7z","TAR","ZIP","7Z"].includes(s)||"file"!==e.fileType)return!1;this.setOptionsMode(s),this.showIdea=!0,this.activeFileTabName=e.size.toString();var a={path:e.path},i={};this.url=this.cgi.update,i.label=e.label,i.name=e.size.toString(),i.path=e.path,A.FileRead(a).then(function(s){s&&200===s.data.code&&(t.fileModel.content=s.data.item.content,t.fileModel.path=e.path,i.content=t.fileModel.content,t.addCurrFileObj(i),t.addFileTabs(i))})},setOptionsMode:function(e){switch(e){case"xml":this.options.mode=this.mode.xml;break;case"md":this.options.mode=this.mode.markdown;break;case"json":case"lock":this.options.mode=this.mode.json;break;default:this.options.mode=this.mode.php}},renameFile:function(){var e=this,t={oldFile:this.fileObject.path};this.$prompt("请输入文件名","重命名",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(s){var a=s.value;if(""===a||null===a||"null"===a||"undefined"===a)return e.$message.warning("文件名不得为空"),!1;t.newFile=t.oldFile.replace(e.fileObject.label,a),A.FileRename(t).then(function(t){if(t&&200===t.data.code){e.fileObject.name=a,e.$message({type:"success",message:"你的新文件名: "+a});var s={msg:i()({href:g.fileSave,info:"你的新文件名: "+a,result:t.data.result})};e.saveSystemLog(s),e.getFileLists(e.path)}})}).catch(function(){e.$message({type:"info",message:"取消输入"})})},deleteFile:function(){var e=this;this.$confirm("此操作将永远删除该条记录，是否继续？","删除记录",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var t={path:e.fileObject.path};A.FileDelete(t).then(function(s){if(s&&200===s.data.code){var a={msg:"删除文件成功："+t.path,result:s.data.result,href:g.fileDelete};e.saveSystemLog(a),e.getFileLists(e.path),e.$message({type:"success",message:"删除记录成功！："+t.path})}})}).catch(function(){e.$message({type:"info",message:"已取消删除！"})})},addFile:function(){var e=this,t={};this.$prompt("请输入文件名","新建文件",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(s){var a=s.value;if(""===a||null===a||"null"===a||"undefined"===a)return e.$message.warning("文件名不得为空"),!1;"file"===e.fileObject.fileType?t.path=e.fileObject.path.replace(e.fileObject.label,a):"dir"===e.fileObject.fileType&&(t.path=e.fileObject.path+"/"+a),A.FileSave(t).then(function(s){if(s&&200===s.data.code){var a={msg:"你的新文件名: "+t.path,result:s.data.result,href:g.fileRename};e.saveSystemLog(a),e.getFileLists(e.path),e.$message({type:"success",message:"你的新文件名: "+t.path})}})}).catch(function(){e.$message({type:"info",message:"取消输入"})})},authFile:function(){this.syncVisible=!0,this.title="设置权限【"+this.fileObject.path+"】",this.chmodModel.auth=parseInt(this.fileObject.auth),this.chmodModel.path=this.fileObject.path,this.all_id=this.fileObject.auth.substr(0,1),this.user_id=this.fileObject.auth.substr(1,1),this.common_id=this.fileObject.auth.substr(2,1),this.all=this.setChmod(this.all_id),this.user=this.setChmod(this.user_id),this.common=this.setChmod(this.common_id),this.url=this.cgi.chmod},setChmod:function(e){var t=[];switch(e){case"7":t=["读取","写入","执行"];break;case"6":t=["读取","写入"];break;case"5":t=["读取","执行"];break;case"4":t=["读取"];break;case"3":t=["写入","执行"];break;case"2":t=["写入"];break;case"1":t=["执行"]}return t},setChmodAuth:function(){this.chmodModel.auth=parseInt(this.chmodModel.auth),this.chmodModel.auth>666&&(this.$message({type:"warning",message:"权限设置失败"}),this.chmodModel.auth=parseInt(this.fileObject.auth)),this.all_id=this.chmodModel.auth.toString().substr(0,1),this.user_id=this.chmodModel.auth.toString().substr(1,1),this.common_id=this.chmodModel.auth.toString().substr(2,1),this.all=this.setChmod(this.all_id),this.user=this.setChmod(this.user_id),this.common=this.setChmod(this.common_id),this.url=this.cgi.chmod},getChmod:function(e){var t=0;for(var s in e)"读取"===e[s]&&(t+=4),"写入"===e[s]&&(t+=2),"执行"===e[s]&&(t+=1);return t},allChange:function(e){this.all_id=this.getChmod(e),this.chmodModel.auth=parseInt(this.all_id+""+this.user_id+this.common_id)},userChange:function(e){this.user_id=this.getChmod(e),this.chmodModel.auth=parseInt(this.all_id+""+this.user_id+this.common_id)},commonChange:function(e){this.common_id=this.getChmod(e),this.chmodModel.auth=parseInt(this.all_id+""+this.user_id+this.common_id)},compressionFile:function(){var e=this;this.$prompt("请输入文件名","压缩包名称",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(t){var s=t.value;if(""===s||null===s||"null"===s||"undefined"===s)return e.$message.warning("压缩包名称不得为空"),!1;e.compressionModel.resource=s,e.compressionModel.docLists.push(e.fileObject.path),e.compressionModel.path=e.fileObject.path.replace(e.fileObject.label,""),A.Compression(e.compressionModel).then(function(t){if(t&&200===t.data.code){e.$message({type:"success",message:t.data.msg});var s={msg:"你的压缩包名: "+e.compressionModel.type,result:t.data.result,href:g.fileCompression};e.saveSystemLog(s),e.getFileLists(e.path)}})}).catch(function(){e.$message({type:"info",message:"取消输入"})})},DecompressionFile:function(){var e=this;this.$prompt("请输入文件名","解压包名称",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(t){var s=t.value;if(""===s||null===s||"null"===s||"undefined"===s)return e.$message.warning("解压包名称不得为空"),!1;var a={path:e.fileObject.path,resource:s};A.Decompression(a).then(function(t){if(t&&200===t.data.code){e.$message({type:"success",message:t.data.msg});var s={msg:"文件解压成功",result:t.data.result,href:g.fileDecompression};e.saveSystemLog(s),e.getFileLists(e.path)}})}).catch(function(){e.$message({type:"info",message:"取消输入"})})},downloadFile:function(){var e=this;this.$alert("确定下载文件："+this.fileObject.path,"文件下载").then(function(){window.open("https://www.fanglonger.com/api/"+g.fileDownload+"?token="+e.token+"&path="+e.fileObject.path,"__target");var t={msg:"文件下载成功："+e.fileObject.path,href:g.fileDownload};e.saveSystemLog(t),e.$message({type:"success",message:"download file successfully"})}).catch(function(){e.$message({type:"info",message:"取消下载"})})},uploadFile:function(){this.fileSyncVisible=!0,this.fileList=[],this.fileData.token=this.token,"file"===this.fileObject.fileType?this.fileData.path=this.fileObject.path.replace(this.fileObject.label,""):"dir"===this.fileObject.fileType&&(this.fileData.path=this.fileObject.path)},submitUpload:function(){this.headers.Authorization=""+M.a.set_password(M.a.set_random(32),M.a.set_random(12))+this.token+M.a.set_password(M.a.set_random(32),M.a.set_random(12)),this.$refs.upload.submit()},handleRemove:function(e){this.$message({type:"warning",message:"取消文件上传："+e.name})},handelSuccess:function(e){var t=this;if(200===e.code){var s=e.item.name.split(".")[1];["png","jpeg","gif","jpg"].includes(s.toLowerCase())&&this.$alert("是否预览图片?","图片预览").then(function(){t.imgVisible=!0,A.ImagePreview({name:e.item.name}).then(function(e){e&&200===e.data.code&&(t.dialogImageUrl=e.data.item.src)})}),this.$message({type:"success",message:e.msg});var a={msg:e.msg,result:e,href:g.fileUpload};this.saveSystemLog(a),this.getFileLists(this.path),this.fileSyncVisible=!1}},updateContent:function(e){this.fileModel.content=e}}),created:function(){this.activeFileTabName=this.currFileObj.name,this.fileModel=this.currFileObj,null===this.activeFileTabName&&(this.fileModel.content="",this.showIdea=!1),"admin"===this.username&&(this.options.readOnly=!1)},mounted:function(){this.$nextTick(function(){this.url=this.cgi.update,this.getFileLists(this.path)})}},Ve={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{"element-loading-text":e.loadingText}},[s("el-row",{attrs:{gutter:24}},[s("el-col",{staticStyle:{"margin-bottom":"20px"},attrs:{xl:{span:5},lg:{span:5},md:{span:24},sm:{span:24},xs:{span:24}}},[s("el-input",{staticStyle:{"margin-bottom":"20px"},attrs:{placeholder:"输入关键字搜索"},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}}),e._v(" "),s("el-tree",{ref:"tree",staticStyle:{"background-color":"#393d49"},attrs:{data:e.fileLists,"highlight-current":e.highlight,props:e.props,"filter-node-method":e.filterNode,"node-key":e.props.id},on:{"node-contextmenu":e.rightClick,"node-click":e.getFileContent}})],1),e._v(" "),s("el-col",{directives:[{name:"show",rawName:"v-show",value:e.showIdea,expression:"showIdea"}],attrs:{xl:{span:18,push:1},lg:{span:18,push:1},md:{span:24},sm:{span:24},xs:{span:24}}},[s("el-form",{ref:e.reFrom,attrs:{model:e.fileModel}},[s("el-form-item",{staticStyle:{"margin-left":"-30px !important"}},[s("el-tabs",{staticStyle:{"text-align":"left!important"},attrs:{type:"border-card",closable:""},on:{"tab-click":e.goto,"tab-remove":e.removeTabName},model:{value:e.activeFileTabName,callback:function(t){e.activeFileTabName=t},expression:"activeFileTabName"}},[e._l(e.fileTabs,function(e){return s("el-tab-pane",{key:e.name,attrs:{label:e.label,name:e.name}})}),e._v(" "),s("el-card",{attrs:{shadow:"always"}},[s("codemirror",{ref:"edit",staticStyle:{"line-height":"20px"},attrs:{value:e.fileModel.content,options:e.options},on:{change:e.updateContent}})],1)],2)],1)],1),e._v(" "),s("Submit",{staticStyle:{"text-align":"center !important"},attrs:{reFrom:e.reFrom,model:e.fileModel,url:e.url,refs:e.refs},on:{success:e.success}})],1)],1),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.menuVisible,expression:"menuVisible"}],staticStyle:{"z-index":"100"}},[s("el-menu",{staticClass:"menu",staticStyle:{"border-bottom":"solid 1px #393d49"},attrs:{id:"menu",mode:"horizontal","background-color":"#393d49","text-color":"#cccccc","active-text-color":"#ffd04b"}},[s("el-menu-item",{directives:[{name:"show",rawName:"v-show",value:e.showRightBtn.add,expression:"showRightBtn.add"}],on:{click:e.addFile}},[s("i",{staticClass:"el-icon-circle-plus-outline"}),e._v("添 加")]),e._v(" "),s("el-menu-item",{directives:[{name:"show",rawName:"v-show",value:e.showRightBtn.rename,expression:"showRightBtn.rename"}],on:{click:e.renameFile}},[s("i",{staticClass:"el-icon-edit-outline"}),e._v("重命名")]),e._v(" "),s("el-menu-item",{directives:[{name:"show",rawName:"v-show",value:e.showRightBtn.auth,expression:"showRightBtn.auth"}],on:{click:e.authFile}},[s("i",{staticClass:"el-icon-user-solid"}),e._v("权 限")]),e._v(" "),s("el-menu-item",{directives:[{name:"show",rawName:"v-show",value:e.showRightBtn.compression,expression:"showRightBtn.compression"}],on:{click:e.compressionFile}},[s("i",{staticClass:"el-icon-collection"}),e._v("压 缩")]),e._v(" "),s("el-menu-item",{directives:[{name:"show",rawName:"v-show",value:e.showRightBtn.DeCompression,expression:"showRightBtn.DeCompression"}],on:{click:e.DecompressionFile}},[s("i",{staticClass:"el-icon-receiving"}),e._v("解 压")]),e._v(" "),s("el-menu-item",{directives:[{name:"show",rawName:"v-show",value:e.showRightBtn.download,expression:"showRightBtn.download"}],on:{click:e.downloadFile}},[s("i",{staticClass:"el-icon-download"}),e._v("下 载")]),e._v(" "),s("el-menu-item",{directives:[{name:"show",rawName:"v-show",value:e.showRightBtn.upload,expression:"showRightBtn.upload"}],on:{click:e.uploadFile}},[s("i",{staticClass:"el-icon-upload"}),e._v("上 传")]),e._v(" "),s("el-menu-item",{directives:[{name:"show",rawName:"v-show",value:e.showRightBtn.remove,expression:"showRightBtn.remove"}],on:{click:e.deleteFile}},[s("i",{staticClass:"el-icon-delete-solid"}),e._v("删 除")])],1)],1),e._v(" "),s("el-dialog",{attrs:{visible:e.syncVisible,modal:e.modal,title:e.title,center:e.center},on:{"update:visible":function(t){e.syncVisible=t}}},[s("el-form",{ref:e.reFrom,attrs:{"label-width":e.labelWidth,model:e.chmodModel,rules:e.rules}},[s("el-form-item",{attrs:{label:"权限",prop:"auth",required:""}},[s("el-input",{attrs:{placeholder:"请输入内容"},on:{change:e.setChmodAuth},model:{value:e.chmodModel.auth,callback:function(t){e.$set(e.chmodModel,"auth",t)},expression:"chmodModel.auth"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"所有者",required:""}},[s("el-checkbox-group",{on:{change:e.allChange},model:{value:e.all,callback:function(t){e.all=t},expression:"all"}},e._l(e.checkBoxArr,function(e){return s("el-checkbox",{key:e.id,attrs:{border:"",size:"small",label:e.value}})}),1)],1),e._v(" "),s("el-form-item",{attrs:{label:"用户组",required:""}},[s("el-checkbox-group",{on:{change:e.userChange},model:{value:e.user,callback:function(t){e.user=t},expression:"user"}},e._l(e.checkBoxArr,function(e){return s("el-checkbox",{key:e.id,attrs:{border:"",size:"small",label:e.value}})}),1)],1),e._v(" "),s("el-form-item",{attrs:{label:"公共",required:""}},[s("el-checkbox-group",{on:{change:e.commonChange},model:{value:e.common,callback:function(t){e.common=t},expression:"common"}},e._l(e.checkBoxArr,function(e){return s("el-checkbox",{key:e.id,attrs:{border:"",size:"small",label:e.value}})}),1)],1)],1),e._v(" "),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("Submit",{attrs:{reFrom:e.reFrom,model:e.chmodModel,url:e.url,refs:e.refs},on:{success:e.success}})],1)],1),e._v(" "),s("el-dialog",{attrs:{visible:e.fileSyncVisible,modal:e.modal,title:"文件上传",center:e.center},on:{"update:visible":function(t){e.fileSyncVisible=t}}},[s("el-upload",{ref:"upload",attrs:{data:e.fileData,action:e.cgi.uploadUrl,headers:e.headers,"on-remove":e.handleRemove,"on-success":e.handelSuccess,"file-list":e.fileList,"auto-upload":!1}},[s("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[e._v("选取文件")]),e._v(" "),s("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"small",type:"success"},on:{click:e.submitUpload}},[e._v("上传到服务器")])],1)],1),e._v(" "),s("el-dialog",{attrs:{visible:e.imgVisible},on:{"update:visible":function(t){e.imgVisible=t}}},[s("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})])],1)},staticRenderFns:[]};var Oe=s("VU/8")(Re,Ve,!1,function(e){s("eXJA")},"data-v-59bdd91a",null).exports;s("Mixr"),s("5IAE"),s("aGTD"),s("UM8r"),s("Yokd"),s("THjC"),s("Kk9m"),s("fo6W"),s("fo6W"),s("soCA"),s("vq+x");var Fe={name:"lists",components:{Submit:te,Delete:re,Radio:ie,codemirror:Le.codemirror},data:function(){return{configLists:[],page:1,limit:15,total:0,title:"",syncVisible:!1,modal:!0,labelWidth:"80px",loading:!0,destroy_on_close:!0,center:!0,loadingText:"玩命加载中。。。",url:"",refs:this.$refs,reFrom:"config",configValModel:{},configModel:{},configVal:{},cgi:{remove:g.configDelete,status:g.configUpdate,insert:g.configSave,update:g.configUpdate,updateVal:g.configValUpdate},rules:{name:[{required:!0,message:"配置名称不得为空",trigger:"blur"}]},show:!1,showBtn:!0,syncConfigVisible:!1,options:{mode:"application/ld+json",tabSize:4,lineNumbers:!0,theme:"monokai",extraKeys:{"Ctrl-Space":"autocomplete"},lineWrapping:!0,foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"],indentWithTabs:!0,smartIndent:!0,matchBrackets:!0,cursorHeight:1,autoRefresh:!0,styleActiveLine:!0}}},methods:m()({},Object(h.b)(["saveSystemLog","checkAuth"]),{success:function(){this.syncVisible=!1,this.syncConfigVisible=!1,this.getConfigLists(this.page,this.limit)},getConfigLists:function(e,t){var s=this,a={page:e,limit:t};A.ConfigLists(a).then(function(e){e&&200===e.data.code&&(s.configLists=e.data.item,s.total=e.data.item.length,s.loading=!1)})},sizeChange:function(e){this.limit=e,this.getConfigLists(this.page,this.limit)},currentChange:function(e){this.page=e,this.getConfigLists(this.page,this.limit)},updateConfig:function(e){this.title="修改配置",this.configModel=e,this.url=this.cgi.update,this.syncConfigVisible=!0},updateContent:function(e){this.configModel.value=e},addConfig:function(){this.title="添加配置",this.configModel={name:"",status:1,value:"[]"},this.show=!1,this.showBtn=!0,this.syncVisible=!0,this.url=this.cgi.insert},setConfigVal:function(e){this.configVal={name:"",value:"",status:1,id:1},this.configValModel=e,this.configVal.status=this.configValModel.status,this.configValModel.value=this.configVal,this.title="设置【"+e.name+"】配置值",this.show=!0,this.showBtn=!0,this.syncVisible=!0,this.url=this.cgi.update},getConfigVal:function(e){this.title="查看配置值",this.configValModel=e,this.configVal.name=e.name,this.configVal.value=e.value,this.show=!0,this.showBtn=!1,this.syncVisible=!0},removeConfigVal:function(e){var t=this;this.$confirm("此操作将永远删除该条记录，是否继续？","删除记录",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.checkAuth({url:t.cgi.updateVal}),e.act="remove",A.ConfigValUpdate(e).then(function(e){if(e&&200===e.data.code){t.getConfigLists(t.page,t.limit);var s={url:t.cgi.updateVal,msg:i()({info:e.data.msg,result:e.data.result}),token:t.$store.state.login.token};return t.saveSystemLog(s),t.$message({type:"success",message:e.data.msg}),!1}})}).catch(function(){t.$message({type:"info",message:"已取消删除！"})})}}),mounted:function(){this.$nextTick(function(){this.getConfigLists(this.page,this.limit)})}},Ue={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{"element-loading-text":e.loadingText}},[s("el-form",{staticStyle:{"margin-top":"10px"},attrs:{inline:!0}},[s("el-form-item",{staticStyle:{float:"right"}},[s("el-button",{attrs:{icon:"el-icon-plus",type:"primary",size:"medium",plain:""},on:{click:e.addConfig}},[e._v("添 加")])],1)],1),e._v(" "),s("el-table",{attrs:{data:e.configLists,border:"","row-key":"id","tree-props":{children:"children",hasChildren:"hasChildren"}}},[s("el-table-column",{attrs:{label:"#",prop:"id",width:"100px"}}),e._v(" "),s("el-table-column",{attrs:{label:"配置名称",prop:"name"}}),e._v(" "),s("el-table-column",{attrs:{label:"显示状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.children?s("div",[s("Radio",{attrs:{item:t.row,url:e.cgi.status},on:{success:e.success}})],1):e._e()]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"创建时间",prop:"created_at"}}),e._v(" "),s("el-table-column",{attrs:{label:"修改时间",prop:"updated_at"}}),e._v(" "),s("el-table-column",{attrs:{label:"操作",width:"200px"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.children?s("div",{staticStyle:{"text-align":"center"}},[s("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-plus",size:"mini"},on:{click:function(s){return e.setConfigVal(t.row)}}},[e._v("添 加")]),e._v(" "),s("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-edit",size:"mini"},on:{click:function(s){return e.updateConfig(t.row)}}},[e._v("修 改")])],1):s("div",[s("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-search",size:"mini"},on:{click:function(s){return e.getConfigVal(t.row)}}},[e._v("查 看")]),e._v(" "),s("el-button",{attrs:{plain:"",type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:function(s){return e.removeConfigVal(t.row)}}},[e._v("删 除")])],1)]}}])})],1),e._v(" "),s("div",{staticStyle:{margin:"25px 0"}},[s("el-pagination",{attrs:{"page-sizes":[15,30,50,100],"page-size":e.limit,layout:"total, sizes, prev, pager, next, jumper",total:e.total,"current-page":e.page},on:{"size-change":e.sizeChange,"current-change":e.currentChange}})],1),e._v(" "),s("el-dialog",{attrs:{title:e.title,visible:e.syncVisible,modal:e.modal,center:e.center,"destroy-on-close":e.destroy_on_close},on:{"update:visible":function(t){e.syncVisible=t}}},[s("el-form",{ref:e.reFrom,attrs:{"label-width":e.labelWidth,model:e.configValModel,rules:e.rules}},[s("el-form-item",{directives:[{name:"show",rawName:"v-show",value:!e.show,expression:"!show"}],attrs:{label:"配置名称",prop:"name"}},[s("el-input",{attrs:{placeholder:"配置名称"},model:{value:e.configValModel.name,callback:function(t){e.$set(e.configValModel,"name",t)},expression:"configValModel.name"}})],1),e._v(" "),s("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],attrs:{label:"配置健"}},[s("el-input",{attrs:{placeholder:"配置内容"},model:{value:e.configVal.name,callback:function(t){e.$set(e.configVal,"name",t)},expression:"configVal.name"}})],1),e._v(" "),s("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],attrs:{label:"配置值"}},[s("el-input",{attrs:{placeholder:"配置内容"},model:{value:e.configVal.value,callback:function(t){e.$set(e.configVal,"value",t)},expression:"configVal.value"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"配置状态",prop:"status"}},[s("el-radio-group",{attrs:{size:"small"},model:{value:e.configValModel.status,callback:function(t){e.$set(e.configValModel,"status",t)},expression:"configValModel.status"}},[s("el-radio-button",{attrs:{label:"2"}},[e._v("关闭")]),e._v(" "),s("el-radio-button",{attrs:{label:"1"}},[e._v("开启")])],1)],1)],1),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.showBtn,expression:"showBtn"}],staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("Submit",{attrs:{reFrom:e.reFrom,model:e.configValModel,url:e.url,refs:e.refs},on:{success:e.success}})],1)],1),e._v(" "),s("el-dialog",{attrs:{title:e.title,visible:e.syncConfigVisible,modal:e.modal,center:e.center,"destroy-on-close":e.destroy_on_close},on:{"update:visible":function(t){e.syncConfigVisible=t}}},[s("el-form",{ref:e.reFrom,attrs:{"label-width":e.labelWidth,model:e.configModel,rules:e.rules}},[s("el-form-item",{attrs:{label:"配置名称",prop:"name"}},[s("el-input",{attrs:{placeholder:"配置名称"},model:{value:e.configModel.name,callback:function(t){e.$set(e.configModel,"name",t)},expression:"configModel.name"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"配置值",prop:"value"}},[s("codemirror",{ref:"edit",staticStyle:{"line-height":"20px"},attrs:{value:e.configModel.value,options:e.options},on:{change:e.updateContent}})],1),e._v(" "),s("el-form-item",{attrs:{label:"配置状态",prop:"status"}},[s("el-radio-group",{attrs:{size:"small"},model:{value:e.configModel.status,callback:function(t){e.$set(e.configModel,"status",t)},expression:"configModel.status"}},[s("el-radio-button",{attrs:{label:"2"}},[e._v("关闭")]),e._v(" "),s("el-radio-button",{attrs:{label:"1"}},[e._v("开启")])],1)],1)],1),e._v(" "),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("Submit",{attrs:{reFrom:e.reFrom,model:e.configModel,url:e.url,refs:e.refs},on:{success:e.success}})],1)],1)],1)},staticRenderFns:[]};var qe=s("VU/8")(Fe,Ue,!1,function(e){s("gHZR")},"data-v-24f7e7f7",null).exports,De=s("fZjL"),Ae=s.n(De);s("Mixr"),s("5IAE"),s("aGTD"),s("UM8r"),s("Yokd"),s("THjC"),s("Kk9m"),s("fo6W"),s("fo6W"),s("soCA"),s("vq+x");var ze={name:"lists",components:{Submit:te,Delete:re,Radio:ie,codemirror:Le.codemirror},data:function(){return{categoryLists:[],props:{label:"name",children:"children",id:"id"},filterText:"",title:"",syncVisible:!1,modal:!0,labelWidth:"80px",loading:!0,center:!0,loadingText:"玩命加载中。。。",url:"",refs:this.$refs,reFrom:"category",apiName:"",menuVisible:!1,categoryModel:{},apiCategory:[],highlight:!0,options:{mode:"application/ld+json",tabSize:4,lineNumbers:!0,theme:"monokai",extraKeys:{"Ctrl-Space":"autocomplete"},lineWrapping:!1,foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"],indentWithTabs:!0,smartIndent:!0,matchBrackets:!0,cursorHeight:1,autoRefresh:!0,styleActiveLine:!0},apiStatus:!1,methodLists:{POST:"POST",GET:"GET",PUT:"PUT",DELETE:"DELETE"},typeLists:{String:"String",Float:"Float",Number:"Number",Object:"Object",Array:"Array",Timestamp:"Timestamp"},cgi:{insert:g.apiSave,update:g.apiUpdate,categoryInsert:g.categorySave,categoryUpdate:g.categoryUpdate,remove:g.categoryDelete},rules:{type:[{required:!0,message:"请输入权限名称",trigger:"change"}],href:[{required:!0,message:"请输入权限地址",trigger:"blur"}],method:[{required:!0,message:"请输入请求方法",trigger:"change"}],desc:[{required:!0,message:"请输入接口描述",trigger:"blur"}],response_string:[{required:!0,message:"请输入返回参数",trigger:"blur"}]},scrollTop:0}},watch:{filterText:function(e){this.$refs.tree.filter(e)}},computed:m()({},Object(h.c)(["apiVisible","apiModel","interfaceName"])),methods:m()({},Object(h.b)(["addApiVisible","addApiModel","saveSystemLog"]),{success:function(){this.getCategoryLists(),this.syncVisible=!1},filterNode:function(e,t){return!e||-1!==t.name.indexOf(e)},setName:function(e){return Array(e.level+1).join("　　")+e.name},getCategoryLists:function(){var e=this;A.CategoryLists().then(function(t){t&&200===t.data.code&&(e.apiCategory=t.data.item.category,e.categoryLists=t.data.item.category_tree,e.loading=!1)})},rightClick:function(e,t,s,a){this.menuVisible=!1,this.menuVisible=!0;var i=document.querySelector("#menu");this.scrollTop=M.a.get_scroll_top(),document.addEventListener("click",this.foo),i.style.left="290px",i.style.top=e.clientY+this.scrollTop-125+"px",this.categoryModel=t},foo:function(){this.menuVisible=!1,document.removeEventListener("click",this.foo)},addCategory:function(){this.title="添加接口",this.syncVisible=!0,this.url=this.cgi.categoryInsert,this.categoryModel={name:"",pid:this.categoryModel.id,path:"1",level:1}},updateCategory:function(){this.title=this.categoryModel.name,this.syncVisible=!0,this.url=this.cgi.categoryUpdate},deleteCategory:function(){var e=this;A.CategoryDelete({id:this.categoryModel.value}).then(function(t){if(t&&200===t.data.code){var s={msg:i()({url:e.cgi.remove,info:t.data.msg,result:t.data.result}),token:e.$store.state.login.token};e.saveSystemLog(s),e.$message({type:"success",message:t.data.msg}),e.getCategoryLists()}})},getApiDetail:function(e){var t=this;if(0!==e.level){var s={apiVisible:!0,interfaceName:e.name};this.addApiVisible(s),this.apiName=this.interfaceName,A.ApiLists({type:e.id}).then(function(s){if(s&&200===s.data.code)t.addApiModel(s.data.item),t.apiModel.request=JSON.parse(t.apiModel.request),t.apiModel.response=JSON.parse(t.apiModel.response),t.url=t.cgi.update;else{t.url=t.cgi.insert;var a={desc:"",type:e.id,href:"",method:"POST",request:[{name:"token",desc:"用户token",required:"1",type:"String",val:""}],response:[{name:"code",desc:"200 成功",type:"number"},{name:"msg",desc:"Success",type:"string"}],response_string:"",remark:""};t.addApiModel(a)}})}else this.$notify({title:"通知",message:"该接口暂时不允许访问",type:"success"})},requestRemove:function(e,t){var s=[],a=this;Ae()(a.apiModel.request).forEach(function(e){s.push(a.apiModel.request[e])}),s.splice(t,1),a.apiModel.request=s},requestAdd:function(){this.apiModel.request.push({name:"",desc:"",required:"",type:"",val:""})},responseRemove:function(e,t){var s=[],a=this;Ae()(a.apiModel.response).forEach(function(e){s.push(a.apiModel.response[e])}),s.splice(t,1),a.apiModel.response=s},responseAdd:function(){this.apiModel.response.push({name:"",desc:"",type:""})},updateContent:function(e){this.apiModel.response_string=e}}),created:function(){this.apiName=this.interfaceName,this.apiModel.id?this.url=this.cgi.update:this.url=this.cgi.insert},mounted:function(){this.$nextTick(function(){this.getCategoryLists()})}},Ne={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{"element-loading-text":e.loadingText}},[s("el-row",{attrs:{gutter:24}},[s("el-col",{staticStyle:{"margin-bottom":"20px"},attrs:{xl:{span:4},lg:{span:4},md:{span:24},sm:{span:24},xs:{span:24}}},[s("el-input",{staticStyle:{"margin-bottom":"20px"},attrs:{placeholder:"输入关键字搜索"},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}}),e._v(" "),s("el-tree",{ref:"tree",staticStyle:{"background-color":"#393d49"},attrs:{props:e.props,"filter-node-method":e.filterNode,"highlight-current":e.highlight,data:e.categoryLists,"default-expand-all":"","node-key":e.props.id},on:{"node-contextmenu":e.rightClick,"node-click":e.getApiDetail}})],1),e._v(" "),s("el-col",{directives:[{name:"show",rawName:"v-show",value:e.apiVisible,expression:"apiVisible"}],attrs:{xl:{span:19,push:1},lg:{span:19,push:1},md:{span:24},sm:{span:24},xs:{span:24}}},[s("el-tabs",{attrs:{type:"border-card"},model:{value:e.apiName,callback:function(t){e.apiName=t},expression:"apiName"}},[s("el-tab-pane",{key:e.apiName,attrs:{label:e.apiName,name:e.apiName}}),e._v(" "),s("el-card",{attrs:{shadow:"always"}},[s("el-form",{ref:e.reFrom,attrs:{"label-width":e.labelWidth,model:e.apiModel,rules:e.rules}},[s("el-form-item",{attrs:{label:"接口名称",prop:"type"}},[s("el-select",{staticStyle:{width:"100%"},attrs:{"auto-complete":"true",placeholder:"接口名称"},model:{value:e.apiModel.type,callback:function(t){e.$set(e.apiModel,"type",t)},expression:"apiModel.type"}},e._l(e.apiCategory,function(t,a){return s("el-option",{key:a,attrs:{label:e.setName(t),value:t.id}})}),1)],1),e._v(" "),s("el-form-item",{attrs:{label:"接口描述",prop:"desc"}},[s("el-input",{attrs:{placeholder:"接口描述"},model:{value:e.apiModel.desc,callback:function(t){e.$set(e.apiModel,"desc",t)},expression:"apiModel.desc"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"接口地址",prop:"href"}},[s("el-input",{attrs:{placeholder:"接口地址"},model:{value:e.apiModel.href,callback:function(t){e.$set(e.apiModel,"href",t)},expression:"apiModel.href"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"接口方法",prop:"method"}},[s("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"接口方法"},model:{value:e.apiModel.method,callback:function(t){e.$set(e.apiModel,"method",t)},expression:"apiModel.method"}},e._l(e.methodLists,function(e,t){return s("el-option",{key:t,attrs:{label:e,value:t}})}),1)],1),e._v(" "),s("el-form-item",{attrs:{label:"请求字段",prop:"request"}},[s("el-button",{staticStyle:{"margin-bottom":"5px"},attrs:{type:"primary",plain:"",icon:"el-icon-plus",size:"medium"},on:{click:function(t){return e.requestAdd()}}}),e._v(" "),e._l(e.apiModel.request,function(t,a){return s("div",{key:a},[s("el-input",{staticStyle:{width:"195px","margin-bottom":"5px"},attrs:{"auto-complete":"true",placeholder:"参数名"},model:{value:t.name,callback:function(s){e.$set(t,"name",s)},expression:"request.name"}}),e._v(" "),s("el-select",{staticStyle:{width:"195px"},attrs:{"auto-complete":"true",placeholder:"字段类型"},model:{value:t.type,callback:function(s){e.$set(t,"type",s)},expression:"request.type"}},e._l(e.typeLists,function(e,t){return s("el-option",{key:t,attrs:{label:e,value:t}})}),1),e._v(" "),s("el-select",{staticStyle:{width:"195px"},attrs:{placeholder:"是否必须"},model:{value:t.required,callback:function(s){e.$set(t,"required",s)},expression:"request.required"}},[s("el-option",{attrs:{label:"是",value:"1"}}),e._v(" "),s("el-option",{attrs:{label:"否",value:"0"}})],1),e._v(" "),s("el-input",{staticStyle:{width:"195px"},attrs:{"auto-complete":"true",placeholder:"参数描述"},model:{value:t.desc,callback:function(s){e.$set(t,"desc",s)},expression:"request.desc"}}),e._v(" "),s("el-input",{staticStyle:{width:"195px"},attrs:{"auto-complete":"true",placeholder:"参数值"},model:{value:t.val,callback:function(s){e.$set(t,"val",s)},expression:"request.val"}}),e._v(" "),s("el-button",{attrs:{type:"danger",plain:"",icon:"el-icon-delete",size:"medium"},on:{click:function(s){return e.requestRemove(t,a)}}})],1)})],2),e._v(" "),s("el-form-item",{attrs:{label:"返回参数",prop:"response_string"}},[s("codemirror",{ref:"edit",staticStyle:{"line-height":"20px"},attrs:{value:e.apiModel.response_string,options:e.options},on:{change:e.updateContent}})],1),e._v(" "),s("el-form-item",{attrs:{label:"返回字段",prop:"response"}},[s("el-button",{staticStyle:{"margin-bottom":"5px"},attrs:{type:"primary",plain:"",icon:"el-icon-plus",size:"medium"},on:{click:function(t){return e.responseAdd()}}}),e._v(" "),e._l(e.apiModel.response,function(t,a){return s("div",{key:a},[s("el-input",{staticStyle:{width:"195px","margin-bottom":"5px"},attrs:{"auto-complete":"true",placeholder:"参数名"},model:{value:t.name,callback:function(s){e.$set(t,"name",s)},expression:"response.name"}}),e._v(" "),s("el-select",{staticStyle:{width:"195px"},attrs:{"auto-complete":"true",placeholder:"字段类型"},model:{value:t.type,callback:function(s){e.$set(t,"type",s)},expression:"response.type"}},e._l(e.typeLists,function(e,t){return s("el-option",{key:t,attrs:{label:e,value:t}})}),1),e._v(" "),s("el-input",{staticStyle:{width:"200px"},attrs:{"auto-complete":"true",placeholder:"参数描述"},model:{value:t.desc,callback:function(s){e.$set(t,"desc",s)},expression:"response.desc"}}),e._v(" "),s("el-button",{attrs:{type:"danger",icon:"el-icon-delete",plain:"",size:"medium"},on:{click:function(s){return e.responseRemove(t,a)}}})],1)})],2),e._v(" "),s("el-form-item",{attrs:{label:"备注",prop:"remark"}},[s("el-input",{attrs:{placeholder:"备注",type:"textarea"},model:{value:e.apiModel.remark,callback:function(t){e.$set(e.apiModel,"remark",t)},expression:"apiModel.remark"}})],1),e._v(" "),s("Submit",{staticStyle:{"text-align":"center"},attrs:{reFrom:e.reFrom,model:e.apiModel,url:e.url,refs:e.refs},on:{success:e.success}})],1)],1)],1)],1)],1),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.menuVisible,expression:"menuVisible"}]},[s("el-menu",{staticClass:"menu",staticStyle:{"border-bottom":"solid 1px #393d49"},attrs:{id:"menu","background-color":"#393d49","text-color":"#cccccc",mode:"horizontal","active-text-color":"#ffd04b"}},[s("el-menu-item",{on:{click:e.addCategory}},[s("i",{staticClass:"el-icon-circle-plus-outline"}),e._v("添 加")]),e._v(" "),s("el-menu-item",{on:{click:e.updateCategory}},[s("i",{staticClass:"el-icon-edit-outline"}),e._v("修 改")]),e._v(" "),s("el-menu-item",{on:{click:e.deleteCategory}},[s("i",{staticClass:"el-icon-delete-solid"}),e._v("删 除")])],1)],1),e._v(" "),s("el-dialog",{attrs:{title:e.title,visible:e.syncVisible,modal:e.modal,center:e.center},on:{"update:visible":function(t){e.syncVisible=t}}},[s("el-form",{ref:e.reFrom,attrs:{"label-width":e.labelWidth,model:e.categoryModel,rules:e.rules}},[s("el-form-item",{attrs:{label:"接口名称",prop:"name",required:""}},[s("el-input",{attrs:{placeholder:"分类名称"},model:{value:e.categoryModel.name,callback:function(t){e.$set(e.categoryModel,"name",t)},expression:"categoryModel.name"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"接口上级",prop:"pid"}},[s("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"接口上级"},model:{value:e.categoryModel.pid,callback:function(t){e.$set(e.categoryModel,"pid",t)},expression:"categoryModel.pid"}},e._l(e.apiCategory,function(t,a){return s("el-option",{key:a,attrs:{label:e.setName(t),value:t.id}})}),1)],1)],1),e._v(" "),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("Submit",{attrs:{reFrom:e.reFrom,model:e.categoryModel,url:e.url,refs:e.refs},on:{success:e.success}})],1)],1)],1)},staticRenderFns:[]};var je=s("VU/8")(ze,Ne,!1,function(e){s("bQZX")},"data-v-5d1b253c",null).exports,Ee={name:"lists",data:function(){return{databaseLists:[],labelWidth:"80px",loading:!0,loadingText:"玩命加载中。。。",edit:!1,name:"",search:""}},methods:{getDatabaseLists:function(){var e=this;A.DatabaseLists([]).then(function(t){t&&200===t.data.code&&(e.databaseLists=t.data.item,e.loading=!1)})},BACKUP:function(e){var t=this;this.loading=!0,this.edit=!1,A.DatabaseBackup(e).then(function(e){e&&200===e.data.code&&setTimeout(function(){t.loading=!1,t.$message({type:"success",message:e.data.msg})},e.data.item.times)})},setComment:function(e){this.name=e.name,this.edit=!0},updateComment:function(e){var t=this;if(!e.comment)return this.$message.warning("请输入数据表备注"),void this.$refs.comment.focus();this.loading=!0,A.DatabaseUpdateComment(e).then(function(e){t.loading=!1,e&&200===e.data.code&&(t.$message({type:"success",message:e.data.msg}),t.edit=!1,t.name="")})},REPAIR:function(e){var t=this;this.loading=!0,this.edit=!1,A.DatabaseRepair(e).then(function(e){e&&200===e.data.code&&(t.loading=!1,t.$message({type:"success",message:e.data.msg}))})},OPTIMIZE:function(e){var t=this;this.loading=!0,this.edit=!1,A.DatabaseOptimize(e).then(function(e){e&&200===e.data.code&&(t.loading=!1,t.$message({type:"success",message:e.data.msg}))})}},mounted:function(){this.$nextTick(function(){this.getDatabaseLists()})}},We={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{"element-loading-text":e.loadingText}},[s("el-table",{attrs:{border:"",data:e.databaseLists.filter(function(t){return!e.search||t.name.toLowerCase().includes(e.search.toLowerCase())})}},[s("el-table-column",{attrs:{label:"表名",prop:"name",width:"150"}}),e._v(" "),s("el-table-column",{attrs:{label:"版本号",prop:"version",width:"100"}}),e._v(" "),s("el-table-column",{attrs:{label:"引擎",prop:"engine",width:"100"}}),e._v(" "),s("el-table-column",{attrs:{label:"数据表大小",prop:"data_length",sortable:"",width:"120"}}),e._v(" "),s("el-table-column",{attrs:{label:"自增量",prop:"auto_increment",sortable:"",width:"100"}}),e._v(" "),s("el-table-column",{attrs:{label:"字符集编码",prop:"collation"}}),e._v(" "),s("el-table-column",{attrs:{label:"备注"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.name===e.name&&e.edit?s("el-input",{ref:"comment",attrs:{id:t.row.name,placeholder:"请输入数据表备注"},model:{value:t.row.comment,callback:function(s){e.$set(t.row,"comment",s)},expression:"scope.row.comment"}}):s("div",{domProps:{innerHTML:e._s(t.row.comment)}})]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"创建时间",sortable:"",prop:"create_time"}}),e._v(" "),s("el-table-column",{attrs:{width:"350px",align:"right"},scopedSlots:e._u([{key:"header",fn:function(t){return[s("el-input",{attrs:{placeholder:"输入关键词查询"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})]}},{key:"default",fn:function(t){return[s("el-button-group",[t.row.name===e.name&&e.edit?s("el-button",{attrs:{round:"",type:"primary",plain:"",size:"small",icon:"el-icon-edit-outline"},on:{click:function(s){return e.updateComment(t.row)}}},[e._v("更 新")]):s("el-button",{attrs:{round:"",type:"primary",plain:"",size:"small",icon:"el-icon-edit"},on:{click:function(s){return e.setComment(t.row)}}},[e._v("修 改")]),e._v(" "),s("el-button",{attrs:{round:"",type:"primary",plain:"",size:"small"},on:{click:function(s){return e.BACKUP(t.row)}}},[e._v("备 份")]),e._v(" "),s("el-button",{attrs:{round:"",type:"primary",plain:"",size:"small"},on:{click:function(s){return e.REPAIR(t.row)}}},[e._v("修 复")]),e._v(" "),s("el-button",{attrs:{round:"",type:"primary",plain:"",size:"small"},on:{click:function(s){return e.OPTIMIZE(t.row)}}},[e._v("优 化")])],1)]}}])})],1)],1)},staticRenderFns:[]};var Be=s("VU/8")(Ee,We,!1,function(e){s("pDik")},"data-v-90d21566",null).exports,Ie={name:"lists",components:{Submit:te,Delete:re,Radio:ie,Upload:_e},data:function(){return{oauthLists:[],roleLists:[],page:1,limit:15,total:0,search:"",title:"",syncVisible:!1,modal:!0,labelWidth:"80px",loading:!0,destroy_on_close:!0,center:!0,loadingText:"玩命加载中。。。",url:"",refs:this.$refs,reFrom:"role",OauthModel:{},oauthImageLists:[],fileData:{},showCode:!1,cgi:{remove:g.oauthDelete,status:g.oauthUpdate,update:g.oauthUpdate,uploadUrl:"https://www.fanglonger.com/api/"+g.fileUpload},rules:{username:[{required:!0,message:"用户名不得为空",trigger:"blur"}],avatar_url:[{required:!0,message:"用户头像不得为空",trigger:"blur"}],status:[{required:!0,message:"用户状态不得为空",trigger:"change"}],role_id:[{required:!0,message:"角色名称不为为空",trigger:"blur"}],email:[{required:!0,message:"邮箱不得为空",trigger:"blur"}],code:[{required:!0,message:"验证码不得为空",trigger:"blur"}]},headers:{},onlineUser:[]}},computed:m()({},Object(h.c)(["token","username","socketServer"])),methods:{success:function(){this.syncVisible=!1,this.getOauthLists(this.page,this.limit)},uploadSuccess:function(e){this.OauthModel.avatar_url=e},getOauthLists:function(e,t){var s=this,a={page:e,limit:t};A.OauthLists(a).then(function(e){e&&200===e.data.code&&(s.oauthLists=e.data.item.data,s.total=e.data.item.total,s.oauthImageLists=e.data.item.avatar_url_lists,s.roleLists=e.data.item.roleLists,s.loading=!1)})},sendMail:function(e){var t=this;if(!e.email)return this.$refs.bindEmail.focus(),void this.$message.warning("Please Enter Email");var s={email:e.email,id:e.id,username:e.username,remember_token:e.remember_token};A.SendEmail(s).then(function(e){e&&200===e.data.code&&(t.$message({type:"success",message:e.data.msg}),t.showCode=!0)})},checkCode:function(e){var t=this;if(!e.code)return this.$refs.bindCode.focus(),void this.$message.warning("Please Enter Code");var s={code:e.code,id:e.id};A.VerifyCode(s).then(function(s){s&&200===s.data.code?t.$message({type:"success",message:s.data.msg}):e.code=""})},sizeChange:function(e){this.limit=e,this.getOauthLists(this.page,this.limit)},currentChange:function(e){this.page=e,this.getOauthLists(this.page,this.limit)},updateOauth:function(e){this.title="修改授权用户",this.syncVisible=!0,this.OauthModel=e,this.showCode=!1,this.url=this.cgi.update}},mounted:function(){this.$nextTick(function(){this.getOauthLists(this.page,this.limit)})}},Pe={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{"element-loading-text":e.loadingText}},[s("el-table",{attrs:{data:e.oauthLists.filter(function(t){return!e.search||t.username.toLowerCase().includes(e.search.toLowerCase())||t.oauth_type.toLowerCase().includes(e.search.toLowerCase())}),border:""}},[s("el-table-column",{attrs:{label:"#",prop:"id"}}),e._v(" "),s("el-table-column",{attrs:{label:"用户名",prop:"username"}}),e._v(" "),s("el-table-column",{attrs:{label:"头像"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-image",{staticStyle:{width:"50px",height:"50px"},attrs:{src:t.row.avatar_url,fit:"cover",title:t.row.username,"preview-src-list":e.oauthImageLists}})]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"账号来源",prop:"oauth_type"}}),e._v(" "),s("el-table-column",{attrs:{label:"显示状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("Radio",{attrs:{item:t.row,url:e.cgi.status}})]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"创建时间",prop:"created_at"}}),e._v(" "),s("el-table-column",{attrs:{label:"修改时间",prop:"updated_at"}}),e._v(" "),s("el-table-column",{attrs:{label:"操作",align:"right"},scopedSlots:e._u([{key:"header",fn:function(t){return[s("el-input",{attrs:{placeholder:"请输入关键词查询"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})]}},{key:"default",fn:function(t){return[s("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-edit",size:"mini"},on:{click:function(s){return e.updateOauth(t.row)}}},[e._v("修 改")]),e._v(" "),s("Delete",{attrs:{url:e.cgi.remove,item:t.row,index:t.$index,Lists:e.oauthLists},on:{success:e.success}})]}}])})],1),e._v(" "),s("div",{staticStyle:{margin:"25px 0"}},[s("el-pagination",{attrs:{"page-sizes":[15,30,50,100],"page-size":e.limit,layout:"total, sizes, prev, pager, next, jumper",total:e.total,"current-page":e.page},on:{"size-change":e.sizeChange,"current-change":e.currentChange}})],1),e._v(" "),s("el-dialog",{attrs:{title:e.title,visible:e.syncVisible,modal:e.modal,center:e.center,"destroy-on-close":e.destroy_on_close},on:{"update:visible":function(t){e.syncVisible=t}}},[s("el-form",{ref:e.reFrom,attrs:{"label-width":e.labelWidth,model:e.OauthModel,rules:e.rules}},[s("el-form-item",{attrs:{label:"用户名称",prop:"username"}},[s("el-input",{model:{value:e.OauthModel.username,callback:function(t){e.$set(e.OauthModel,"username",t)},expression:"OauthModel.username"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"邮箱账号",prop:"email"}},[s("el-input",{ref:"bindEmail",model:{value:e.OauthModel.email,callback:function(t){e.$set(e.OauthModel,"email",t)},expression:"OauthModel.email"}},[e.OauthModel.code?s("el-button",{attrs:{slot:"append",plain:"",type:"primary",icon:"el-icon-edit"},on:{click:function(t){return e.sendMail(e.OauthModel)}},slot:"append"},[e._v("修 改")]):s("el-button",{attrs:{slot:"append",plain:"",type:"primary",icon:"el-icon-circle-plus"},on:{click:function(t){return e.sendMail(e.OauthModel)}},slot:"append"},[e._v("绑 定")])],1)],1),e._v(" "),e.showCode?s("el-form-item",{attrs:{label:"验证码",prop:"code"}},[s("el-input",{ref:"bindCode",on:{blur:function(t){return e.checkCode(e.OauthModel)}},model:{value:e.OauthModel.code,callback:function(t){e.$set(e.OauthModel,"code",t)},expression:"OauthModel.code"}})],1):e._e(),e._v(" "),s("el-form-item",{attrs:{label:"用户头像",prop:"avatar_url"}},[s("Upload",{attrs:{avatar_url:e.OauthModel.avatar_url,username:e.OauthModel.username},on:{uploadSuccess:e.uploadSuccess}})],1),e._v(" "),"admin"===e.username?s("el-form-item",{attrs:{label:"角色",prop:"role_id"}},[s("el-select",{staticStyle:{width:"100%"},model:{value:e.OauthModel.role_id,callback:function(t){e.$set(e.OauthModel,"role_id",t)},expression:"OauthModel.role_id"}},e._l(e.roleLists,function(e,t){return s("el-option",{key:t,attrs:{label:e.role_name,value:e.id}})}),1)],1):e._e(),e._v(" "),s("el-form-item",{attrs:{label:"用户状态",prop:"status"}},[s("el-radio-group",{attrs:{size:"small"},model:{value:e.OauthModel.status,callback:function(t){e.$set(e.OauthModel,"status",t)},expression:"OauthModel.status"}},[s("el-radio-button",{attrs:{label:"2"}},[e._v("关闭")]),e._v(" "),s("el-radio-button",{attrs:{label:"1"}},[e._v("开启")])],1)],1)],1),e._v(" "),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("Submit",{attrs:{reFrom:e.reFrom,model:e.OauthModel,url:e.url,refs:e.refs},on:{success:e.success}})],1)],1)],1)},staticRenderFns:[]};var He=s("VU/8")(Ie,Pe,!1,function(e){s("0oHD")},"data-v-7e529a53",null).exports,Qe={name:"lists",components:{Submit:te,Delete:re,Radio:ie},data:function(){return{reqRuleLists:[],ruleLists:[],userLists:[],page:1,limit:15,total:0,search:"",title:"",syncVisible:!1,modal:!0,labelWidth:"80px",loading:!0,destroy_on_close:!0,center:!0,loadingText:"玩命加载中。。。",url:"",refs:this.$refs,reFrom:"reqRule",reqRuleModel:{},cgi:{remove:g.reqRuleDelete,status:g.reqRuleUpdate,update:g.reqRuleUpdate,insert:g.reqRuleSave},rules:{username:[{required:!0,message:"申请人不得为空",trigger:"blur"}],href:[{required:!0,message:"授权地址不得为空",trigger:"change"}],expires:[{required:!0,message:"授权时效不得为空",trigger:"change"}],desc:[{required:!0,message:"申请理由不得为空",trigger:"blur"}],status:[{required:!0,message:"授权状态不得为空",trigger:"blur"}]},pickerOptions:{disabledDate:function(e){return e.getTime()<Date.now()},shortcuts:[{text:"一星期",onClick:function(e){var t=new Date;t.setTime(t.getTime()+6048e5),e.$emit("pick",t)}},{text:"一个月",onClick:function(e){var t=new Date;t.setTime(t.getTime()+2592e6),e.$emit("pick",t)}},{text:"三个月",onClick:function(e){var t=new Date;t.setTime(t.getTime()+7776e6),e.$emit("pick",t)}},{text:"六个月",onClick:function(e){var t=new Date;t.setTime(t.getTime()+15552e6),e.$emit("pick",t)}},{text:"一年",onClick:function(e){var t=new Date;t.setTime(t.getTime()+31104e6),e.$emit("pick",t)}}]}}},computed:m()({},Object(h.c)(["username","token"])),methods:{success:function(){this.syncVisible=!1,this.getReqRuleLists(this.page,this.limit)},setTimes:function(e){return M.a.set_time(1e3*e)},getReqRuleLists:function(e,t){var s=this,a={page:e,limit:t};A.ReqRuleLists(a).then(function(e){e&&200===e.data.code&&(s.loading=!1,s.reqRuleLists=e.data.item.data,s.total=e.data.item.total,s.userLists=e.data.item.userLists)})},setAuthName:function(e){return Array(e.level+1).join("　　")+e.name},sizeChange:function(e){this.limit=e,this.getReqRuleLists(this.page,this.limit)},currentChange:function(e){this.page=e,this.getReqRuleLists(this.page,this.limit)},addReqRule:function(){this.title="权限申请",this.syncVisible=!0,this.reqRuleModel={username:"",href:"",desc:"",expires:"",status:1},this.url=this.cgi.insert},getAuth:function(e){var t=this,s={username:e};A.GetAuthByToken(s).then(function(e){e&&200===e.data.code&&(t.ruleLists=e.data.item)})},updateReqRule:function(e){this.title="权限续期",this.syncVisible=!0,this.reqRuleModel=e,this.reqRuleModel.href=[this.reqRuleModel.href],this.ruleLists=this.reqRuleModel.ruleLists,this.url=this.cgi.update}},mounted:function(){this.$nextTick(function(){this.getReqRuleLists(this.page,this.limit)})}},Ke={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{"element-loading-text":e.loadingText}},[s("el-form",{staticStyle:{"margin-top":"10px"},attrs:{inline:!0}},[s("el-form-item",{staticStyle:{float:"right"}},[s("el-button",{attrs:{icon:"el-icon-plus",type:"primary",size:"medium",plain:""},on:{click:e.addReqRule}},[e._v("添 加")])],1)],1),e._v(" "),s("el-table",{attrs:{data:e.reqRuleLists.filter(function(t){return!e.search||t.username.toLowerCase().includes(e.search.toLowerCase())||t.href.includes(e.search.toLowerCase())}),border:""}},[s("el-table-column",{attrs:{label:"#",prop:"id",width:"120px",sortable:""}}),e._v(" "),s("el-table-column",{attrs:{label:"申请人",prop:"username",width:"150px"}}),e._v(" "),s("el-table-column",{attrs:{label:"授权地址",prop:"href"}}),e._v(" "),"admin"===e.username?s("el-table-column",{attrs:{label:"授权状态",width:"150px"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("Radio",{attrs:{item:t.row,url:e.cgi.status},on:{success:e.success}})]}}],null,!1,1057654114)}):e._e(),e._v(" "),"admin"!==e.username?s("el-table-column",{attrs:{label:"授权状态",width:"150px"},scopedSlots:e._u([{key:"default",fn:function(t){return[1===t.row.status?s("el-button",{attrs:{type:"success",size:"mini"}},[e._v("已授权")]):e._e(),e._v(" "),2===t.row.status?s("el-button",{attrs:{type:"info",size:"mini"}},[e._v("未授权")]):e._e()]}}],null,!1,3706176486)}):e._e(),e._v(" "),s("el-table-column",{attrs:{label:"创建时间",prop:"created_at",sortable:""}}),e._v(" "),s("el-table-column",{attrs:{label:"修改时间",prop:"updated_at",sortable:""}}),e._v(" "),s("el-table-column",{attrs:{label:"权限时效",prop:"expires",sortable:""}}),e._v(" "),s("el-table-column",{attrs:{label:"操作",width:"200px",align:"right"},scopedSlots:e._u([{key:"header",fn:function(t){return[s("el-input",{attrs:{placeholder:"请输入关键字查询"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})]}},{key:"default",fn:function(t){return[1===t.row.status?s("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-plus",size:"mini"},on:{click:function(s){return e.updateReqRule(t.row)}}},[e._v("续 期")]):e._e(),e._v(" "),s("Delete",{attrs:{url:e.cgi.remove,item:t.row,index:t.$index,Lists:e.reqRuleLists},on:{success:e.success}})]}}])})],1),e._v(" "),s("div",{staticStyle:{margin:"25px 0"}},[s("el-pagination",{attrs:{"page-sizes":[15,30,50,100],"page-size":e.limit,layout:"total, sizes, prev, pager, next, jumper",total:e.total,"current-page":e.page},on:{"size-change":e.sizeChange,"current-change":e.currentChange}})],1),e._v(" "),s("el-dialog",{attrs:{title:e.title,visible:e.syncVisible,modal:e.modal,center:e.center,"destroy-on-close":e.destroy_on_close},on:{"update:visible":function(t){e.syncVisible=t}}},[s("el-form",{ref:e.reFrom,attrs:{"label-width":e.labelWidth,model:e.reqRuleModel,rules:e.rules}},[s("el-form-item",{attrs:{label:"申请人",prop:"username"}},[s("el-select",{staticStyle:{width:"100%"},attrs:{filterable:""},on:{change:e.getAuth},model:{value:e.reqRuleModel.username,callback:function(t){e.$set(e.reqRuleModel,"username",t)},expression:"reqRuleModel.username"}},e._l(e.userLists,function(e,t){return s("el-option",{key:t,attrs:{label:e.username,value:e.username}})}),1)],1),e._v(" "),s("el-form-item",{attrs:{label:"授权地址",prop:"href"}},[s("el-select",{staticStyle:{width:"100%"},attrs:{multiple:"multiple",filterable:""},model:{value:e.reqRuleModel.href,callback:function(t){e.$set(e.reqRuleModel,"href",t)},expression:"reqRuleModel.href"}},e._l(e.ruleLists,function(t,a){return s("el-option",{key:a,attrs:{label:e.setAuthName(t),value:t.href,disabled:t.disable}})}),1)],1),e._v(" "),s("el-form-item",{attrs:{label:"授权时间",prop:"expires"}},[s("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选择授权时间","picker-options":e.pickerOptions},model:{value:e.reqRuleModel.expires,callback:function(t){e.$set(e.reqRuleModel,"expires",t)},expression:"reqRuleModel.expires"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"授权说明",prop:"desc"}},[s("el-input",{attrs:{type:"textarea"},model:{value:e.reqRuleModel.desc,callback:function(t){e.$set(e.reqRuleModel,"desc",t)},expression:"reqRuleModel.desc"}})],1),e._v(" "),"admin"===e.username?s("el-form-item",{attrs:{label:"是否授权",prop:"status"}},[s("el-radio-group",{attrs:{size:"small"},model:{value:e.reqRuleModel.status,callback:function(t){e.$set(e.reqRuleModel,"status",t)},expression:"reqRuleModel.status"}},[s("el-radio-button",{attrs:{label:"2"}},[e._v("否")]),e._v(" "),s("el-radio-button",{attrs:{label:"1"}},[e._v("是")])],1)],1):e._e()],1),e._v(" "),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("Submit",{attrs:{reFrom:e.reFrom,model:e.reqRuleModel,url:e.url,refs:e.refs},on:{success:e.success}})],1)],1)],1)},staticRenderFns:[]};var Ge=s("VU/8")(Qe,Ke,!1,function(e){s("TsDt")},"data-v-6907e8f0",null).exports,Ze={name:"lists",data:function(){return{areaLists:[],loading:!0,loadingText:"玩命加载中。。。",search:"",pid:1}},methods:{getAreaLists:function(e){var t=this;A.AreaLists({parent_id:e},g.areaIndex).then(function(e){e&&200===e.data.code&&(t.areaLists=e.data.item,t.loading=!1)})},load:function(e,t,s){A.AreaLists({parent_id:e.id},g.areaIndex).then(function(e){e&&200===e.data.code&&setTimeout(function(){s(e.data.item)},500)})},getWeather:function(e){var t={code:e.code,id:e.id};A.AreaWeather(t).then(function(e){e&&200===e.data.code&&console.log(e)})}},mounted:function(){this.$nextTick(function(){this.getAreaLists(this.pid)})}},Ye={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{"element-loading-text":e.loadingText}},[s("el-table",{attrs:{data:e.areaLists.filter(function(t){return!e.search||t.name.toLowerCase().includes(e.search.toLowerCase())}),"row-key":"id","tree-props":{children:"__child",hasChildren:"hasChildren"},lazy:"",load:e.load}},[s("el-table-column",{attrs:{label:"地区名称",prop:"name"}}),e._v(" "),s("el-table-column",{attrs:{label:"天气"}}),e._v(" "),s("el-table-column",{attrs:{align:"right"},scopedSlots:e._u([{key:"header",fn:function(t){return[s("el-input",{attrs:{placeholder:"输入关键词查询"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})]}},{key:"default",fn:function(t){return[s("el-button",{attrs:{size:"mini",plain:"",type:"primary",icon:"el-icon-search"},on:{click:function(s){return e.getWeather(t.row)}}},[e._v("点击查看")])]}}])})],1)],1)},staticRenderFns:[]};var Je=s("VU/8")(Ze,Ye,!1,function(e){s("QSpk")},"data-v-59d1706c",null).exports,Xe={name:"lists",components:{Submit:te,Delete:re,Radio:ie},data:function(){return{pushLists:[],page:1,limit:15,state:"",status:"",total:0,search:"",oauthLists:[],title:"",syncVisible:!1,modal:!0,labelWidth:"80px",loading:!0,destroy_on_close:!0,center:!0,loadingText:"玩命加载中。。。",url:"",refs:this.$refs,reFrom:"push",pushModel:{},cgi:{insert:g.pushSave,update:g.pushUpdate,remove:g.pushDelete,status:g.pushUpdate},rules:{info:[{required:!0,message:"站内通知不得为空",trigger:"blur"}],title:[{required:!0,message:"站内通知标题不得为空",trigger:"blur"}]},pushState:[{val:"successfully",label:"成功",type:"success"},{val:"failed",label:"失败",type:"danger"},{val:"offline",label:"离线",type:"default"}]}},computed:m()({},Object(h.c)(["username"])),methods:{success:function(){this.syncVisible=!1,this.getPushLists(this.page,this.limit)},filterStatus:function(e,t){return t.status.toString()===e},setType:function(e){var t="";switch(e){case"failed":t="danger";break;case"successfully":t="success";break;case"offline":t="default"}return t},getPushLists:function(e,t){var s=this,a={page:e,limit:t,state:this.state,status:this.status};A.PushList(a).then(function(e){s.pushLists=e.data.item.data,s.total=e.data.item.total,s.oauthLists=e.data.item.oauth}),this.loading=!1},changeOauthName:function(e){this.pushModel.uid="all"!==e?this.md5(e):""},getState:function(e){this.state=e,this.getPushLists(1,this.limit)},sizeChange:function(e){this.limit=e,this.getPushLists(this.page,this.limit)},currentChange:function(e){this.page=e,this.getPushLists(this.page,this.limit)},addPush:function(){this.title="添加站内通知",this.syncVisible=!0,this.pushModel={username:"all",uid:"",state:"",status:2,created_at:M.a.set_time(new Date),title:"系统通知"},this.url=this.cgi.insert},updatePush:function(e){this.title="修改站内通知",this.syncVisible=!0,this.pushModel=e,this.url=this.cgi.update}},mounted:function(){this.$nextTick(function(){this.getPushLists(this.page,this.limit)})}},et={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{"element-loading-text":e.loadingText}},[s("el-form",{staticStyle:{"margin-top":"10px"},attrs:{inline:!0}},[s("el-form-item",e._l(e.pushState,function(t,a){return s("el-button",{key:a,attrs:{type:t.type,size:"medium",plain:""},on:{click:function(s){return e.getState(t.val)}}},[e._v(e._s(t.val.toUpperCase()))])}),1),e._v(" "),"admin"===e.username?s("el-form-item",{staticStyle:{float:"right"}},[s("el-button",{attrs:{icon:"el-icon-plus",type:"primary",size:"medium",plain:""},on:{click:e.addPush}},[e._v("添 加")])],1):e._e()],1),e._v(" "),s("el-table",{attrs:{data:e.pushLists.filter(function(t){return!e.search||t.username.toLowerCase().includes(e.search.toLowerCase())||t.info.toLowerCase().includes(e.search.toLowerCase())}),border:""}},[s("el-table-column",{attrs:{label:"#",prop:"id",width:"100px"}}),e._v(" "),s("el-table-column",{attrs:{label:"目标用户",prop:"username",width:"120px"}}),e._v(" "),s("el-table-column",{attrs:{label:"推送类型",prop:"title",width:"150px"}}),e._v(" "),s("el-table-column",{attrs:{label:"推送内容",prop:"info","show-overflow-tooltip":!0}}),e._v(" "),s("el-table-column",{attrs:{label:"实时",width:"80px",filters:[{text:"是",value:"1"},{text:"否",value:"2"}],"filter-method":e.filterStatus},scopedSlots:e._u([{key:"default",fn:function(t){return[2===t.row.status?s("el-button",{attrs:{plain:"",type:"primary",size:"mini"}},[e._v("否")]):e._e(),e._v(" "),1===t.row.status?s("el-button",{attrs:{plain:"",type:"success",size:"mini"}},[e._v("是")]):e._e()]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"推送状态",prop:"state",width:"150px"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{plain:"",type:e.setType(t.row.state),size:"mini"}},[e._v(e._s(t.row.state.toUpperCase()))])]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"时间",prop:"created_at",width:"200px"}}),e._v(" "),s("el-table-column",{attrs:{width:"200px",align:"right"},scopedSlots:e._u([{key:"header",fn:function(t){return[s("el-input",{attrs:{placeholder:"请输入关键词查询"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})]}},{key:"default",fn:function(t){return["successfully"!==t.row.state&&"admin"===e.username?s("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-edit",size:"mini"},on:{click:function(s){return e.updatePush(t.row)}}},[e._v("执 行")]):e._e(),e._v(" "),s("Delete",{attrs:{url:e.cgi.remove,item:t.row,index:t.$index,Lists:e.pushLists},on:{success:e.success}})]}}])})],1),e._v(" "),s("div",{staticStyle:{margin:"25px 0"}},[s("el-pagination",{attrs:{"page-sizes":[15,30,50,100],"page-size":e.limit,layout:"total, sizes, prev, pager, next, jumper",total:e.total,"current-page":e.page},on:{"size-change":e.sizeChange,"current-change":e.currentChange}})],1),e._v(" "),s("el-dialog",{attrs:{title:e.title,visible:e.syncVisible,modal:e.modal,center:e.center,"destroy-on-close":e.destroy_on_close},on:{"update:visible":function(t){e.syncVisible=t}}},[s("el-form",{ref:e.reFrom,attrs:{"label-width":e.labelWidth,model:e.pushModel,rules:e.rules}},[s("el-form-item",{attrs:{label:"用户名",prop:"username"}},[s("el-select",{staticStyle:{width:"100%"},on:{change:e.changeOauthName},model:{value:e.pushModel.username,callback:function(t){e.$set(e.pushModel,"username",t)},expression:"pushModel.username"}},[s("el-option",{attrs:{label:"所有人",value:"all"}}),e._v(" "),e._l(e.oauthLists,function(e,t){return s("el-option",{key:t,attrs:{label:e.username,value:e.username}})})],2)],1),e._v(" "),s("el-form-item",{attrs:{label:"UID",prop:"uid"}},[s("el-input",{attrs:{readonly:"",placeholder:"用户UID"},model:{value:e.pushModel.uid,callback:function(t){e.$set(e.pushModel,"uid",t)},expression:"pushModel.uid"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"标题",prop:"title"}},[s("el-input",{attrs:{placeholder:"推送标题"},model:{value:e.pushModel.title,callback:function(t){e.$set(e.pushModel,"title",t)},expression:"pushModel.title"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"时间",prop:"created_at"}},[s("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:e.pushModel.created_at,callback:function(t){e.$set(e.pushModel,"created_at",t)},expression:"pushModel.created_at"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"消息",prop:"info"}},[s("el-input",{attrs:{placeholder:"推送消息",type:"textarea",resize:"none",rows:"4"},model:{value:e.pushModel.info,callback:function(t){e.$set(e.pushModel,"info",t)},expression:"pushModel.info"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"实时推送",prop:"status"}},[s("el-radio-group",{attrs:{size:"small"},model:{value:e.pushModel.status,callback:function(t){e.$set(e.pushModel,"status",t)},expression:"pushModel.status"}},[s("el-radio-button",{attrs:{label:"2"}},[e._v("否")]),e._v(" "),s("el-radio-button",{attrs:{label:"1"}},[e._v("是")])],1)],1)],1),e._v(" "),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("Submit",{attrs:{reFrom:e.reFrom,model:e.pushModel,url:e.url,refs:e.refs},on:{success:e.success}})],1)],1)],1)},staticRenderFns:[]};var tt=s("VU/8")(Xe,et,!1,function(e){s("91hS")},"data-v-47f26d96",null).exports,st={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticStyle:{"text-align":"center","padding-top":"200px !important"}},[t("img",{staticStyle:{width:"600px"},attrs:{src:s("zAji"),alt:"error"}})])}]};var at=s("VU/8")({name:"empty",data:function(){return{}}},st,!1,function(e){s("yag7")},"data-v-7115bb13",null).exports;n.default.use(u.a);var it=new u.a({routes:[{path:"/",name:"/",component:J,meta:{mode:"",title:"登录"}},{path:"/login",name:"Login",component:J,meta:{mode:"",title:"登录"}},{path:"/404",name:"Empty",component:at,meta:{mode:"",title:"404"}},{path:"/admin",name:"Admin",component:I,meta:{mode:"",title:"首页"}},{path:"/admin",component:I,children:[{path:"index/:access_token?",name:"Welcome",component:G,meta:{mode:"",title:"欢迎页"}},{path:"auth/index",name:"AuthLists",component:ue,meta:{mode:"rule",title:"权限列表"}},{path:"role/index",name:"RoleLists",component:he,meta:{mode:"role",title:"角色列表"}},{path:"user/index",name:"UserLists",component:ge,meta:{mode:"user",title:"管理员列表"}},{path:"user/center",name:"UserCenter",component:ke,meta:{mode:"user_center",title:"个人中心"}},{path:"oauth/index",name:"OauthLists",component:He,meta:{mode:"oauth",title:"授权列表"}},{path:"req-rule/index",name:"ReqRuleLists",component:Ge,meta:{mode:"req_rule",title:"申请授权列表"}},{path:"log/index",name:"LogLists",component:Se,meta:{mode:"log",title:"日志列表"}},{path:"system/log",name:"SystemLog",component:$e,meta:{mode:"log",title:"系统日志"}},{path:"file/index",name:"SystemFile",component:Oe,meta:{mode:"file",title:"文件列表"}},{path:"config/index",name:"ConfigLists",component:qe,meta:{mode:"config",title:"基础配置"}},{path:"category/index",name:"CategoryLists",component:je,meta:{mode:"api_lists",title:"分类列表"}},{path:"database/index",name:"DatabaseLists",component:Be,meta:{mode:"",title:"数据表列表"}},{path:"area/index",name:"AreaLists",component:Je,meta:{mode:"china_area",title:"城市列表"}},{path:"push/index",name:"PushList",component:tt,meta:{mode:"push",title:"站内通知"}}]},{path:"*",redirect:"/404"}]}),nt=s("NC6I"),ot=s.n(nt);n.default.config.productionTip=!1,n.default.use(r.a),n.default.use(u.a),n.default.prototype.$http=F,n.default.prototype.md5=ot.a,it.beforeEach(function(e,t,s){if(e.meta.title&&(document.title=e.meta.title),e.params.access_token&&V.commit("setToken",e.params.access_token),"Login"===e.name||"/"===e.name){if(!V.state.login.token)return void s();A.CheckToken({token:V.state.login.token}).then(function(t){if(t&&t.data.code===S.a.SUCCESS)return s({path:"/admin/index",redirect:e.path}),V.commit("setAuthUrl",t.data.item.auth),V.commit("setToken",t.data.item.token),V.commit("setUserName",t.data.item.username),V.commit("setSocketServer",t.data.item.socket),V.commit("setAvatarUrl",t.data.item.avatar_url),void V.commit("setWebsocketServer",t.data.item.websocket);s()})}else A.CheckToken({token:V.state.login.token}).then(function(t){if(t&&t.data.code!==S.a.SUCCESS)return V.commit("setToken",""),void s({path:"/login",redirect:e.path});if(V.commit("setAuthUrl",t&&t.data&&t.data.item?t.data.item.auth:""),V.commit("setToken",t&&t.data&&t.data.item?t.data.item.token:""),V.commit("setUserName",t&&t.data&&t.data.item?t.data.item.username:""),V.commit("setSocketServer",t&&t.data&&t.data.item?t.data.item.socket:S.a.Socket),V.commit("setAvatarUrl",t&&t.data&&t.data.item?t.data.item.avatar_url:""),V.commit("setWebsocketServer",t&&t.data&&t.data.item?t.data.item.websocket:S.a.Websocket),-1===V.state.login.auth_url.indexOf(e.path)&&"Welcome"!==e.name&&"admin"!==V.state.login.username){var a="你没有访问权限，请联系管理员【"+S.a.QQ+"】检验数据的正确性";r.a.MessageBox.alert(a).then(function(){var t={username:V.state.login.username,href:[e.path]};A.ReqRuleSave(t).then(function(t){if(t&&t.data.code===S.a.SUCCESS){var s={href:e.path,msg:i()({info:a,result:t.data.result}),token:V.state.login.token};A.LogSave(s).then(function(e){e&&e.data.code===S.a.SUCCESS&&(o.Message.success(e.data.msg),location.href="tencent://message/?uin="+S.a.QQ+"&Site=后台权限认证&Menu=yes")})}})}),s({path:"/admin/index",redirect:e.path})}s()})}),new n.default({el:"#app",router:it,store:V,components:{App:c},template:"<App/>"})},OxKM:function(e,t){},PyPa:function(e,t){},QSpk:function(e,t){},"T+z7":function(e,t){},TsDt:function(e,t){},UM8r:function(e,t){},XDbd:function(e,t){},Yokd:function(e,t){},bQZX:function(e,t){},c5TN:function(e,t){},cKjQ:function(e,t){},eXJA:function(e,t){},gHZR:function(e,t){},"k3x/":function(e,t,s){var a={FORBIDDEN:403,METHOD_ERROR:405,Unauthorized:401,SUCCESS:200,ERROR:201,QQ:785973567,Socket:"https://www.fanglonger.com:2120/",Websocket:"wss://www.fanglonger.com:7272/"};e.exports=a},keIh:function(e,t){},oC1x:function(e,t){},pDik:function(e,t){},pZoA:function(e,t){},q04y:function(e,t){},tuGd:function(e,t){},tvR6:function(e,t){},wz4K:function(e,t){},xQBZ:function(e,t){},yag7:function(e,t){},zAji:function(e,t,s){e.exports=s.p+"static/img/404.a57b6f3.png"}},["NHnr"]);
//# sourceMappingURL=app.7d6d045c71ed3625613c.js.map