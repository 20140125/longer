webpackJsonp([1],{"+8q8":function(e,t){},0:function(e,t){},"0ZbS":function(e,t){},"2zhE":function(e,t){},"3gTS":function(e,t){},"4/hK":function(e,t){},"4nKB":function(e,t){},"5Kdf":function(e,t){},"69QM":function(e,t){},"7Otq":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyNpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDE0IDc5LjE1Njc5NywgMjAxNC8wOC8yMC0wOTo1MzowMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OTk2QkI4RkE3NjE2MTFFNUE4NEU4RkIxNjQ5MTYyRDgiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OTk2QkI4Rjk3NjE2MTFFNUE4NEU4RkIxNjQ5MTYyRDgiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChNYWNpbnRvc2gpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NjU2QTEyNzk3NjkyMTFFMzkxODk4RDkwQkY4Q0U0NzYiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NjU2QTEyN0E3NjkyMTFFMzkxODk4RDkwQkY4Q0U0NzYiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5WHowqAAAXNElEQVR42uxda4xd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"},"8ADD":function(e,t){},"8Ygm":function(module,exports,__webpack_require__){var md5=__webpack_require__("NC6I"),str_count=function(e,t){var i=void 0,a=[];for(i=e.indexOf(t);i>-1;)a.push(i),i=e.indexOf(t,i+1);return a.length},t=function t(){var times=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],timestamp=arguments[1],date=new Date(timestamp),Y=date.getFullYear(),M=date.getMonth()+1<10?"0"+eval(date.getMonth()+1):date.getMonth()+1,D=date.getDate()<10?"0"+date.getDate():date.getDate(),h=date.getHours()<10?"0"+date.getHours():date.getHours(),m=date.getMinutes()<10?"0"+date.getMinutes():date.getMinutes(),s=date.getSeconds()<10?"0"+date.getSeconds():date.getSeconds();return times?Y+"-"+M+"-"+D+" "+h+":"+m+":"+s:Y+"-"+M+"-"+D+".log"},get_timestamp=function(){return Math.round((new Date).getTime()/1e3)},set_time=function(e){return t(!0,e)},repeat_str=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"　　",a=str_count(e,t);return Array(a).join(i)},set_tree=function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=[];for(var s in t)t[s].pid===i&&(t[s].__child=e(t,t[s].id),a.push(t[s]));return a},set_random=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t=void 0;switch(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all"){case"all":t="MNBVCXZASDFGHJKLPOIUYTREWQ0123456789qwertyuioplkjhgfdsazxcvbnm";break;case"number":t="0123456789";break;case"l":t="QWERTYUIOPLKJHGFDSAZXCVBNM";break;case"s":t="zxcvbnmlkjhgfdsaqwertyuiop"}for(var i="",a=0;a<e;a++)i+=str_shuffle(t).substring(0,1);return i},str_shuffle=function(e){for(var t="",i=e.length;i>0;i--){t+=e[Math.random()*(i+1)|0]}return t},set_password=function(e,t){return md5(md5(e)+md5(t))},func={str_count:str_count,set_time:set_time,repeat_str:repeat_str,set_tree:set_tree,get_timestamp:get_timestamp,set_random:set_random,str_shuffle:str_shuffle,set_password:set_password};module.exports=func},B6YS:function(e,t){},CqVR:function(e,t,i){e.exports=i.p+"static/img/u0.ba54a8c.jpg"},"F8u/":function(e,t){},H4wZ:function(e,t){},Lgoy:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i("pFYg"),s=i.n(a),n=i("8U58");i("4/hK");var o={props:{value:{type:String,default:""},options:{type:Object,default:function(){return{mode:"text/javascript",lineNumbers:!0,lineWrapping:!0}}}},data:function(){return{skipNextChangeEvent:!1}},ready:function(){var e=this;this.editor=n.fromTextArea(this.$el.querySelector("textarea"),this.options),this.editor.setValue(this.value),this.editor.on("change",function(t){e.skipNextChangeEvent?e.skipNextChangeEvent=!1:(e.value=t.getValue(),e.$emit&&e.$emit("change",t.getValue()))})},mounted:function(){var e=this;this.editor=n.fromTextArea(this.$el.querySelector("textarea"),this.options),this.editor.setValue(this.value),this.editor.on("change",function(t){e.skipNextChangeEvent?e.skipNextChangeEvent=!1:e.$emit&&(e.$emit("change",t.getValue()),e.$emit("input",t.getValue()))})},watch:{value:function(e,t){if(e!==this.editor.getValue()){this.skipNextChangeEvent=!0;var i=this.editor.getScrollInfo();this.editor.setValue(e),this.editor.scrollTo(i.left,i.top)}},options:function(e,t){if("object"===(void 0===e?"undefined":s()(e)))for(var i in e)e.hasOwnProperty(i)&&this.editor.setOption(i,e[i])}},beforeDestroy:function(){this.editor&&this.editor.toTextArea()}},l={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"vue-codemirror-wrap"},[t("textarea")])}]};var r=i("VU/8")(o,l,!1,function(e){i("NAmH")},null,null);t.default=r.exports},NAmH:function(e,t){},NHnr:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i("mvHQ"),s=i.n(a),n=i("7+uW"),o={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var l=i("VU/8")({name:"App"},o,!1,function(e){i("tPKH")},null,null).exports,r=i("/ocq"),c=i("Dd8w"),u=i.n(c),d=i("NYxO"),m={name:"baseModule",data:function(){return{isCollapse:!1,activeName:null,activeIndex:"1",menuClass:"el-icon-s-unfold",asideWidth:"200px",asideHeight:{"min-height":window.innerHeight-60+"px"},headerStyle:{"margin-left":"200px"}}},computed:u()({},Object(d.c)(["tabs","token","username","activeAuthName","contentVisible","menuLists","socketServer"])),methods:u()({},Object(d.b)(["addTabs","deleteTabs","addCurrTabs","logoutSystem","getAuthMenu"]),{setAttr:function(e){var t={label:e.name,name:e.href};this.activeName=t.name,this.addCurrTabs(t),this.addTabs(t),this.asideHeight={"min-height":window.innerHeight-60+"px"}},goto:function(e){this.$router.push({path:e.name})},remove:function(e){var t=this;this.tabs.forEach(function(i,a){if(i.name===e){var s=t.tabs[a+1]||t.tabs[a-1];s&&(t.deleteTabs(e),t.activeName=s.name,t.$router.push({path:t.activeName}),t.addCurrTabs(s))}})},handleSelect:function(e,t){switch(e){case"2-3":this.logoutSystem(this.token)}},hideMenu:function(){this.isCollapse=!this.isCollapse,this.isCollapse?(this.menuClass="el-icon-s-fold",this.asideWidth="65px",this.headerStyle={"margin-left":"65px"}):(this.menuClass="el-icon-s-unfold",this.asideWidth="200px",this.headerStyle={"margin-left":"200px"})}}),created:function(){this.activeName=this.activeAuthName,this.asideHeight={"min-height":window.innerHeight-60+"px"}},mounted:function(){this.$nextTick(function(){var e=this;this.getAuthMenu(this.username),this.socketServer.on("connect",function(){e.socketServer.emit("login",e.md5(e.username))}),this.socketServer.on("new_msg",function(t){e.$notify({title:"系统通知",message:t,position:"top-right",type:"success",duration:0})}),this.socketServer.on("logout",function(e){console.log(e)})})}},h={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-container",[i("el-header",[i("el-menu",{style:e.headerStyle,attrs:{"default-active":e.activeIndex,mode:"horizontal","background-color":"#393d49","text-color":"#fff","active-text-color":"#ffd04b"},on:{select:e.handleSelect}},[i("el-menu-item",{attrs:{index:"1"},on:{click:e.hideMenu}},[i("i",{class:e.menuClass})]),e._v(" "),i("el-submenu",{staticStyle:{float:"right"},attrs:{index:"2"}},[i("template",{slot:"title"},[e._v(e._s(e.username))]),e._v(" "),i("el-menu-item",{attrs:{index:"2-1"}},[e._v("账号资料")]),e._v(" "),i("el-menu-item",{attrs:{index:"2-2"}},[e._v("基础设置")]),e._v(" "),i("el-menu-item",{attrs:{index:"2-3"}},[e._v("退出系统")])],2)],1)],1),e._v(" "),i("el-container",[i("el-aside",{style:e.asideHeight,attrs:{width:e.asideWidth}},[i("el-menu",{attrs:{"unique-opened":"","background-color":"#393d49","text-color":"#fff","active-text-color":"#ffd04b",collapse:e.isCollapse}},e._l(e.menuLists,function(t,a){return i("el-submenu",{key:a,attrs:{index:t.id.toString()}},[i("template",{slot:"title"},[2!==t.id?i("i",{staticClass:"el-icon-menu"}):e._e(),e._v(" "),i("span",{domProps:{innerHTML:e._s(t.name)}})]),e._v(" "),e._l(t.__child,function(t,a){return i("el-menu-item",{key:a,attrs:{index:t.id.toString()},on:{click:function(i){return e.setAttr(t)}}},[i("router-link",{staticStyle:{color:"#fff"},attrs:{to:t.href},domProps:{innerHTML:e._s(t.name)}})],1)})],2)}),1)],1),e._v(" "),i("el-container",[i("el-main",[i("el-tabs",{directives:[{name:"show",rawName:"v-show",value:e.contentVisible,expression:"contentVisible"}],staticStyle:{"text-align":"left!important"},attrs:{type:"border-card",closable:""},on:{"tab-click":e.goto,"tab-remove":e.remove},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[e._l(e.tabs,function(e){return i("el-tab-pane",{key:e.name,attrs:{label:e.label,name:e.name}})}),e._v(" "),i("el-card",{attrs:{shadow:"always"}},[i("router-view")],1)],2)],1),e._v(" "),i("el-footer",[e._v("\n                © fanglonger.com by fl140125@gmail.com\n            ")])],1)],1)],1)},staticRenderFns:[]};var p={name:"index",data:function(){return{}},components:{baseModule:i("VU/8")(m,h,!1,function(e){i("5Kdf")},"data-v-1475a373",null).exports}},f={render:function(){var e=this.$createElement,t=this._self._c||e;return t("el-row",{attrs:{gutter:24}},[t("baseModule")],1)},staticRenderFns:[]},g=i("VU/8")(p,f,!1,null,null,null).exports,v=i("XLwt"),b=i.n(v),y={name:"Charts",props:{id:String,seriesData:Array,legendData:Array,legendSelected:Object,xAxisData:Array,chartsTitle:String},data:function(){return{charts:{}}},methods:{initCharts:function(e){this.charts=b.a.init(document.getElementById(e)),this.charts.showLoading(),this.charts.hideLoading(),this.charts.setOption({title:{text:this.chartsTitle},tooltip:{trigger:"axis"},legend:{data:this.legendData,selected:this.legendSelected},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},toolbox:{feature:{saveAsImage:{}}},xAxis:{type:"category",boundaryGap:!1,data:this.xAxisData},yAxis:{type:"value"},series:this.seriesData})}},mounted:function(){this.$nextTick(function(){this.initCharts(this.id)})}},_={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{staticStyle:{width:"100%",height:"600px"},attrs:{id:this.id}})},staticRenderFns:[]};var k={name:"index",data:function(){return{seriesData:[{name:"日志管理",type:"line",stack:"总量",data:[120,132,101,134,90,230,210]},{name:"接口管理",type:"line",stack:"总量",data:[220,182,191,234,290,330,310]},{name:"权限管理",type:"line",stack:"总量",data:[150,232,201,154,190,330,410]},{name:"角色管理",type:"line",stack:"总量",data:[320,332,301,334,390,330,320]},{name:"管理员管理",type:"line",stack:"总量",data:[820,932,901,934,1290,1330,1320]}],legendData:["日志管理","接口管理","权限管理","角色管理","管理员管理"],legendSelected:{Log:!0,Api:!1,Auth:!1,Role:!1,User:!1},xAxisData:["周一","周二","周三","周四","周五","周六","周日"],chartsTitle:"数据分析",access_token:""}},components:{charts:i("VU/8")(y,_,!1,function(e){i("0ZbS")},"data-v-cc1e8db6",null).exports},methods:u()({},Object(d.d)(["setToken"])),created:function(){this.$route.params.access_token&&(this.access_token=this.$route.params.access_token)},mounted:function(){this.$nextTick(function(){this.access_token&&this.setToken(this.access_token)})}},x={render:function(){var e=this.$createElement;return(this._self._c||e)("charts",{attrs:{seriesData:this.seriesData,legendData:this.legendData,legendSelected:this.legendSelected,xAxisData:this.xAxisData,id:"charts",chartsTitle:this.chartsTitle}})},staticRenderFns:[]};var w=i("VU/8")(k,x,!1,function(e){i("Zs2T")},"data-v-77efc382",null).exports,C={name:"login",data:function(){return{users:{username:"",password:""},rules:{username:[{required:!0,message:"用户名必须",trigger:"blur"}],password:[{required:!0,message:"用户密码必须",trigger:"blur"}]},reFrom:"login",bgStyle:{background:"url("+i("CqVR")+")","background-repeat":"no-repeat",height:window.innerHeight-16+"px"},oauthVisible:!1,center:!0,destroy_on_close:!0,innerWidth:window.innerWidth,dialogWidth:"30%",oauth:!0}},computed:u()({},Object(d.c)(["oauthConfig"])),methods:u()({},Object(d.b)(["loginSystem","getOauthConfig"]),{onSubmit:function(e){var t=this;this.$refs[e].validate(function(e){e&&t.loginSystem(t.users)})},oauthLogin:function(){this.oauthVisible=!0},goto:function(e){window.open(e,"OAuth")},resetForm:function(e){this.$refs[e].resetFields()}}),created:function(){this.innerWidth=window.innerWidth},mounted:function(){this.$nextTick(function(){this.innerWidth>=1920&&(this.oauth=!0,this.dialogWidth="30%"),this.innerWidth>=1200&&this.innerWidth<1920&&(this.oauth=!0,this.dialogWidth="50%"),this.innerWidth>=992&&this.innerWidth<1200&&(this.oauth=!1,this.dialogWidth="60%"),this.innerWidth>=768&&this.innerWidth<992&&(this.oauth=!1,this.dialogWidth="70%"),this.innerWidth<768&&(this.oauth=!1,this.dialogWidth="95%")}),this.getOauthConfig("oauth")}},S={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{style:e.bgStyle},[i("el-row",{staticStyle:{"padding-top":"8%"},attrs:{gutter:24}},[i("el-col",{attrs:{xl:{span:8,offset:8},lg:{span:12,offset:6},md:{span:16,offset:4},sm:{span:20,offset:"2"},xs:{span:24}}},[i("el-header",{staticStyle:{"text-align":"center","font-size":"20px"}},[e._v("登录系统")]),e._v(" "),i("el-main",[i("el-form",{ref:e.reFrom,attrs:{model:e.users,rules:e.rules}},[i("el-form-item",{attrs:{prop:"username"}},[i("el-input",{attrs:{placeholder:"username",autocomplete:"off"},model:{value:e.users.username,callback:function(t){e.$set(e.users,"username",t)},expression:"users.username"}},[i("template",{slot:"prepend"},[i("i",{staticClass:"el-icon-s-custom"})])],2)],1),e._v(" "),i("el-form-item",{attrs:{prop:"password"}},[i("el-input",{attrs:{type:"password",placeholder:"password",autocomplete:"off"},model:{value:e.users.password,callback:function(t){e.$set(e.users,"password",t)},expression:"users.password"}},[i("template",{slot:"prepend"},[i("i",{staticClass:"el-icon-user-solid"})])],2)],1)],1)],1)],1),e._v(" "),i("el-dialog",{attrs:{visible:e.oauthVisible,title:"授权登录","destroy-on-close":e.destroy_on_close,center:e.center,width:e.dialogWidth},on:{"update:visible":function(t){e.oauthVisible=t}}},e._l(e.oauthConfig,function(t,a){return 1===t.status?i("el-button",{key:a,attrs:{plain:"",type:"primary"},on:{click:function(i){return e.goto(t.value)}}},[e._v(e._s(t.name))]):e._e()}),1)],1),e._v(" "),i("el-footer",{staticStyle:{"text-align":"center"}},[i("el-button",{attrs:{plain:""},on:{click:function(t){return e.resetForm(e.reFrom)}}},[e._v("取 消")]),e._v(" "),i("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){return e.onSubmit(e.reFrom)}}},[e._v("确 定")]),e._v(" "),i("el-button",{directives:[{name:"show",rawName:"v-show",value:e.oauth,expression:"oauth"}],attrs:{type:"primary"},on:{click:e.oauthLogin}},[e._v("授权登录")])],1)],1)},staticRenderFns:[]};var M=i("VU/8")(C,S,!1,function(e){i("+8q8")},"data-v-e476c85c",null).exports,L={name:"Submit",props:{reFrom:String,model:Object,url:String,refs:Object},data:function(){return{}},methods:u()({},Object(d.b)(["saveSystemLog","checkAuth"]),{submitForm:function(e){var t=this;this.refs[e].validate(function(e){if(e)return t.checkAuth({url:t.url}),t.model.token=t.$store.state.login.token,t.$http.post(t.url,t.model).then(function(e){if(e&&200===e.data.code){var i={href:t.url,msg:s()({info:e.data.msg,result:e.data.result}),token:t.$store.state.login.token};return t.saveSystemLog(i),t.$message({type:"success",message:e.data.msg}),t.$emit("success"),!1}},function(e){console.log(e)}),!0;t.$message({type:"warning",message:"请检查字段完整性~"})})},resetForm:function(e){this.refs[e].resetFields()}})},R={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("el-button",{attrs:{plain:""},on:{click:function(t){return e.resetForm(e.reFrom)}}},[e._v("取 消")]),e._v(" "),i("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){return e.submitForm(e.reFrom)}}},[e._v("确 定")])],1)},staticRenderFns:[]};var T=i("VU/8")(L,R,!1,function(e){i("keIh")},"data-v-e812b49c",null).exports,V={name:"Radio",props:{item:Object,url:String},data:function(){return{table:this.$route.meta.mode}},methods:u()({},Object(d.b)(["saveSystemLog","checkAuth"]),{setStatus:function(e){var t=this;this.checkAuth({url:this.url});var i={status:e.status,id:e.id,token:this.$store.state.login.token,act:"status"};this.$http.post(this.url,i).then(function(a){if(a&&200===a.data.code){var n={href:t.url,msg:s()({info:a.data.msg,result:a.data.result}),token:t.$store.state.login.token};return t.saveSystemLog(n),t.$message({type:"success",message:a.data.msg}),void t.$emit("success")}e.status=1===i.status?2:1},function(t){e.status=1===i.status?2:1,console.log(t)})}})},O={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("el-radio-group",{attrs:{size:"mini"},on:{change:function(t){return e.setStatus(e.item)}},model:{value:e.item.status,callback:function(t){e.$set(e.item,"status",t)},expression:"item.status"}},[i("el-radio-button",{attrs:{label:"2"}},[e._v("关闭")]),e._v(" "),i("el-radio-button",{attrs:{label:"1"}},[e._v("开启")])],1)],1)},staticRenderFns:[]};var F=i("VU/8")(V,O,!1,function(e){i("4nKB")},"data-v-be810632",null).exports,A={name:"Delete",props:{item:Object,url:String,index:Number,Lists:Array},data:function(){return{table:this.$route.meta.mode}},methods:u()({},Object(d.b)(["saveSystemLog","checkAuth"]),{remove:function(e,t){var i=this;this.$confirm("此操作将永远删除该条记录，是否继续？","删除记录",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){i.checkAuth({url:i.url});var a={id:e.id,token:i.$store.state.login.token};i.$http.post(i.url,a).then(function(e){if(e&&200===e.data.code){i.Lists.splice(t,1);var a={href:i.url,msg:s()({info:e.data.msg,result:e.data.result}),token:i.$store.state.login.token};return i.saveSystemLog(a),i.$message({type:"success",message:e.data.msg}),i.$emit("success"),!1}},function(e){console.log(e)})}).catch(function(){i.$message({type:"info",message:"已取消删除！"})})}})},U={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("el-button",{attrs:{plain:"",type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:function(t){return e.remove(e.item,e.index)}}},[e._v("删 除")])},staticRenderFns:[]};var N=i("VU/8")(A,U,!1,function(e){i("q04y")},"data-v-68938f2d",null).exports,z=i("woOf"),D=i.n(z),I={authLists:"/v1/auth/index",authSave:"/v1/auth/save",authUpdate:"/v1/auth/update",authDelete:"/v1/auth/delete",roleLists:"/v1/role/index",roleSave:"/v1/role/save",roleUpdate:"/v1/role/update",roleDelete:"/v1/role/delete",userLists:"/v1/user/index",userSave:"/v1/user/save",userUpdate:"/v1/user/update",userDelete:"/v1/user/delete",logLists:"/v1/log/index",logSave:"/v1/log/save",logDelete:"/v1/log/delete",configLists:"/v1/config/index",configSave:"/v1/config/save",configUpdate:"/v1/config/update",configValUpdate:"/v1/config/updateVal",configDelete:"/v1/config/delete",apiLists:"/v1/api/index",apiSave:"/v1/api/save",apiUpdate:"/v1/api/update",categoryLists:"/v1/category/index",categorySave:"/v1/category/save",categoryUpdate:"/v1/category/update",categoryDelete:"/v1/category/delete",databaseLists:"/v1/database/index",databaseBackUp:"/v1/database/backup",databaseRepair:"/v1/database/repair",databaseOptimize:"/v1/database/optimize",databaseUpdateComment:"/v1/database/comment",oauthLists:"/v1/oauth/index",oauthUpdate:"/v1/oauth/update",oauthDelete:"/v1/oauth/delete",sendMail:"/v1/oauth/sendMail",verifyCode:"/v1/oauth/verifyCode",reqRuleLists:"/v1/req-rule/index",reqRuleSave:"/v1/req-rule/save",reqRuleUpdate:"/v1/req-rule/update",reqRuleDelete:"/v1/req-rule/delete",fileLists:"/v1/file/index",fileRead:"/v1/file/read",fileRename:"/v1/file/rename",fileChmod:"/v1/file/chmod",fileSave:"/v1/file/save",fileDelete:"/v1/file/delete",fileUpdate:"/v1/file/update",fileUpload:"v1/file/upload",fileDownload:"v1/file/download",fileCompression:"/v1/file/zip",fileDecompression:"/v1/file/unzip",imagePreview:"/v1/image/preview",areaLists:"/v1/area/index",areaWeather:"/v1/area/weather",tree:"/v1/menu",login:"/v1/login",logout:"/v1/logout",checkToken:"/v1/checkLogin",getConfig:"/v1/config"},q=i("//Fk"),E=i.n(q),W=i("mtWM"),B=i.n(W),j={state:{tabs:[{label:"欢迎页",name:"/admin/index"}],currTabs:{label:null,name:null},activeAuthName:"/admin/index",contentVisible:!0},getters:{tabs:function(e){return e.tabs},currTabs:function(e){return e.currTabs},activeAuthName:function(e){return e.activeAuthName},contentVisible:function(e){return e.contentVisible}},mutations:{setTabs:function(e,t){e.tabs.push(t)},setCurrTabs:function(e,t){e.currTabs=t},setActiveAuthName:function(e,t){e.activeAuthName=t,e.contentVisible=!0},delTabs:function(e,t){e.tabs=t}},actions:{addTabs:function(e,t){var i=e.state,a=e.commit;-1===s()(i.tabs).indexOf(s()(t))&&a("setTabs",t)},addCurrTabs:function(e,t){e.state;var i=e.commit;i("setCurrTabs",t),i("setActiveAuthName",t.label)},deleteTabs:function(e,t){var i=e.state,a=e.commit,s=0;for(var n in i.tabs)t===i.tabs[n].name&&(s=n);i.tabs.splice(s,1),a("delTabs",i.tabs)}}},$={state:{fileTabs:[],currFileObj:{name:null,content:null,path:null,label:null}},getters:{fileTabs:function(e){return e.fileTabs},currFileObj:function(e){return e.currFileObj}},mutations:{setFileTabs:function(e,t){e.fileTabs.push(t)},delFileTabs:function(e,t){e.fileTabs=t},setCurrFileObj:function(e,t){e.currFileObj=t}},actions:{addFileTabs:function(e,t){var i=e.state,a=e.commit;-1===s()(i.fileTabs).indexOf(s()(t))&&a("setFileTabs",t)},deleteFileTabs:function(e,t){var i=e.state,a=e.commit,s=0;for(var n in i.fileTabs)t===i.fileTabs[n].name&&(s=n);i.fileTabs.splice(s,1),a("delFileTabs",i.fileTabs)},addCurrFileObj:function(e,t){e.state;(0,e.commit)("setCurrFileObj",t)}}},Q={state:{apiVisible:!1,interfaceName:"",apiModel:{}},getters:{apiVisible:function(e){return e.apiVisible},interfaceName:function(e){return e.interfaceName},apiModel:function(e){return e.apiModel}},mutations:{setApiVisible:function(e,t){e.apiVisible=t},setInterfaceName:function(e,t){e.interfaceName=t},setApiModel:function(e,t){e.apiModel=t}},actions:{addApiVisible:function(e,t){e.state;var i=e.commit;i("setApiVisible",t.apiVisible),i("setInterfaceName",t.interfaceName)},addApiModel:function(e,t){e.state,(0,e.commit)("setApiModel",t)}}},Z=i("zL8q"),P=i.n(Z),G=i("k3x/"),Y=i.n(G),H=i("8Ygm"),J=i.n(H),K=i("DmT9"),X=i.n(K),ee={state:{token:localStorage.getItem("token"),socketServer:"",username:"",auth_url:"",menuLists:[],oauthConfig:[]},getters:{token:function(e){return e.token},username:function(e){return e.username},auth_url:function(e){return e.auth_url},menuLists:function(e){return e.menuLists},oauthConfig:function(e){return e.oauthConfig},socketServer:function(e){return e.socketServer}},mutations:{setToken:function(e,t){e.token=t,localStorage.setItem("token",t)},setUserName:function(e,t){e.username=t},setMenuLists:function(e,t){e.menuLists=t},setAuthUrl:function(e,t){e.auth_url=t},setOauthConfig:function(e,t){e.oauthConfig=t},setSocketServer:function(e,t){e.socketServer=X()(t)}},actions:{loginSystem:function(e,t){e.state;var i=e.commit;le.LoginSys(t).then(function(e){e&&e.data.code===Y.a.SUCCESS&&(i("setToken",e.data.item.token),i("setUserName",e.data.item.username),i("setSocketServer",e.data.item.ip),Ze.push({path:"/admin/index"}))})},getOauthConfig:function(e,t){e.state;var i=e.commit;le.GetConfig({name:t}).then(function(e){e&&e.data.code===Y.a.SUCCESS&&i("setOauthConfig",e.data.item)})},getAuthMenu:function(e,t){var i=e.state,a=e.commit;i.menuLists.length>0?a("setMenuLists",i.menuLists):le.AuthTree({username:t}).then(function(e){e&&e.data.code===Y.a.SUCCESS&&a("setMenuLists",J.a.set_tree(e.data.item))})},logoutSystem:function(e,t){e.state;var i=e.commit;le.LogoutSys({token:t}).then(function(e){e&&e.data.code===Y.a.SUCCESS&&(i("setToken",""),i("setUserName",""),Ze.push({path:"/login"}))})},saveSystemLog:function(e,t){var i=e.state;e.commit;t.username=i.username,le.LogSave(t).then(function(e){e&&e.data.code===Y.a.SUCCESS&&Z.Message.success(e.data.msg)})},checkAuth:function(e,t){var i=e.state;e.commit;if(t.url=t.url.replace("v1","admin"),-1===i.auth_url.indexOf(t.url)&&"/admin/index"!==t.url&&"admin"!==i.username){var a="你没有访问权限，请联系管理员【"+Y.a.QQ+"】检验数据的正确性！！";Z.MessageBox.alert(a).then(function(){var e={username:i.username,href:[t.url]};le.ReqRuleSave(e).then(function(e){if(e&&e.data.code===Y.a.SUCCESS){var n={href:t.url,msg:s()({info:a,result:e.data.result}),token:i.token};le.LogSave(n).then(function(e){e&&e.data.code===Y.a.SUCCESS&&(Z.Message.success(e.data.msg),location.href="tencent://message/?uin="+Y.a.QQ+"&Site=后台权限认证&Menu=yes")})}})})}}}};n.default.use(d.a);var te=new d.a.Store({modules:{tabs:j,fileTabs:$,api:Q,login:ee}}),ie=B.a.create({timeout:1e4});ie.defaults.baseURL="https://www.fanglonger.com/api/",ie.interceptors.request.use(function(e){return te.state.login.token&&(e.headers.Authorization=J.a.set_password(J.a.set_random(32),J.a.set_random(12))+"-"+te.state.login.token+"-"+J.a.set_password(J.a.set_random(32),J.a.set_random(12))),e},function(e){return E.a.reject(e)}),ie.interceptors.response.use(function(e){return 200!==e.data.code&&Z.Message.warning(e.data.msg),e},function(e){!function(e,t){switch(e){case 401:te.commit("setToken",""),Ze.push({path:"/login"}),Z.Message.warning(t);break;case 403:Ze.push({path:"/admin/index"}),Z.Message.warning(t);break;case 404:Ze.push({path:"/login"}),Z.Message.warning(t);break;default:Z.Message.warning("Internal Server Error")}}(e.response.data.code,e.response.data.msg)});var ae=ie,se=i("mw3O"),ne=i.n(se),oe={token:te.state.login.token},le={LoginSys:function(e){return ae.post(I.login,ne.a.stringify(D()(oe,e)))},LogoutSys:function(e){return ae.post(I.logout,ne.a.stringify(D()(oe,e)))},LogSave:function(e){return ae.post(I.logSave,ne.a.stringify(D()(oe,e)))},CheckToken:function(e){return ae.post(I.checkToken,ne.a.stringify(D()(oe,e)))},AuthLists:function(e){return ae.post(I.authLists,ne.a.stringify(D()(oe,e)))},RoleLists:function(e){return ae.post(I.roleLists,ne.a.stringify(D()(oe,e)))},AuthTree:function(e){return ae.post(I.tree,ne.a.stringify(D()(oe,e)))},UserLists:function(e){return ae.post(I.userLists,ne.a.stringify(D()(oe,e)))},LogLists:function(e){return ae.post(I.logLists,ne.a.stringify(D()(oe,e)))},ApiLists:function(e){return ae.post(I.apiLists,ne.a.stringify(D()(oe,e)))},CategoryLists:function(e){return ae.post(I.categoryLists,ne.a.stringify(D()(oe,e)))},FileLists:function(e){return ae.post(I.fileLists,ne.a.stringify(D()(oe,e)))},FileRead:function(e){return ae.post(I.fileRead,ne.a.stringify(D()(oe,e)))},FileRename:function(e){return ae.post(I.fileRename,ne.a.stringify(D()(oe,e)))},FileSave:function(e){return ae.post(I.fileSave,ne.a.stringify(D()(oe,e)))},FileDelete:function(e){return ae.post(I.fileDelete,ne.a.stringify(D()(oe,e)))},DatabaseLists:function(e){return ae.post(I.databaseLists,ne.a.stringify(D()(oe,e)))},DatabaseBackup:function(e){return ae.post(I.databaseBackUp,ne.a.stringify(D()(oe,e)))},DatabaseRepair:function(e){return ae.post(I.databaseRepair,ne.a.stringify(D()(oe,e)))},DatabaseOptimize:function(e){return ae.post(I.databaseOptimize,ne.a.stringify(D()(oe,e)))},DatabaseUpdateComment:function(e){return ae.post(I.databaseUpdateComment,ne.a.stringify(D()(oe,e)))},CategoryDelete:function(e){return ae.post(I.categoryDelete,ne.a.stringify(D()(oe,e)))},Compression:function(e){return ae.post(I.fileCompression,ne.a.stringify(D()(oe,e)))},Decompression:function(e){return ae.post(I.fileDecompression,ne.a.stringify(D()(oe,e)))},ImagePreview:function(e){return ae.post(I.imagePreview,ne.a.stringify(D()(oe,e)))},ConfigLists:function(e){return ae.post(I.configLists,ne.a.stringify(D()(oe,e)))},ConfigValUpdate:function(e){return ae.post(I.configValUpdate,ne.a.stringify(D()(oe,e)))},GetConfig:function(e){return ae.post(I.getConfig,ne.a.stringify(D()(oe,e)))},OauthLists:function(e){return ae.post(I.oauthLists,ne.a.stringify(D()(oe,e)))},ReqRuleLists:function(e){return ae.post(I.reqRuleLists,ne.a.stringify(D()(oe,e)))},ReqRuleSave:function(e){return ae.post(I.reqRuleSave,ne.a.stringify(D()(oe,e)))},SendEmail:function(e){return ae.post(I.sendMail,ne.a.stringify(D()(oe,e)))},VerifyCode:function(e){return ae.post(I.verifyCode,ne.a.stringify(D()(oe,e)))},AreaLists:function(e){return ae.post(I.areaLists,ne.a.stringify(D()(oe,e)))},AreaWeather:function(e){return ae.post(I.areaWeather,ne.a.stringify(D()(oe,e)))}},re={name:"lists",components:{Delete:N,Radio:F,Submit:T},data:function(){return{authLists:[],authLevel:[],search:"",syncVisible:!1,modal:!0,center:!0,labelWidth:"80px",title:"",loading:!0,loadingText:"玩命加载中。。。",url:"",refs:this.$refs,reFrom:"auth",act:"",authModel:{},cgi:{insert:I.authSave,update:I.authUpdate,remove:I.authDelete,status:I.authUpdate},rules:{name:[{required:!0,message:"权限名称不得为空",trigger:"blur"}],href:[{required:!0,message:"权限链接不得为空",trigger:"blur"}],pid:[{required:!0,message:"权限上级不得为空",trigger:"change"}],status:[{required:!0,message:"权限状态不得为空",trigger:"change"}]}}},methods:{success:function(){this.getAuthLists(this.page,this.limit),this.syncVisible=!1},getAuthLists:function(){var e=this;le.AuthLists([]).then(function(t){t&&200===t.data.code&&(e.authLists=J.a.set_tree(t.data.item.authLists),e.authLevel=t.data.item.selectAuth,e.loading=!1)})},searchAuth:function(){console.log("ss")},setAuthName:function(e){return Array(e.level+1).join("　　")+e.name},addAuth:function(){this.syncVisible=!0,this.title="添加权限",this.url=this.cgi.insert,this.act="add",this.authModel={name:"",href:"",status:"1",pid:"0",level:0,path:"1"}},updateAuth:function(e){this.syncVisible=!0,this.title="修改权限",this.url=this.cgi.update,this.authModel=e,this.act="update",this.authModel.pid=this.authModel.pid.toString()}},mounted:function(){this.$nextTick(function(){this.getAuthLists()})}},ce={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{"element-loading-text":e.loadingText}},[i("el-form",{staticStyle:{"margin-top":"10px"},attrs:{inline:!0}},[i("el-form-item",{staticStyle:{float:"right"}},[i("el-button",{attrs:{icon:"el-icon-plus",type:"primary",size:"medium",plain:""},on:{click:e.addAuth}},[e._v("添 加")])],1)],1),e._v(" "),i("el-table",{attrs:{data:e.authLists.filter(function(t){return!e.search||t.name.includes(e.search)}),"row-key":"id","default-expand-all":"","tree-props":{children:"__child",hasChildren:"hasChildren"}}},[i("el-table-column",{attrs:{label:"权限名称",prop:"name"}}),e._v(" "),i("el-table-column",{attrs:{label:"权限链接",prop:"href"}}),e._v(" "),i("el-table-column",{attrs:{label:"显示状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("Radio",{attrs:{item:t.row,url:e.cgi.status}})]}}])}),e._v(" "),i("el-table-column",{attrs:{align:"right"},scopedSlots:e._u([{key:"header",fn:function(t){return[i("el-input",{attrs:{placeholder:"输入关键词查询"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchAuth(t)}},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})]}},{key:"default",fn:function(t){return[i("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-edit",size:"mini"},on:{click:function(i){return e.updateAuth(t.row)}}},[e._v("修 改")]),e._v(" "),i("Delete",{attrs:{url:e.cgi.remove,item:t.row,index:t.$index,Lists:e.authLists},on:{success:e.success}})]}}])})],1),e._v(" "),i("el-dialog",{attrs:{title:e.title,visible:e.syncVisible,modal:e.modal,center:e.center},on:{"update:visible":function(t){e.syncVisible=t}}},[i("el-form",{ref:e.reFrom,attrs:{"label-width":e.labelWidth,model:e.authModel,rules:e.rules}},[i("el-form-item",{attrs:{label:"权限名称",prop:"name"}},[i("el-input",{attrs:{placeholder:"权限名称"},model:{value:e.authModel.name,callback:function(t){e.$set(e.authModel,"name",t)},expression:"authModel.name"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"权限链接",prop:"href"}},[i("el-input",{attrs:{placeholder:"/admin/auth/lists"},model:{value:e.authModel.href,callback:function(t){e.$set(e.authModel,"href",t)},expression:"authModel.href"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"权限上级",prop:"pid"}},[i("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"权限上级"},model:{value:e.authModel.pid,callback:function(t){e.$set(e.authModel,"pid",t)},expression:"authModel.pid"}},["0"===e.authModel.pid?i("el-option",{attrs:{label:"默认权限",value:"0",selected:""}}):e._e(),e._v(" "),e._l(e.authLevel,function(t,a){return i("el-option",{key:a,attrs:{label:e.setAuthName(t),value:t.id.toString()}})})],2)],1),e._v(" "),"add"===e.act?i("el-form-item",{attrs:{label:"权限状态",prop:"status"}},[i("el-radio-group",{attrs:{size:"small"},model:{value:e.authModel.status,callback:function(t){e.$set(e.authModel,"status",t)},expression:"authModel.status"}},[i("el-radio-button",{attrs:{label:"2"}},[e._v("关闭")]),e._v(" "),i("el-radio-button",{attrs:{label:"1"}},[e._v("开启")])],1)],1):e._e()],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("Submit",{attrs:{reFrom:e.reFrom,model:e.authModel,url:e.url,refs:e.refs},on:{success:e.success}})],1)],1)],1)},staticRenderFns:[]};var ue=i("VU/8")(re,ce,!1,function(e){i("F8u/")},"data-v-066dc5eb",null).exports,de={name:"lists",components:{Submit:T,Delete:N,Radio:F},data:function(){return{roleLists:[],loading:!0,loadingText:"玩命加载中。。。",authLists:[],defaultChecked:[],title:"",syncVisible:!1,modal:!0,labelWidth:"80px",center:!0,url:"",refs:this.$refs,reFrom:"role",act:"",roleModel:{},ids:[],urls:[],cgi:{insert:I.roleSave,update:I.roleUpdate,remove:I.roleDelete,status:I.roleUpdate},rules:{role_name:[{required:!0,message:"角色名称不得为空",trigger:"blur"}],ids:[{required:!0,message:"权限ID不得为空",trigger:"blur"}],urls:[{required:!0,message:"权限地址不得为空",trigger:"blur"}]}}},methods:{success:function(){this.getRoleLists(this.page,this.limit),this.syncVisible=!1},getRoleLists:function(e,t){var i=this,a={offset:t*(e-1),limit:t,level:4};le.RoleLists(a).then(function(e){e&&200===e.data.code&&(i.roleLists=e.data.item.role,i.authLists=e.data.item.auth,i.loading=!1)})},sizeChange:function(e){this.limit=e,this.getRoleLists(this.page,this.limit)},currentChange:function(e){this.page=e,this.getRoleLists(this.page,this.limit)},addRole:function(){this.title="添加角色",this.syncVisible=!0,this.url=this.cgi.insert,this.act="add",this.defaultChecked=[],this.roleModel={role_name:"",auth_ids:[],auth_url:[],status:"1",created_at:J.a.get_timestamp(),updated_at:J.a.get_timestamp()}},handleChange:function(e,t,i){var a=this;switch(t){case"left":i.forEach(function(e,t){a.ids.splice(a.ids.indexOf(e),1)});break;case"right":i.forEach(function(e,t){a.ids.push(parseInt(e))})}a.roleModel.auth_ids=a.ids},updateRole:function(e){for(var t in this.syncVisible=!0,this.title="修改角色",this.url=this.cgi.update,this.ids=JSON.parse(e.auth_ids),this.urls=JSON.parse(e.auth_url),this.defaultChecked=[],this.act="update",this.ids)this.defaultChecked.push(parseInt(this.ids[t]));this.roleModel=e,this.roleModel.auth_ids=this.defaultChecked}},mounted:function(){this.$nextTick(function(){this.getRoleLists(this.page,this.limit)})}},me={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{"element-loading-text":e.loadingText}},[i("el-form",{staticStyle:{"margin-top":"10px"},attrs:{inline:!0}},[i("el-form-item",{staticStyle:{float:"right"}},[i("el-button",{attrs:{icon:"el-icon-plus",type:"primary",size:"medium",plain:""},on:{click:e.addRole}},[e._v("添 加")])],1)],1),e._v(" "),i("el-table",{attrs:{data:e.roleLists,border:""}},[i("el-table-column",{attrs:{label:"#",prop:"id",sortable:""}}),e._v(" "),i("el-table-column",{attrs:{label:"角色名称",prop:"role_name"}}),e._v(" "),i("el-table-column",{attrs:{label:"显示状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("Radio",{attrs:{item:t.row,url:e.cgi.status}})]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"创建时间",sortable:"",prop:"created_at"}}),e._v(" "),i("el-table-column",{attrs:{label:"修改时间",sortable:"",prop:"updated_at"}}),e._v(" "),i("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-edit",size:"mini"},on:{click:function(i){return e.updateRole(t.row)}}},[e._v("修 改")]),e._v(" "),i("Delete",{attrs:{url:e.cgi.remove,item:t.row,index:t.$index,Lists:e.roleLists},on:{success:e.success}})]}}])})],1),e._v(" "),i("el-dialog",{attrs:{title:e.title,visible:e.syncVisible,modal:e.modal,center:e.center},on:{"update:visible":function(t){e.syncVisible=t}}},[i("el-form",{ref:e.reFrom,attrs:{"label-width":e.labelWidth,model:e.roleModel,rules:e.rules}},[i("el-form-item",{attrs:{label:"角色名称",prop:"role_name"}},[i("el-input",{attrs:{placeholder:"角色名称"},model:{value:e.roleModel.role_name,callback:function(t){e.$set(e.roleModel,"role_name",t)},expression:"roleModel.role_name"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"权限列表",prop:"auth_ids"}},[i("el-transfer",{attrs:{titles:["所有","拥有"],"button-texts":["移除","添加"],data:e.authLists,filterable:""},on:{change:e.handleChange},model:{value:e.defaultChecked,callback:function(t){e.defaultChecked=t},expression:"defaultChecked"}})],1),e._v(" "),"add"===e.act?i("el-form-item",{attrs:{label:"状态",prop:"status"}},[i("el-radio-group",{attrs:{size:"small"},model:{value:e.roleModel.status,callback:function(t){e.$set(e.roleModel,"status",t)},expression:"roleModel.status"}},[i("el-radio-button",{attrs:{label:"0"}},[e._v("关闭")]),e._v(" "),i("el-radio-button",{attrs:{label:"1"}},[e._v("开启")])],1)],1):e._e()],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("Submit",{attrs:{reFrom:e.reFrom,model:e.roleModel,url:e.url,refs:e.refs},on:{success:e.success}})],1)],1)],1)},staticRenderFns:[]};var he=i("VU/8")(de,me,!1,function(e){i("gBpP")},"data-v-abc33c68",null).exports,pe={name:"lists",components:{Submit:T,Delete:N,Radio:F},data:function(){return{userLists:[],roleLists:[],page:1,limit:15,total:0,title:"",syncVisible:!1,modal:!0,labelWidth:"80px",loading:!0,center:!0,loadingText:"玩命加载中。。。",url:"",refs:this.$refs,reFrom:"user",act:"",userModel:{},cgi:{insert:I.userSave,update:I.userUpdate,remove:I.userDelete,status:I.userUpdate},rules:{username:[{required:!0,message:"管理员名称不得为空",trigger:"blur"}],password:[{required:!0,message:"密码不得为空",trigger:"blur"}],email:[{required:!0,message:"邮箱不得为空",trigger:"blur"},{type:"email",message:"邮箱格式不正确",trigger:"blur"}],phone_number:[{required:!0,message:"手机号不得为空",trigger:"blur"}],role_id:[{required:!0,message:"角色不得为空",trigger:"change"}]}}},methods:{success:function(){this.getUserLists(this.page,this.limit),this.syncVisible=!1},getUserLists:function(e,t){var i=this,a={offset:t*(e-1),limit:t,level:"1"};le.UserLists(a).then(function(e){e&&200===e.data.code&&(i.userLists=e.data.item.userLists,i.total=e.data.item.total,i.roleLists=e.data.item.roleLists,i.loading=!1)})},sizeChange:function(e){this.limit=e,this.getUserLists(this.page,this.limit)},currentChange:function(e){this.page=e,this.getUserLists(this.page,this.limit)},addUser:function(){this.title="添加管理员",this.syncVisible=!0,this.act="add",this.userModel={username:"",email:"",password:"",salt:J.a.set_random(),status:"1",role_id:1,phone_number:"",created_at:J.a.get_timestamp(),updated_at:J.a.get_timestamp(),access_token:""},this.url=this.cgi.insert},updateUser:function(e){this.title="修改管理员",this.syncVisible=!0,this.userModel=e,this.url=this.cgi.update,this.act="update"}},mounted:function(){this.$nextTick(function(){this.getUserLists(this.page,this.limit)})}},fe={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{"element-loading-text":e.loadingText}},[i("el-form",{staticStyle:{"margin-top":"10px"},attrs:{inline:!0}},[i("el-form-item",{staticStyle:{float:"right"}},[i("el-button",{attrs:{icon:"el-icon-plus",type:"primary",size:"medium",plain:""},on:{click:e.addUser}},[e._v("添 加")])],1)],1),e._v(" "),i("el-table",{attrs:{data:e.userLists,border:""}},[i("el-table-column",{attrs:{label:"#",prop:"id"}}),e._v(" "),i("el-table-column",{attrs:{label:"管理员",prop:"username"}}),e._v(" "),i("el-table-column",{attrs:{label:"邮箱",prop:"email"}}),e._v(" "),i("el-table-column",{attrs:{label:"手机号",prop:"phone_number"}}),e._v(" "),i("el-table-column",{attrs:{label:"显示状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("Radio",{attrs:{item:t.row,url:e.cgi.status}})]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"创建时间",prop:"created_at"}}),e._v(" "),i("el-table-column",{attrs:{label:"修改时间",prop:"updated_at"}}),e._v(" "),i("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-edit",size:"mini"},on:{click:function(i){return e.updateUser(t.row)}}},[e._v("修 改")]),e._v(" "),i("Delete",{attrs:{url:e.cgi.remove,item:t.row,index:t.$index,Lists:e.userLists},on:{success:e.success}})]}}])})],1),e._v(" "),i("div",{staticStyle:{margin:"25px 0"}},[i("el-pagination",{attrs:{"page-sizes":[15,30,50,100],"page-size":e.limit,layout:"total, sizes, prev, pager, next, jumper",total:e.total,"current-page":e.page},on:{"size-change":e.sizeChange,"current-change":e.currentChange}})],1),e._v(" "),i("el-dialog",{attrs:{title:e.title,visible:e.syncVisible,modal:e.modal,center:e.center},on:{"update:visible":function(t){e.syncVisible=t}}},[i("el-form",{ref:e.reFrom,attrs:{"label-width":e.labelWidth,model:e.userModel,rules:e.rules}},[i("el-form-item",{attrs:{label:"管理员",prop:"username"}},[i("el-input",{attrs:{placeholder:"管理员名称"},model:{value:e.userModel.username,callback:function(t){e.$set(e.userModel,"username",t)},expression:"userModel.username"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"密码",prop:"password"}},[i("el-input",{attrs:{type:"password",placeholder:"密码"},model:{value:e.userModel.password,callback:function(t){e.$set(e.userModel,"password",t)},expression:"userModel.password"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[i("el-input",{attrs:{type:"email",placeholder:"邮箱"},model:{value:e.userModel.email,callback:function(t){e.$set(e.userModel,"email",t)},expression:"userModel.email"}})],1),e._v(" "),"update"===e.act?i("el-form-item",{attrs:{label:"手机号",prop:"phone_number"}},[i("el-input",{attrs:{type:"email",placeholder:"手机号"},model:{value:e.userModel.phone_number,callback:function(t){e.$set(e.userModel,"phone_number",t)},expression:"userModel.phone_number"}})],1):e._e(),e._v(" "),i("el-form-item",{attrs:{label:"角色",prop:"role_id"}},[i("el-select",{staticStyle:{width:"100%"},model:{value:e.userModel.role_id,callback:function(t){e.$set(e.userModel,"role_id",t)},expression:"userModel.role_id"}},e._l(e.roleLists,function(e,t){return i("el-option",{key:t,attrs:{label:e.role_name,value:e.id}})}),1)],1),e._v(" "),"add"===e.act?i("el-form-item",{attrs:{label:"显示状态",prop:"status"}},[i("el-radio-group",{attrs:{size:"small"},model:{value:e.userModel.status,callback:function(t){e.$set(e.userModel,"status",t)},expression:"userModel.status"}},[i("el-radio-button",{attrs:{label:"2"}},[e._v("关闭")]),e._v(" "),i("el-radio-button",{attrs:{label:"1"}},[e._v("开启")])],1)],1):e._e()],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("Submit",{attrs:{reFrom:e.reFrom,model:e.userModel,url:e.url,refs:e.refs},on:{success:e.success}})],1)],1)],1)},staticRenderFns:[]};var ge=i("VU/8")(pe,fe,!1,function(e){i("69QM")},"data-v-49258b1d",null).exports,ve={name:"log",components:{Delete:N},data:function(){return{logLists:[],page:1,limit:15,total:0,functions:J.a,labelWidth:"80px",loading:!0,loadingText:"玩命加载中。。。",cgi:{remove:I.logDelete},rules:{}}},methods:{success:function(){this.getLogLists(this.page,this.limit)},getLogLists:function(e,t){var i=this,a={page:e,limit:t};le.LogLists(a).then(function(e){e&&200===e.data.code&&(i.logLists=e.data.item.data,i.total=e.data.item.total,i.loading=!1)})},sizeChange:function(e){this.limit=e,this.getLogLists(this.page,this.limit)},currentChange:function(e){this.page=e,this.getLogLists(this.page,this.limit)}},mounted:function(){this.$nextTick(function(){this.getLogLists(this.page,this.limit)})}},be={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{"element-loading-text":e.loadingText}},[i("el-table",{attrs:{data:e.logLists,border:""}},[i("el-table-column",{attrs:{label:"#",prop:"id",sortable:"",width:"100px"}}),e._v(" "),i("el-table-column",{attrs:{label:"执行人",prop:"username",sortable:"",width:"150px"}}),e._v(" "),i("el-table-column",{attrs:{label:"日志信息",prop:"log","show-overflow-tooltip":!0}}),e._v(" "),i("el-table-column",{attrs:{label:"地址",prop:"ip_address",width:"200px"}}),e._v(" "),i("el-table-column",{attrs:{label:"创建时间",sortable:"",prop:"created_at",width:"200px"}}),e._v(" "),i("el-table-column",{attrs:{label:"操作",width:"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("Delete",{attrs:{url:e.cgi.remove,func:e.functions,item:t.row,index:t.$index,Lists:e.logLists},on:{success:e.success}})]}}])})],1),e._v(" "),i("div",{staticStyle:{margin:"25px 0"}},[i("el-pagination",{attrs:{"page-sizes":[15,30,50,100],"page-size":e.limit,layout:"total, sizes, prev, pager, next, jumper",total:e.total,"current-page":e.page},on:{"size-change":e.sizeChange,"current-change":e.currentChange}})],1)],1)},staticRenderFns:[]};var ye=i("VU/8")(ve,be,!1,function(e){i("uLRQ")},"data-v-e83bf446",null).exports,_e=i("gZhU");i("c6RA"),i("aGTD"),i("UM8r"),i("Yokd"),i("THjC"),i("Kk9m"),i("fo6W"),i("fo6W"),i("soCA"),i("vq+x");var ke={name:"lists",components:{Submit:T,codemirror:_e.codemirror},data:function(){return{props:{label:"label",children:"children",isLeaf:!1},checkBoxArr:[{id:4,value:"读取"},{id:2,value:"写入"},{id:1,value:"执行"}],all:[],user:[],common:[],all_id:0,user_id:0,common_id:0,chmodModel:{auth:parseInt(this.all_id+""+this.user_id+this.common_id),path:""},compressionModel:{docLists:[],resource:"",path:""},options:{mode:"text/x-php",tabSize:4,lineNumbers:!0,theme:"monokai",extraKeys:{"Ctrl-Space":"autocomplete"},lineWrapping:!0,foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"],indentWithTabs:!0,smartIndent:!0,matchBrackets:!0,cursorHeight:1,autoRefresh:!0,styleActiveLine:!0},menuVisible:!1,highlight:!0,fileLists:[],path:"base_path",activeFileTabName:null,title:"default",syncVisible:!1,modal:!0,labelWidth:"80px",center:!0,loading:!0,loadingText:"玩命加载中。。。",url:"",refs:this.$refs,reFrom:"file",fileObject:{},showRightBtn:{add:!0,rename:!0,remove:!0,compression:!0,DeCompression:!1,auth:!0,download:!0,upload:!0},fileModel:{content:"",path:""},fileList:[],fileSyncVisible:!1,fileData:{},showIdea:!0,cgi:{update:I.fileUpdate,chmod:I.fileChmod,uploadUrl:"https://www.fanglonger.com/api/"+I.fileUpload},imgVisible:!1,dialogImageUrl:"",rules:{auth:[{required:!0,message:"权限不得为空",trigger:"blur"},{type:"number",message:"权限必须为数字值",trigger:"blur"}]}}},computed:u()({},Object(d.c)(["fileTabs","currFileObj","token"])),methods:u()({},Object(d.b)(["addFileTabs","deleteFileTabs","addCurrFileObj","saveSystemLog"]),{success:function(){this.getFileLists(this.path),this.syncVisible=!1},getFileLists:function(e){var t=this,i={path:e,basename:"/"};le.FileLists(i).then(function(e){e&&200===e.data.code&&(t.fileLists=e.data.item,t.loading=!1)})},rightClick:function(e,t,i,a){this.menuVisible=!1,this.menuVisible=!0;var s=document.querySelector("#menu");switch(document.addEventListener("click",this.foo),s.style.left="340px",s.style.top=e.clientY-195+"px",this.fileObject=t,this.fileObject.fileType){case"file":this.showRightBtn.DeCompression=!1,this.showRightBtn.download=!0;var n=this.fileObject.label.split(".")[1];["tar","zip","7z","TAR","ZIP","7Z"].includes(n)&&(this.showRightBtn.DeCompression=!0);break;case"dir":this.showRightBtn.download=!1,this.showRightBtn.DeCompression=!1}},foo:function(){this.menuVisible=!1,document.removeEventListener("click",this.foo)},goto:function(e){var t=this.fileTabs;for(var i in t)if(t[i].label===e.label){this.fileModel.content=t[i].content,this.fileModel.path=t[i].path;var a={content:this.fileModel.content,path:this.fileModel.path,name:t[i].name};this.addCurrFileObj(a)}},removeTabName:function(e){var t=this;this.fileTabs.forEach(function(i,a){if(i.name===e){var s=t.fileTabs[a+1]||t.fileTabs[a-1];if(s){t.activeFileTabName=s.name,t.fileModel.content=s.content;var n={content:s.content,path:s.path,name:s.name};t.addCurrFileObj(n),t.deleteFileTabs(e)}}})},getFileContent:function(e){var t=this;if("file"!==e.fileType)return this.$notify({type:"success",title:"通知",message:"不是一个文件"}),!1;var i=e.label.split(".")[1];if(["tar","zip","7z","TAR","ZIP","7Z"].includes(i))return this.$notify({type:"success",title:"通知",message:"该文件不支持直接查看"}),!1;this.showIdea=!0,this.activeFileTabName=e.size.toString();var a={path:e.path},s={};this.url=this.cgi.update,s.label=e.label,s.name=e.size.toString(),s.path=e.path,le.FileRead(a).then(function(i){i&&200===i.data.code&&(t.fileModel.content=i.data.item.content,t.fileModel.path=e.path,s.content=t.fileModel.content,t.addCurrFileObj(s),t.addFileTabs(s))})},renameFile:function(){var e=this,t={oldFile:this.fileObject.path};this.$prompt("请输入文件名","重命名",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(i){var a=i.value;t.newFile=t.oldFile.replace(e.fileObject.label,a),le.FileRename(t).then(function(t){if(t&&200===t.data.code){e.fileObject.name=a,e.$message({type:"success",message:"你的新文件名: "+a});var i={msg:s()({url:I.fileSave,info:"你的新文件名: "+a,result:t.data.result})};e.saveSystemLog(i),e.getFileLists(e.path)}})}).catch(function(){e.$message({type:"info",message:"取消输入"})})},deleteFile:function(){var e=this;this.$confirm("此操作将永远删除该条记录，是否继续？","删除记录",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var t={path:e.fileObject.path};le.FileDelete(t).then(function(i){if(i&&200===i.data.code){var a={msg:"删除文件成功："+t.path,result:i.data.result};e.saveSystemLog(a),e.getFileLists(e.path),e.$message({type:"success",message:"删除记录成功！："+t.path})}})}).catch(function(){e.$message({type:"info",message:"已取消删除！"})})},addFile:function(){var e=this,t={};this.$prompt("请输入文件名","新建文件",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(i){var a=i.value;"file"===e.fileObject.fileType?t.path=e.fileObject.path.replace(e.fileObject.label,a):"dir"===e.fileObject.fileType&&(t.path=e.fileObject.path+"/"+a),le.FileSave(t).then(function(i){if(i&&200===i.data.code){var a={msg:"你的新文件名: "+t.path,result:i.data.result};e.saveSystemLog(a),e.getFileLists(e.path),e.$message({type:"success",message:"你的新文件名: "+t.path})}})}).catch(function(){e.$message({type:"info",message:"取消输入"})})},authFile:function(){this.syncVisible=!0,this.title="设置权限【"+this.fileObject.path+"】",this.chmodModel.auth=parseInt(this.fileObject.auth),this.chmodModel.path=this.fileObject.path,this.all_id=this.fileObject.auth.substr(0,1),this.user_id=this.fileObject.auth.substr(1,1),this.common_id=this.fileObject.auth.substr(2,1),this.all=this.setChmod(this.all_id),this.user=this.setChmod(this.user_id),this.common=this.setChmod(this.common_id),this.url=this.cgi.chmod},setChmod:function(e){var t=[];switch(e){case"7":t=["读取","写入","执行"];break;case"6":t=["读取","写入"];break;case"5":t=["读取","执行"];break;case"4":t=["读取"];break;case"3":t=["写入","执行"];break;case"2":t=["写入"];break;case"1":t=["执行"]}return t},setChmodAuth:function(){this.chmodModel.auth=parseInt(this.chmodModel.auth),this.chmodModel.auth>666&&(this.$message({type:"warning",message:"权限设置失败"}),this.chmodModel.auth=parseInt(this.fileObject.auth)),this.all_id=this.chmodModel.auth.toString().substr(0,1),this.user_id=this.chmodModel.auth.toString().substr(1,1),this.common_id=this.chmodModel.auth.toString().substr(2,1),this.all=this.setChmod(this.all_id),this.user=this.setChmod(this.user_id),this.common=this.setChmod(this.common_id),this.url=this.cgi.chmod},getChmod:function(e){var t=0;for(var i in e)"读取"===e[i]&&(t+=4),"写入"===e[i]&&(t+=2),"执行"===e[i]&&(t+=1);return t},allChange:function(e){this.all_id=this.getChmod(e),this.chmodModel.auth=parseInt(this.all_id+""+this.user_id+this.common_id)},userChange:function(e){this.user_id=this.getChmod(e),this.chmodModel.auth=parseInt(this.all_id+""+this.user_id+this.common_id)},commonChange:function(e){this.common_id=this.getChmod(e),this.chmodModel.auth=parseInt(this.all_id+""+this.user_id+this.common_id)},compressionFile:function(){var e=this;this.$prompt("请输入文件名","压缩包名称",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(t){var i=t.value;e.compressionModel.resource=i,e.compressionModel.docLists.push(e.fileObject.path),e.compressionModel.path=e.fileObject.path.replace(e.fileObject.label,""),le.Compression(e.compressionModel).then(function(t){if(t&&200===t.data.code){e.$message({type:"success",message:t.data.msg});var i={msg:"你的压缩包名: "+e.compressionModel.type,result:t.data.result};e.saveSystemLog(i),e.getFileLists(e.path)}})}).catch(function(){e.$message({type:"info",message:"取消输入"})})},DecompressionFile:function(){var e=this;this.$prompt("请输入文件名","解压包名称",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(t){var i=t.value,a={path:e.fileObject.path,resource:i};le.Decompression(a).then(function(t){if(t&&200===t.data.code){e.$message({type:"success",message:t.data.msg});var i={msg:"文件解压成功",result:t.data.result};e.saveSystemLog(i),e.getFileLists(e.path)}})}).catch(function(){e.$message({type:"info",message:"取消输入"})})},downloadFile:function(){var e=this;this.$alert("确定下载文件："+this.fileObject.path,"文件下载").then(function(){window.open("https://www.fanglonger.com/api/"+I.fileDownload+"?token="+e.token+"&path="+e.fileObject.path,"__target");var t={msg:"文件下载成功："+e.fileObject.path};e.saveSystemLog(t),e.$message({type:"success",message:"download file successfully"})}).catch(function(){e.$message({type:"info",message:"取消下载"})})},uploadFile:function(){this.fileSyncVisible=!0,this.fileList=[],this.fileData.token=this.token,"file"===this.fileObject.fileType?this.fileData.path=this.fileObject.path.replace(this.fileObject.label,""):"dir"===this.fileObject.fileType&&(this.fileData.path=this.fileObject.path)},submitUpload:function(){this.$refs.upload.submit()},handleRemove:function(e){this.$message({type:"warning",message:"取消文件上传："+e.name})},handelSuccess:function(e){var t=this;if(200===e.code){var i=e.item.name.split(".")[1];["png","jpeg","gif"].includes(i.toLowerCase())&&this.$alert("是否预览图片?","图片预览").then(function(){t.imgVisible=!0,le.ImagePreview({name:e.item.name}).then(function(e){e&&200===e.data.code&&(t.dialogImageUrl=e.data.item.src)})}),this.$message({type:"success",message:e.msg});var a={msg:e.msg,result:e};this.saveSystemLog(a),this.getFileLists(this.path),this.fileSyncVisible=!1}},updateContent:function(e){this.fileModel.content=e}}),created:function(){this.activeFileTabName=this.currFileObj.name,this.fileModel=this.currFileObj,null===this.activeFileTabName&&(this.fileModel.content="",this.showIdea=!1)},mounted:function(){this.$nextTick(function(){this.url=this.cgi.update,this.getFileLists(this.path)})}},xe={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{"element-loading-text":e.loadingText}},[i("el-row",{attrs:{gutter:24}},[i("el-col",{staticStyle:{"margin-bottom":"20px"},attrs:{xl:{span:5},lg:{span:5},md:{span:24},sm:{span:24},xs:{span:24}}},[i("el-tree",{staticStyle:{"background-color":"#393d49"},attrs:{data:e.fileLists,"highlight-current":e.highlight,props:e.props,"node-key":e.props.id},on:{"node-contextmenu":e.rightClick,"node-click":e.getFileContent}})],1),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.menuVisible,expression:"menuVisible"}]},[i("ul",{staticClass:"menu",attrs:{id:"menu"}},[i("li",{directives:[{name:"show",rawName:"v-show",value:e.showRightBtn.add,expression:"showRightBtn.add"}],staticClass:"menu__item",on:{click:e.addFile}},[i("i",{staticClass:"el-icon-circle-plus-outline"}),e._v(" 添 加")]),e._v(" "),i("li",{directives:[{name:"show",rawName:"v-show",value:e.showRightBtn.rename,expression:"showRightBtn.rename"}],staticClass:"menu__item",on:{click:e.renameFile}},[i("i",{staticClass:"el-icon-edit-outline"}),e._v(" 修 改")]),e._v(" "),i("li",{directives:[{name:"show",rawName:"v-show",value:e.showRightBtn.auth,expression:"showRightBtn.auth"}],staticClass:"menu__item",on:{click:e.authFile}},[i("i",{staticClass:"el-icon-user-solid"}),e._v(" 权 限")]),e._v(" "),i("li",{directives:[{name:"show",rawName:"v-show",value:e.showRightBtn.compression,expression:"showRightBtn.compression"}],staticClass:"menu__item",on:{click:e.compressionFile}},[i("i",{staticClass:"el-icon-collection"}),e._v(" 压 缩")]),e._v(" "),i("li",{directives:[{name:"show",rawName:"v-show",value:e.showRightBtn.DeCompression,expression:"showRightBtn.DeCompression"}],staticClass:"menu__item",on:{click:e.DecompressionFile}},[i("i",{staticClass:"el-icon-receiving"}),e._v(" 解 压")]),e._v(" "),i("li",{directives:[{name:"show",rawName:"v-show",value:e.showRightBtn.download,expression:"showRightBtn.download"}],staticClass:"menu__item",on:{click:e.downloadFile}},[i("i",{staticClass:"el-icon-download"}),e._v(" 下 载")]),e._v(" "),i("li",{directives:[{name:"show",rawName:"v-show",value:e.showRightBtn.upload,expression:"showRightBtn.upload"}],staticClass:"menu__item",on:{click:e.uploadFile}},[i("i",{staticClass:"el-icon-upload"}),e._v(" 上 传")]),e._v(" "),i("li",{directives:[{name:"show",rawName:"v-show",value:e.showRightBtn.remove,expression:"showRightBtn.remove"}],staticClass:"menu__item",on:{click:e.deleteFile}},[i("i",{staticClass:"el-icon-delete-solid"}),e._v(" 删 除")])])]),e._v(" "),i("el-col",{directives:[{name:"show",rawName:"v-show",value:e.showIdea,expression:"showIdea"}],attrs:{xl:{span:18,push:1},lg:{span:18,push:1},md:{span:24},sm:{span:24},xs:{span:24}}},[i("el-form",{ref:e.reFrom,attrs:{model:e.fileModel}},[i("el-form-item",{staticStyle:{"margin-left":"-30px !important"}},[i("el-tabs",{staticStyle:{"text-align":"left!important"},attrs:{type:"border-card",closable:""},on:{"tab-click":e.goto,"tab-remove":e.removeTabName},model:{value:e.activeFileTabName,callback:function(t){e.activeFileTabName=t},expression:"activeFileTabName"}},[e._l(e.fileTabs,function(e){return i("el-tab-pane",{key:e.name,attrs:{label:e.label,name:e.name}})}),e._v(" "),i("el-card",{attrs:{shadow:"hover"}},[i("codemirror",{ref:"edit",staticStyle:{"line-height":"20px"},attrs:{value:e.fileModel.content,options:e.options},on:{change:e.updateContent}})],1)],2)],1)],1),e._v(" "),i("Submit",{staticStyle:{"text-align":"center !important"},attrs:{reFrom:e.reFrom,model:e.fileModel,url:e.url,refs:e.refs},on:{success:e.success}})],1)],1),e._v(" "),i("el-dialog",{attrs:{visible:e.syncVisible,modal:e.modal,title:e.title,center:e.center},on:{"update:visible":function(t){e.syncVisible=t}}},[i("el-form",{ref:e.reFrom,attrs:{"label-width":e.labelWidth,model:e.chmodModel,rules:e.rules}},[i("el-form-item",{attrs:{label:"权限",prop:"auth"}},[i("el-input",{attrs:{placeholder:"请输入内容"},on:{change:e.setChmodAuth},model:{value:e.chmodModel.auth,callback:function(t){e.$set(e.chmodModel,"auth",t)},expression:"chmodModel.auth"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"所有者"}},[i("el-checkbox-group",{on:{change:e.allChange},model:{value:e.all,callback:function(t){e.all=t},expression:"all"}},e._l(e.checkBoxArr,function(e){return i("el-checkbox",{key:e.id,attrs:{border:"",size:"small",label:e.value}})}),1)],1),e._v(" "),i("el-form-item",{attrs:{label:"用户组"}},[i("el-checkbox-group",{on:{change:e.userChange},model:{value:e.user,callback:function(t){e.user=t},expression:"user"}},e._l(e.checkBoxArr,function(e){return i("el-checkbox",{key:e.id,attrs:{border:"",size:"small",label:e.value}})}),1)],1),e._v(" "),i("el-form-item",{attrs:{label:"公共"}},[i("el-checkbox-group",{on:{change:e.commonChange},model:{value:e.common,callback:function(t){e.common=t},expression:"common"}},e._l(e.checkBoxArr,function(e){return i("el-checkbox",{key:e.id,attrs:{border:"",size:"small",label:e.value}})}),1)],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("Submit",{attrs:{reFrom:e.reFrom,model:e.chmodModel,url:e.url,refs:e.refs},on:{success:e.success}})],1)],1),e._v(" "),i("el-dialog",{attrs:{visible:e.fileSyncVisible,modal:e.modal,title:"文件上传",center:e.center},on:{"update:visible":function(t){e.fileSyncVisible=t}}},[i("el-upload",{ref:"upload",attrs:{data:e.fileData,action:e.cgi.uploadUrl,"on-remove":e.handleRemove,"on-success":e.handelSuccess,"file-list":e.fileList,"auto-upload":!1}},[i("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[e._v("选取文件")]),e._v(" "),i("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"small",type:"success"},on:{click:e.submitUpload}},[e._v("上传到服务器")])],1)],1),e._v(" "),i("el-dialog",{attrs:{visible:e.imgVisible},on:{"update:visible":function(t){e.imgVisible=t}}},[i("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})])],1)},staticRenderFns:[]};var we=i("VU/8")(ke,xe,!1,function(e){i("8ADD")},"data-v-049f19ee",null).exports,Ce={name:"lists",components:{Submit:T,Delete:N,Radio:F},data:function(){return{configLists:[],page:1,limit:15,total:0,title:"",syncVisible:!1,modal:!0,labelWidth:"80px",loading:!0,destroy_on_close:!0,center:!0,loadingText:"玩命加载中。。。",url:"",refs:this.$refs,reFrom:"config",configModel:{},configVal:{},cgi:{remove:I.configDelete,status:I.configUpdate,insert:I.configSave,update:I.configUpdate,updateVal:I.configValUpdate},rules:{name:[{required:!0,message:"配置名称不得为空",trigger:"blur"}]},show:!1,showBtn:!0}},methods:u()({},Object(d.b)(["saveSystemLog","checkAuth"]),{success:function(){this.syncVisible=!1,this.getConfigLists(this.page,this.limit)},getConfigLists:function(e,t){var i=this,a={page:e,limit:t};le.ConfigLists(a).then(function(e){e&&200===e.data.code&&(i.configLists=e.data.item,i.total=e.data.item.length,i.loading=!1)})},sizeChange:function(e){this.limit=e,this.getConfigLists(this.page,this.limit)},currentChange:function(e){this.page=e,this.getConfigLists(this.page,this.limit)},addConfig:function(){this.title="添加配置",this.syncVisible=!0,this.configModel={name:"",status:1,value:"[]"},this.show=!1,this.showBtn=!0,this.url=this.cgi.insert},setConfigVal:function(e){this.title="设置【"+e.name+"】配置",this.configVal={name:"",value:"",status:1,id:1},this.show=!0,this.showBtn=!0,this.syncVisible=!0,this.configModel=e,this.configVal.status=this.configModel.status,this.configModel.value=this.configVal,this.url=this.cgi.update},getConfigVal:function(e){this.title="查看配置值",this.show=!0,this.showBtn=!1,this.syncVisible=!0,this.configModel=e,this.configVal.name=e.name,this.configVal.value=e.value},removeConfigVal:function(e){var t=this;this.$confirm("此操作将永远删除该条记录，是否继续？","删除记录",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.checkAuth({url:t.cgi.updateVal}),e.act="remove",le.ConfigValUpdate(e).then(function(e){if(e&&200===e.data.code){t.getConfigLists(t.page,t.limit);var i={url:t.cgi.updateVal,msg:s()({info:e.data.msg,result:e.data.result}),token:t.$store.state.login.token};return t.saveSystemLog(i),t.$message({type:"success",message:e.data.msg}),!1}})}).catch(function(){t.$message({type:"info",message:"已取消删除！"})})}}),mounted:function(){this.$nextTick(function(){this.getConfigLists(this.page,this.limit)})}},Se={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{"element-loading-text":e.loadingText}},[i("el-form",{staticStyle:{"margin-top":"10px"},attrs:{inline:!0}},[i("el-form-item",{staticStyle:{float:"right"}},[i("el-button",{attrs:{icon:"el-icon-plus",type:"primary",size:"medium",plain:""},on:{click:e.addConfig}},[e._v("添 加")])],1)],1),e._v(" "),i("el-table",{attrs:{data:e.configLists,border:"","row-key":"id","tree-props":{children:"children",hasChildren:"hasChildren"}}},[i("el-table-column",{attrs:{label:"#",prop:"id",width:"100px"}}),e._v(" "),i("el-table-column",{attrs:{label:"配置名称",prop:"name"}}),e._v(" "),i("el-table-column",{attrs:{label:"显示状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.children?i("div",[i("Radio",{attrs:{item:t.row,url:e.cgi.status},on:{success:e.success}})],1):e._e()]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"创建时间",prop:"created_at"}}),e._v(" "),i("el-table-column",{attrs:{label:"修改时间",prop:"updated_at"}}),e._v(" "),i("el-table-column",{attrs:{label:"操作",width:"200px"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.children?i("div",{staticStyle:{"text-align":"center"}},[i("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-plus",size:"mini"},on:{click:function(i){return e.setConfigVal(t.row)}}},[e._v("添 加")])],1):i("div",[i("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-search",size:"mini"},on:{click:function(i){return e.getConfigVal(t.row)}}},[e._v("查 看")]),e._v(" "),i("el-button",{attrs:{plain:"",type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:function(i){return e.removeConfigVal(t.row)}}},[e._v("删 除")])],1)]}}])})],1),e._v(" "),i("div",{staticStyle:{margin:"25px 0"}},[i("el-pagination",{attrs:{"page-sizes":[15,30,50,100],"page-size":e.limit,layout:"total, sizes, prev, pager, next, jumper",total:e.total,"current-page":e.page},on:{"size-change":e.sizeChange,"current-change":e.currentChange}})],1),e._v(" "),i("el-dialog",{attrs:{title:e.title,visible:e.syncVisible,modal:e.modal,center:e.center,"destroy-on-close":e.destroy_on_close},on:{"update:visible":function(t){e.syncVisible=t}}},[i("el-form",{ref:e.reFrom,attrs:{"label-width":e.labelWidth,model:e.configModel,rules:e.rules}},[i("el-form-item",{directives:[{name:"show",rawName:"v-show",value:!e.show,expression:"!show"}],attrs:{label:"配置名称",prop:"name"}},[i("el-input",{attrs:{placeholder:"配置名称"},model:{value:e.configModel.name,callback:function(t){e.$set(e.configModel,"name",t)},expression:"configModel.name"}})],1),e._v(" "),i("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],attrs:{label:"配置健"}},[i("el-input",{attrs:{placeholder:"配置内容"},model:{value:e.configVal.name,callback:function(t){e.$set(e.configVal,"name",t)},expression:"configVal.name"}})],1),e._v(" "),i("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],attrs:{label:"配置值"}},[i("el-input",{attrs:{placeholder:"配置内容"},model:{value:e.configVal.value,callback:function(t){e.$set(e.configVal,"value",t)},expression:"configVal.value"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"配置状态",prop:"status"}},[i("el-radio-group",{attrs:{size:"small"},model:{value:e.configModel.status,callback:function(t){e.$set(e.configModel,"status",t)},expression:"configModel.status"}},[i("el-radio-button",{attrs:{label:"2"}},[e._v("关闭")]),e._v(" "),i("el-radio-button",{attrs:{label:"1"}},[e._v("开启")])],1)],1)],1),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.showBtn,expression:"showBtn"}],staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("Submit",{attrs:{reFrom:e.reFrom,model:e.configModel,url:e.url,refs:e.refs},on:{success:e.success}})],1)],1)],1)},staticRenderFns:[]};var Me=i("VU/8")(Ce,Se,!1,function(e){i("2zhE")},"data-v-6f80776d",null).exports,Le=i("fZjL"),Re=i.n(Le);i("Mixr"),i("5IAE"),i("aGTD"),i("jQeI"),i("PsxY"),i("Ev5Y"),i("UM8r"),i("Yokd"),i("THjC"),i("Kk9m"),i("fo6W"),i("fo6W"),i("soCA"),i("vq+x");var Te={name:"lists",components:{Submit:T,Delete:N,Radio:F,codemirror:_e.codemirror},data:function(){return{categoryLists:[],props:{label:"name",children:"children",id:"id"},title:"",syncVisible:!1,modal:!0,labelWidth:"80px",loading:!0,center:!0,loadingText:"玩命加载中。。。",url:"",refs:this.$refs,reFrom:"category",apiName:"",menuVisible:!1,categoryModel:{},apiCategory:[],highlight:!0,options:{mode:"application/ld+json",tabSize:4,lineNumbers:!0,theme:"monokai",extraKeys:{"Ctrl-Space":"autocomplete"},lineWrapping:!0,foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"],indentWithTabs:!0,smartIndent:!0,matchBrackets:!0,cursorHeight:1,autoRefresh:!0,styleActiveLine:!0},apiStatus:!1,methodLists:{POST:"POST",GET:"GET",PUT:"PUT",DELETE:"DELETE"},typeLists:{String:"String",Float:"Float",Number:"Number",Object:"Object",Timestamp:"Timestamp"},cgi:{insert:I.apiSave,update:I.apiUpdate,categoryInsert:I.categorySave,categoryUpdate:I.categoryUpdate,remove:I.categoryDelete},rules:{type:[{required:!0,message:"请输入权限名称",trigger:"change"}],href:[{required:!0,message:"请输入权限地址",trigger:"blur"}],method:[{required:!0,message:"请输入请求方法",trigger:"change"}],desc:[{required:!0,message:"请输入接口描述",trigger:"blur"}],response_string:[{required:!0,message:"请输入返回参数",trigger:"blur"}]}}},computed:u()({},Object(d.c)(["apiVisible","apiModel","interfaceName"])),methods:u()({},Object(d.b)(["addApiVisible","addApiModel","saveSystemLog"]),{success:function(){this.getCategoryLists(),this.syncVisible=!1},setName:function(e){return Array(e.level+1).join("　　")+e.name},getCategoryLists:function(){var e=this;le.CategoryLists().then(function(t){t&&200===t.data.code&&(e.apiCategory=t.data.item.category,e.categoryLists=t.data.item.category_tree,e.loading=!1)})},rightClick:function(e,t,i,a){this.menuVisible=!1,this.menuVisible=!0;var s=document.querySelector("#menu");document.addEventListener("click",this.foo),s.style.left="275px",s.style.top=e.screenY-185+"px",this.categoryModel=t},foo:function(){this.menuVisible=!1,document.removeEventListener("click",this.foo)},addCategory:function(){this.title="添加接口",this.syncVisible=!0,this.url=this.cgi.categoryInsert,this.categoryModel={name:"",pid:this.categoryModel.id,path:"1",level:1}},updateCategory:function(){this.title=this.categoryModel.name,this.syncVisible=!0,this.url=this.cgi.categoryUpdate},deleteCategory:function(){var e=this;le.CategoryDelete({id:this.categoryModel.value}).then(function(t){if(t&&200===t.data.code){var i={msg:s()({url:e.cgi.remove,info:t.data.msg,result:t.data.result}),token:e.$store.state.login.token};e.saveSystemLog(i),e.$message({type:"success",message:t.data.msg}),e.getCategoryLists()}})},getApiDetail:function(e){var t=this;if(0!==e.level){var i={apiVisible:!0,interfaceName:e.name};this.addApiVisible(i),this.apiName=this.interfaceName,le.ApiLists({type:e.id}).then(function(i){if(i&&200===i.data.code)t.addApiModel(i.data.item),t.apiModel.request=JSON.parse(t.apiModel.request),t.apiModel.response=JSON.parse(t.apiModel.response),t.url=t.cgi.update;else{t.url=t.cgi.insert;var a={desc:"",type:e.id,href:"",method:"POST",request:[{name:"token",desc:"用户token",required:"1",type:"String",val:""}],response:[{name:"code",desc:"200 成功",type:"number"},{name:"msg",desc:"Success",type:"string"}],response_string:"",remark:""};t.addApiModel(a)}})}else this.$notify({title:"通知",message:"该接口暂时不允许访问",type:"success"})},requestRemove:function(e,t){var i=[],a=this;Re()(a.apiModel.request).forEach(function(e){i.push(a.apiModel.request[e])}),i.splice(t,1),a.apiModel.request=i},requestAdd:function(){this.apiModel.request.push({name:"",desc:"",required:"",type:"",val:""})},responseRemove:function(e,t){var i=[],a=this;Re()(a.apiModel.response).forEach(function(e){i.push(a.apiModel.response[e])}),i.splice(t,1),a.apiModel.response=i},responseAdd:function(){this.apiModel.response.push({name:"",desc:"",type:""})},updateContent:function(e){this.apiModel.response_string=e}}),created:function(){this.apiName=this.interfaceName},mounted:function(){this.$nextTick(function(){this.getCategoryLists()})}},Ve={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{"element-loading-text":e.loadingText}},[i("el-row",{attrs:{gutter:24}},[i("el-col",{staticStyle:{"margin-bottom":"20px"},attrs:{xl:{span:4},lg:{span:4},md:{span:24},sm:{span:24},xs:{span:24}}},[i("el-tree",{staticStyle:{"background-color":"#393d49"},attrs:{props:e.props,"highlight-current":e.highlight,data:e.categoryLists,"default-expand-all":"","node-key":e.props.id},on:{"node-contextmenu":e.rightClick,"node-click":e.getApiDetail}})],1),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.menuVisible,expression:"menuVisible"}]},[i("ul",{staticClass:"menu",attrs:{id:"menu"}},[i("li",{staticClass:"menu__item",on:{click:e.addCategory}},[i("i",{staticClass:"el-icon-circle-plus-outline"}),e._v(" 添 加")]),e._v(" "),i("li",{staticClass:"menu__item",on:{click:e.updateCategory}},[i("i",{staticClass:"el-icon-edit-outline"}),e._v(" 修 改")]),e._v(" "),i("li",{staticClass:"menu__item",on:{click:e.deleteCategory}},[i("i",{staticClass:"el-icon-delete-solid"}),e._v(" 删 除")])])]),e._v(" "),i("el-col",{directives:[{name:"show",rawName:"v-show",value:e.apiVisible,expression:"apiVisible"}],attrs:{xl:{span:19,push:1},lg:{span:19,push:1},md:{span:24},sm:{span:24},xs:{span:24}}},[i("el-tabs",{attrs:{type:"border-card"},model:{value:e.apiName,callback:function(t){e.apiName=t},expression:"apiName"}},[i("el-tab-pane",{key:e.apiName,attrs:{label:e.apiName,name:e.apiName}}),e._v(" "),i("el-card",{attrs:{shadow:"hover"}},[i("el-form",{ref:e.reFrom,attrs:{"label-width":e.labelWidth,model:e.apiModel,rules:e.rules}},[i("el-form-item",{attrs:{label:"接口名称",prop:"type"}},[i("el-select",{staticStyle:{width:"100%"},attrs:{"auto-complete":"true",placeholder:"接口名称"},model:{value:e.apiModel.type,callback:function(t){e.$set(e.apiModel,"type",t)},expression:"apiModel.type"}},e._l(e.apiCategory,function(t,a){return i("el-option",{key:a,attrs:{label:e.setName(t),value:t.id}})}),1)],1),e._v(" "),i("el-form-item",{attrs:{label:"接口描述",prop:"desc"}},[i("el-input",{attrs:{placeholder:"接口描述"},model:{value:e.apiModel.desc,callback:function(t){e.$set(e.apiModel,"desc",t)},expression:"apiModel.desc"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"接口地址",prop:"href"}},[i("el-input",{attrs:{placeholder:"接口地址"},model:{value:e.apiModel.href,callback:function(t){e.$set(e.apiModel,"href",t)},expression:"apiModel.href"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"接口方法",prop:"method"}},[i("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"接口方法"},model:{value:e.apiModel.method,callback:function(t){e.$set(e.apiModel,"method",t)},expression:"apiModel.method"}},e._l(e.methodLists,function(e,t){return i("el-option",{key:t,attrs:{label:e,value:t}})}),1)],1),e._v(" "),i("el-form-item",{attrs:{label:"请求字段",prop:"request"}},[i("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-plus",size:"medium"},on:{click:function(t){return e.requestAdd()}}}),e._v(" "),e._l(e.apiModel.request,function(t,a){return i("div",{key:a},[i("el-input",{staticStyle:{width:"195px","margin-bottom":"5px"},attrs:{"auto-complete":"true",placeholder:"参数名"},model:{value:t.name,callback:function(i){e.$set(t,"name",i)},expression:"request.name"}}),e._v(" "),i("el-select",{staticStyle:{width:"195px"},attrs:{"auto-complete":"true",placeholder:"字段类型"},model:{value:t.type,callback:function(i){e.$set(t,"type",i)},expression:"request.type"}},e._l(e.typeLists,function(e,t){return i("el-option",{key:t,attrs:{label:e,value:t}})}),1),e._v(" "),i("el-select",{staticStyle:{width:"195px"},attrs:{placeholder:"是否必须"},model:{value:t.required,callback:function(i){e.$set(t,"required",i)},expression:"request.required"}},[i("el-option",{attrs:{label:"是",value:"1"}}),e._v(" "),i("el-option",{attrs:{label:"否",value:"0"}})],1),e._v(" "),i("el-input",{staticStyle:{width:"195px"},attrs:{"auto-complete":"true",placeholder:"参数描述"},model:{value:t.desc,callback:function(i){e.$set(t,"desc",i)},expression:"request.desc"}}),e._v(" "),i("el-input",{staticStyle:{width:"195px"},attrs:{"auto-complete":"true",placeholder:"参数值"},model:{value:t.val,callback:function(i){e.$set(t,"val",i)},expression:"request.val"}}),e._v(" "),i("el-button",{attrs:{type:"danger",plain:"",icon:"el-icon-delete",size:"medium"},on:{click:function(i){return e.requestRemove(t,a)}}})],1)})],2),e._v(" "),i("el-form-item",{attrs:{label:"返回参数",prop:"response_string"}},[i("codemirror",{ref:"edit",staticStyle:{"line-height":"20px"},attrs:{value:e.apiModel.response_string,options:e.options},on:{change:e.updateContent}})],1),e._v(" "),i("el-form-item",{attrs:{label:"返回字段",prop:"response"}},[i("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-plus",size:"medium"},on:{click:function(t){return e.responseAdd()}}}),e._v(" "),e._l(e.apiModel.response,function(t,a){return i("div",{key:a},[i("el-input",{staticStyle:{width:"195px","margin-bottom":"5px"},attrs:{"auto-complete":"true",placeholder:"参数名"},model:{value:t.name,callback:function(i){e.$set(t,"name",i)},expression:"response.name"}}),e._v(" "),i("el-select",{staticStyle:{width:"195px"},attrs:{"auto-complete":"true",placeholder:"字段类型"},model:{value:t.type,callback:function(i){e.$set(t,"type",i)},expression:"response.type"}},e._l(e.typeLists,function(e,t){return i("el-option",{key:t,attrs:{label:e,value:t}})}),1),e._v(" "),i("el-input",{staticStyle:{width:"200px"},attrs:{"auto-complete":"true",placeholder:"参数描述"},model:{value:t.desc,callback:function(i){e.$set(t,"desc",i)},expression:"response.desc"}}),e._v(" "),i("el-button",{attrs:{type:"danger",icon:"el-icon-delete",plain:"",size:"medium"},on:{click:function(i){return e.responseRemove(t,a)}}})],1)})],2),e._v(" "),i("el-form-item",{attrs:{label:"备注",prop:"remark"}},[i("el-input",{attrs:{placeholder:"备注",type:"textarea"},model:{value:e.apiModel.remark,callback:function(t){e.$set(e.apiModel,"remark",t)},expression:"apiModel.remark"}})],1),e._v(" "),i("Submit",{staticStyle:{"text-align":"center"},attrs:{reFrom:e.reFrom,model:e.apiModel,url:e.url,refs:e.refs},on:{success:e.success}})],1)],1)],1)],1)],1),e._v(" "),i("el-dialog",{attrs:{title:e.title,visible:e.syncVisible,modal:e.modal,center:e.center},on:{"update:visible":function(t){e.syncVisible=t}}},[i("el-form",{ref:e.reFrom,attrs:{"label-width":e.labelWidth,model:e.categoryModel,rules:e.rules}},[i("el-form-item",{attrs:{label:"接口名称",prop:"name"}},[i("el-input",{attrs:{placeholder:"分类名称"},model:{value:e.categoryModel.name,callback:function(t){e.$set(e.categoryModel,"name",t)},expression:"categoryModel.name"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"接口上级",prop:"pid"}},[i("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"接口上级"},model:{value:e.categoryModel.pid,callback:function(t){e.$set(e.categoryModel,"pid",t)},expression:"categoryModel.pid"}},e._l(e.apiCategory,function(t,a){return i("el-option",{key:a,attrs:{label:e.setName(t),value:t.id}})}),1)],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("Submit",{attrs:{reFrom:e.reFrom,model:e.categoryModel,url:e.url,refs:e.refs},on:{success:e.success}})],1)],1)],1)},staticRenderFns:[]};var Oe=i("VU/8")(Te,Ve,!1,function(e){i("mr9v")},"data-v-b57acdba",null).exports,Fe={name:"lists",data:function(){return{databaseLists:[],labelWidth:"80px",loading:!0,loadingText:"玩命加载中。。。",edit:!1,name:""}},methods:{getDatabaseLists:function(){var e=this;le.DatabaseLists([]).then(function(t){t&&200===t.data.code&&(e.databaseLists=t.data.item,e.loading=!1)})},BACKUP:function(e){var t=this;this.loading=!0,le.DatabaseBackup(e).then(function(e){e&&200===e.data.code&&setTimeout(function(){t.loading=!1,t.$message({type:"success",message:e.data.msg})},e.data.item.times)})},setComment:function(e){this.name=e.name,this.edit=!0},updateComment:function(e){var t=this;this.loading=!0,le.DatabaseUpdateComment(e).then(function(e){e&&200===e.data.code&&(t.$message({type:"success",message:e.data.msg}),t.loading=!1,t.edit=!1,t.name="")})},REPAIR:function(e){var t=this;this.loading=!0,le.DatabaseRepair(e).then(function(e){e&&200===e.data.code&&(t.loading=!1,t.$message({type:"success",message:e.data.msg}))})},OPTIMIZE:function(e){var t=this;this.loading=!0,le.DatabaseOptimize(e).then(function(e){e&&200===e.data.code&&(t.loading=!1,t.$message({type:"success",message:e.data.msg}))})}},mounted:function(){this.$nextTick(function(){this.getDatabaseLists()})}},Ae={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{"element-loading-text":e.loadingText}},[i("el-table",{attrs:{data:e.databaseLists,border:""}},[i("el-table-column",{attrs:{label:"表名",prop:"name",width:"150"}}),e._v(" "),i("el-table-column",{attrs:{label:"版本号",prop:"version",width:"100"}}),e._v(" "),i("el-table-column",{attrs:{label:"引擎",prop:"engine",width:"100"}}),e._v(" "),i("el-table-column",{attrs:{label:"数据表大小",prop:"data_length",sortable:"",width:"120"}}),e._v(" "),i("el-table-column",{attrs:{label:"自增量",prop:"auto_increment",sortable:"",width:"100"}}),e._v(" "),i("el-table-column",{attrs:{label:"字符集编码",prop:"collation"}}),e._v(" "),i("el-table-column",{attrs:{label:"备注"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.name===e.name&&e.edit?i("el-input",{model:{value:t.row.comment,callback:function(i){e.$set(t.row,"comment",i)},expression:"scope.row.comment"}},[i("el-button",{attrs:{slot:"append",icon:"el-icon-edit",plain:"",type:"primary"},on:{click:function(i){return e.updateComment(t.row)}},slot:"append"})],1):i("div",{domProps:{innerHTML:e._s(t.row.comment)}})]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"创建时间",sortable:"",prop:"create_time"}}),e._v(" "),i("el-table-column",{attrs:{label:"操作",width:"350px"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{type:"primary",plain:"",size:"mini",icon:"el-icon-edit"},on:{click:function(i){return e.setComment(t.row)}}},[e._v("修 改")]),e._v(" "),i("el-button",{attrs:{type:"primary",plain:"",size:"mini"},on:{click:function(i){return e.BACKUP(t.row)}}},[e._v("备 份")]),e._v(" "),i("el-button",{attrs:{type:"primary",plain:"",size:"mini"},on:{click:function(i){return e.REPAIR(t.row)}}},[e._v("修 复")]),e._v(" "),i("el-button",{attrs:{type:"primary",plain:"",size:"mini"},on:{click:function(i){return e.OPTIMIZE(t.row)}}},[e._v("优 化")])]}}])})],1)],1)},staticRenderFns:[]};var Ue=i("VU/8")(Fe,Ae,!1,function(e){i("oj7H")},"data-v-0f769f7f",null).exports,Ne={name:"lists",components:{Submit:T,Delete:N,Radio:F},data:function(){return{oauthLists:[],roleLists:[],page:1,limit:15,total:0,title:"",syncVisible:!1,modal:!1,labelWidth:"80px",loading:!0,destroy_on_close:!0,center:!0,loadingText:"玩命加载中。。。",url:"",refs:this.$refs,reFrom:"role",OauthModel:{},oauthImageLists:[],fileData:{},showCode:!1,cgi:{remove:I.oauthDelete,status:I.oauthUpdate,update:I.oauthUpdate,uploadUrl:"https://www.fanglonger.com/api/"+I.fileUpload},rules:{username:[{required:!0,message:"用户名不得为空",trigger:"blur"}],avatar_url:[{required:!0,message:"用户头像不得为空",trigger:"blur"}],status:[{required:!0,message:"用户状态不得为空",trigger:"change"}],role_id:[{required:!0,message:"角色名称不为为空",trigger:"blur"}],email:[{required:!0,message:"邮箱不得为空",trigger:"blur"}],code:[{required:!0,message:"验证码不得为空",trigger:"blur"}]},headers:{}}},computed:u()({},Object(d.c)(["token"])),methods:{success:function(){this.syncVisible=!1,this.getOauthLists(this.page,this.limit)},getOauthLists:function(e,t){var i=this,a={page:e,limit:t};le.OauthLists(a).then(function(e){e&&200===e.data.code&&(i.oauthLists=e.data.item.data,i.total=e.data.item.total,i.oauthImageLists=e.data.item.avatar_url_lists,i.roleLists=e.data.item.roleLists,i.loading=!1)})},uploadSuccess:function(e){if(e&&200===e.code)return this.$message({type:"success",message:e.msg}),void(this.OauthModel.avatar_url=e.item.src);this.$message({type:"warning",message:e.msg})},beforeUpload:function(e){var t=e.type;return["image/jpg","image/gif","image/png","image/jpeg"].includes(t)?!(e.size>2097152)||(this.$message({type:"warning",message:"upload image size error"}),!1):(this.$message({type:"warning",message:"upload image format error"}),!1)},sendMail:function(e){var t=this,i={email:e.email,id:e.id,username:e.username,remember_token:e.remember_token};le.SendEmail(i).then(function(e){e&&200===e.data.code&&(t.$message({type:"success",message:e.data.msg}),t.showCode=!0)})},checkCode:function(e){var t=this,i={code:e.code,id:e.id};le.VerifyCode(i).then(function(i){i&&200===i.data.code?t.$message({type:"success",message:i.data.msg}):e.code=""})},sizeChange:function(e){this.limit=e,this.getOauthLists(this.page,this.limit)},currentChange:function(e){this.page=e,this.getOauthLists(this.page,this.limit)},updateOauth:function(e){this.title="修改授权用户",this.syncVisible=!0,this.OauthModel=e,this.showCode=!1,this.url=this.cgi.update}},created:function(){this.fileData.token=this.token,this.fileData.rand=!0,this.headers.Authorization=J.a.set_password(J.a.set_random(32),J.a.set_random(12))+"-"+this.token+"-"+J.a.set_password(J.a.set_random(32),J.a.set_random(12))},mounted:function(){this.$nextTick(function(){this.getOauthLists(this.page,this.limit)})}},ze={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{"element-loading-text":e.loadingText}},[i("el-table",{attrs:{data:e.oauthLists,border:""}},[i("el-table-column",{attrs:{label:"#",prop:"id"}}),e._v(" "),i("el-table-column",{attrs:{label:"用户名",prop:"username"}}),e._v(" "),i("el-table-column",{attrs:{label:"头像"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-image",{staticStyle:{width:"50px",height:"50px"},attrs:{src:t.row.avatar_url,fit:"cover",title:t.row.username,"preview-src-list":e.oauthImageLists}})]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"账号来源",prop:"oauth_type"}}),e._v(" "),i("el-table-column",{attrs:{label:"显示状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("Radio",{attrs:{item:t.row,url:e.cgi.status}})]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"创建时间",prop:"created_at"}}),e._v(" "),i("el-table-column",{attrs:{label:"修改时间",prop:"updated_at"}}),e._v(" "),i("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-edit",size:"mini"},on:{click:function(i){return e.updateOauth(t.row)}}},[e._v("修 改")]),e._v(" "),i("Delete",{attrs:{url:e.cgi.remove,item:t.row,index:t.$index,Lists:e.oauthLists},on:{success:e.success}})]}}])})],1),e._v(" "),i("div",{staticStyle:{margin:"25px 0"}},[i("el-pagination",{attrs:{"page-sizes":[15,30,50,100],"page-size":e.limit,layout:"total, sizes, prev, pager, next, jumper",total:e.total,"current-page":e.page},on:{"size-change":e.sizeChange,"current-change":e.currentChange}})],1),e._v(" "),i("el-dialog",{attrs:{title:e.title,visible:e.syncVisible,modal:e.modal,center:e.center,"destroy-on-close":e.destroy_on_close},on:{"update:visible":function(t){e.syncVisible=t}}},[i("el-form",{ref:e.reFrom,attrs:{"label-width":e.labelWidth,model:e.OauthModel,rules:e.rules}},[i("el-form-item",{attrs:{label:"用户名称",prop:"username"}},[i("el-input",{model:{value:e.OauthModel.username,callback:function(t){e.$set(e.OauthModel,"username",t)},expression:"OauthModel.username"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"邮箱账号",prop:"email"}},[i("el-input",{model:{value:e.OauthModel.email,callback:function(t){e.$set(e.OauthModel,"email",t)},expression:"OauthModel.email"}},[e.OauthModel.code?i("el-button",{attrs:{slot:"append",plain:"",type:"primary",icon:"el-icon-edit"},on:{click:function(t){return e.sendMail(e.OauthModel)}},slot:"append"},[e._v("修 改")]):i("el-button",{attrs:{slot:"append",plain:"",type:"primary",icon:"el-icon-circle-plus"},on:{click:function(t){return e.sendMail(e.OauthModel)}},slot:"append"},[e._v("绑 定")])],1)],1),e._v(" "),e.showCode?i("el-form-item",{attrs:{label:"验证码",prop:"code"}},[i("el-input",{on:{blur:function(t){return e.checkCode(e.OauthModel)}},model:{value:e.OauthModel.code,callback:function(t){e.$set(e.OauthModel,"code",t)},expression:"OauthModel.code"}})],1):e._e(),e._v(" "),i("el-form-item",{attrs:{label:"用户头像",prop:"avatar_url"}},[i("el-upload",{attrs:{action:e.cgi.uploadUrl,data:e.fileData,headers:e.headers,"show-file-list":!1,"on-success":e.uploadSuccess,"before-upload":e.beforeUpload}},[i("el-image",{staticStyle:{width:"100px",height:"100px"},attrs:{src:e.OauthModel.avatar_url,title:e.OauthModel.username,fit:"cover"}})],1)],1),e._v(" "),i("el-form-item",{attrs:{label:"角色",prop:"role_id"}},[i("el-select",{staticStyle:{width:"100%"},model:{value:e.OauthModel.role_id,callback:function(t){e.$set(e.OauthModel,"role_id",t)},expression:"OauthModel.role_id"}},e._l(e.roleLists,function(e,t){return i("el-option",{key:t,attrs:{label:e.role_name,value:e.id}})}),1)],1),e._v(" "),i("el-form-item",{attrs:{label:"用户状态",prop:"status"}},[i("el-radio-group",{attrs:{size:"small"},model:{value:e.OauthModel.status,callback:function(t){e.$set(e.OauthModel,"status",t)},expression:"OauthModel.status"}},[i("el-radio-button",{attrs:{label:"2"}},[e._v("关闭")]),e._v(" "),i("el-radio-button",{attrs:{label:"1"}},[e._v("开启")])],1)],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("Submit",{attrs:{reFrom:e.reFrom,model:e.OauthModel,url:e.url,refs:e.refs},on:{success:e.success}})],1)],1)],1)},staticRenderFns:[]};var De=i("VU/8")(Ne,ze,!1,function(e){i("H4wZ")},"data-v-154259c2",null).exports,Ie={name:"lists",components:{Submit:T,Delete:N,Radio:F},data:function(){return{reqRuleLists:[],ruleLists:[],page:1,limit:15,total:0,title:"",syncVisible:!1,modal:!0,labelWidth:"80px",loading:!0,destroy_on_close:!0,center:!0,loadingText:"玩命加载中。。。",url:"",refs:this.$refs,reFrom:"reqRule",reqRuleModel:{},cgi:{remove:I.reqRuleDelete,status:I.reqRuleUpdate,update:I.reqRuleUpdate,insert:I.reqRuleSave},rules:{username:[{required:!0,message:"申请人不得为空",trigger:"blur"}],href:[{required:!0,message:"授权地址不得为空",trigger:"change"}],expires:[{required:!0,message:"授权时效不得为空",trigger:"change"}],desc:[{required:!0,message:"申请理由不得为空",trigger:"blur"}]},pickerOptions:{disabledDate:function(e){return e.getTime()<Date.now()},shortcuts:[{text:"一星期",onClick:function(e){var t=new Date;t.setTime(t.getTime()+6048e5),e.$emit("pick",t)}},{text:"一个月",onClick:function(e){var t=new Date;t.setTime(t.getTime()+2592e6),e.$emit("pick",t)}},{text:"三个月",onClick:function(e){var t=new Date;t.setTime(t.getTime()+7776e6),e.$emit("pick",t)}},{text:"六个月",onClick:function(e){var t=new Date;t.setTime(t.getTime()+15552e6),e.$emit("pick",t)}},{text:"一年",onClick:function(e){var t=new Date;t.setTime(t.getTime()+31104e6),e.$emit("pick",t)}}]}}},computed:u()({},Object(d.c)(["username"])),methods:{success:function(){this.syncVisible=!1,this.getReqRuleLists(this.page,this.limit)},setTimes:function(e){return J.a.set_time(1e3*e)},getReqRuleLists:function(e,t){var i=this,a={page:e,limit:t};le.ReqRuleLists(a).then(function(e){e&&200===e.data.code&&(i.loading=!1,i.reqRuleLists=e.data.item.data,i.ruleLists=e.data.item.ruleLists,i.total=e.data.item.total)})},setAuthName:function(e){return Array(e.level+1).join("　　")+e.name},sizeChange:function(e){this.limit=e,this.getReqRuleLists(this.page,this.limit)},currentChange:function(e){this.page=e,this.getReqRuleLists(this.page,this.limit)},addReqRule:function(){this.title="权限申请",this.syncVisible=!0,this.reqRuleModel={username:this.username,href:"",desc:"",expires:""},this.url=this.cgi.insert},updateReqRule:function(e){this.title="权限续期",this.syncVisible=!0,this.reqRuleModel=e,this.reqRuleModel.href=[this.reqRuleModel.href],this.url=this.cgi.update}},mounted:function(){this.$nextTick(function(){this.getReqRuleLists(this.page,this.limit)})}},qe={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{"element-loading-text":e.loadingText}},["admin"!==e.username?i("el-form",{staticStyle:{"margin-top":"10px"},attrs:{inline:!0}},[i("el-form-item",{staticStyle:{float:"right"}},[i("el-button",{attrs:{icon:"el-icon-plus",type:"primary",size:"medium",plain:""},on:{click:e.addReqRule}},[e._v("添 加")])],1)],1):e._e(),e._v(" "),i("el-table",{attrs:{data:e.reqRuleLists,border:""}},[i("el-table-column",{attrs:{label:"#",prop:"id",width:"120px",sortable:""}}),e._v(" "),i("el-table-column",{attrs:{label:"申请人",prop:"username",width:"150px"}}),e._v(" "),i("el-table-column",{attrs:{label:"授权地址",prop:"href"}}),e._v(" "),"admin"===e.username?i("el-table-column",{attrs:{label:"授权状态",width:"150px"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("Radio",{attrs:{item:t.row,url:e.cgi.status},on:{success:e.success}})]}}],null,!1,1057654114)}):e._e(),e._v(" "),"admin"!==e.username?i("el-table-column",{attrs:{label:"授权状态",width:"150px"},scopedSlots:e._u([{key:"default",fn:function(t){return[1===t.row.status?i("el-button",{attrs:{type:"success",size:"mini"}},[e._v("已授权")]):e._e(),e._v(" "),2===t.row.status?i("el-button",{attrs:{type:"info",size:"mini"}},[e._v("未授权")]):e._e()]}}],null,!1,3706176486)}):e._e(),e._v(" "),i("el-table-column",{attrs:{label:"创建时间",prop:"created_at",sortable:""}}),e._v(" "),i("el-table-column",{attrs:{label:"修改时间",prop:"updated_at",sortable:""}}),e._v(" "),i("el-table-column",{attrs:{label:"权限时效",prop:"expires",sortable:""}}),e._v(" "),i("el-table-column",{attrs:{label:"操作",width:"200px"},scopedSlots:e._u([{key:"default",fn:function(t){return[1===t.row.status?i("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-plus",size:"mini"},on:{click:function(i){return e.updateReqRule(t.row)}}},[e._v("续 期")]):e._e(),e._v(" "),i("Delete",{attrs:{url:e.cgi.remove,item:t.row,index:t.$index,Lists:e.reqRuleLists},on:{success:e.success}})]}}])})],1),e._v(" "),i("div",{staticStyle:{margin:"25px 0"}},[i("el-pagination",{attrs:{"page-sizes":[15,30,50,100],"page-size":e.limit,layout:"total, sizes, prev, pager, next, jumper",total:e.total,"current-page":e.page},on:{"size-change":e.sizeChange,"current-change":e.currentChange}})],1),e._v(" "),i("el-dialog",{attrs:{title:e.title,visible:e.syncVisible,modal:e.modal,center:e.center,"destroy-on-close":e.destroy_on_close},on:{"update:visible":function(t){e.syncVisible=t}}},[i("el-form",{ref:e.reFrom,attrs:{"label-width":e.labelWidth,model:e.reqRuleModel,rules:e.rules}},[i("el-form-item",{attrs:{label:"申请人",prop:"username"}},[i("el-input",{model:{value:e.reqRuleModel.username,callback:function(t){e.$set(e.reqRuleModel,"username",t)},expression:"reqRuleModel.username"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"授权地址",prop:"href"}},[i("el-select",{staticStyle:{width:"100%"},attrs:{multiple:"multiple",filterable:""},model:{value:e.reqRuleModel.href,callback:function(t){e.$set(e.reqRuleModel,"href",t)},expression:"reqRuleModel.href"}},e._l(e.ruleLists,function(t,a){return i("el-option",{key:a,attrs:{label:e.setAuthName(t),value:t.href,disabled:t.disable}})}),1)],1),e._v(" "),i("el-form-item",{attrs:{label:"授权时间",prop:"expires"}},[i("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选择授权时间","picker-options":e.pickerOptions},model:{value:e.reqRuleModel.expires,callback:function(t){e.$set(e.reqRuleModel,"expires",t)},expression:"reqRuleModel.expires"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"授权说明",prop:"desc"}},[i("el-input",{attrs:{type:"textarea"},model:{value:e.reqRuleModel.desc,callback:function(t){e.$set(e.reqRuleModel,"desc",t)},expression:"reqRuleModel.desc"}})],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("Submit",{attrs:{reFrom:e.reFrom,model:e.reqRuleModel,url:e.url,refs:e.refs},on:{success:e.success}})],1)],1)],1)},staticRenderFns:[]};var Ee=i("VU/8")(Ie,qe,!1,function(e){i("B6YS")},"data-v-1e82e97f",null).exports,We={name:"lists",data:function(){return{areaLists:[],loading:!0,loadingText:"玩命加载中。。。",search:"",pid:1}},methods:{getAreaLists:function(e){var t=this;le.AreaLists({parent_id:e}).then(function(e){e&&200===e.data.code&&(t.areaLists=e.data.item,t.loading=!1)})},load:function(e,t,i){le.AreaLists({parent_id:e.id}).then(function(e){e&&200===e.data.code&&setTimeout(function(){i(e.data.item)},500)})},getWeather:function(e){var t={code:e.code,id:e.id};le.AreaWeather(t).then(function(e){e&&200===e.data.code&&console.log(e)})}},mounted:function(){this.$nextTick(function(){this.getAreaLists(this.pid)})}},Be={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{"element-loading-text":e.loadingText}},[i("el-table",{attrs:{data:e.areaLists.filter(function(t){return!e.search||t.name.toLowerCase().includes(e.search.toLowerCase())}),"row-key":"id","tree-props":{children:"__child",hasChildren:"hasChildren"},lazy:"",load:e.load}},[i("el-table-column",{attrs:{label:"地区名称",prop:"name"}}),e._v(" "),i("el-table-column",{attrs:{label:"天气"}}),e._v(" "),i("el-table-column",{attrs:{align:"right"},scopedSlots:e._u([{key:"header",fn:function(t){return[i("el-input",{attrs:{placeholder:"输入关键词查询"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})]}},{key:"default",fn:function(t){return[i("el-button",{attrs:{size:"mini",plain:"",type:"primary",icon:"el-icon-search"},on:{click:function(i){return e.getWeather(t.row)}}},[e._v("点击查看")])]}}])})],1)],1)},staticRenderFns:[]};var je=i("VU/8")(We,Be,!1,function(e){i("vvlJ")},"data-v-80bb1a64",null).exports,$e={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticStyle:{"text-align":"center","margin-top":"200px"}},[t("img",{attrs:{src:i("7Otq"),alt:"vue-laravel"}}),this._v(" "),t("div",[t("i",{staticClass:"el-icon-warning-outline",staticStyle:{"font-size":"300px"}})])])}]};var Qe=i("VU/8")({name:"empty",data:function(){return{}}},$e,!1,function(e){i("3gTS")},"data-v-48503f1f",null).exports;n.default.use(r.a);var Ze=new r.a({routes:[{path:"/",name:"/",component:M,meta:{mode:"",title:"登录"}},{path:"/login",name:"Login",component:M,meta:{mode:"",title:"登录"}},{path:"/404",name:"Empty",component:Qe,meta:{mode:"",title:"404"}},{path:"/admin",name:"Admin",component:g,meta:{mode:"",title:"首页"}},{path:"/admin",component:g,children:[{path:"index/:access_token?",name:"Welcome",component:w,meta:{mode:"",title:"欢迎页"}},{path:"auth/index",name:"AuthLists",component:ue,meta:{mode:"rule",title:"权限列表"}},{path:"role/index",name:"RoleLists",component:he,meta:{mode:"role",title:"角色列表"}},{path:"user/index",name:"UserLists",component:ge,meta:{mode:"user",title:"管理员列表"}},{path:"oauth/index",name:"OauthLists",component:De,meta:{mode:"oauth",title:"授权列表"}},{path:"req-rule/index",name:"ReqRuleLists",component:Ee,meta:{mode:"req_rule",title:"申请授权列表"}},{path:"log/index",name:"SystemLog",component:ye,meta:{mode:"log",title:"日志列表"}},{path:"file/index",name:"SystemFile",component:we,meta:{mode:"file",title:"文件列表"}},{path:"config/index",name:"ConfigLists",component:Me,meta:{mode:"config",title:"基础配置"}},{path:"category/index",name:"CategoryLists",component:Oe,meta:{mode:"api_lists",title:"接口详情"}},{path:"database/index",name:"DatabaseLists",component:Ue,meta:{mode:"",title:"数据表列表"}},{path:"area/index",name:"AreaLists",component:je,meta:{mode:"china_area",title:"城市列表"}}]},{path:"*",redirect:"/404"}]}),Pe=(i("tvR6"),i("NC6I")),Ge=i.n(Pe);n.default.config.productionTip=!1,n.default.use(P.a),n.default.use(r.a),n.default.prototype.$http=ae,n.default.prototype.md5=Ge.a,Ze.beforeEach(function(e,t,i){if(e.meta.title&&(document.title=e.meta.title),e.params.access_token&&te.commit("setToken",e.params.access_token),"Login"===e.name||"/"===e.name){if(!te.state.login.token)return void i();le.CheckToken({token:te.state.login.token}).then(function(t){if(t&&t.data.code===Y.a.SUCCESS)return i({path:"/admin/index",redirect:e.path}),te.commit("setAuthUrl",t.data.item.auth),te.commit("setToken",t.data.item.token),te.commit("setUserName",t.data.item.username),void te.commit("setSocketServer",t.data.item.ip);i()})}else le.CheckToken({token:te.state.login.token}).then(function(t){if(t&&t.data.code!==Y.a.SUCCESS)return te.commit("setToken",""),void i({path:"/login",redirect:e.path});if(te.commit("setAuthUrl",t.data.item.auth),te.commit("setToken",t.data.item.token),te.commit("setUserName",t.data.item.username),te.commit("setSocketServer",t.data.item.ip),-1===te.state.login.auth_url.indexOf(e.path)&&"Welcome"!==e.name&&"admin"!==te.state.login.username){var a="你没有访问权限，请联系管理员【"+Y.a.QQ+"】检验数据的正确性";P.a.MessageBox.alert(a).then(function(){var t={username:te.state.login.username,href:[e.path]};le.ReqRuleSave(t).then(function(t){if(t&&t.data.code===Y.a.SUCCESS){var i={href:e.path,msg:s()({info:a,result:t.data.result}),token:te.state.login.token};le.LogSave(i).then(function(e){e&&e.data.code===Y.a.SUCCESS&&(Z.Message.success(e.data.msg),location.href="tencent://message/?uin="+Y.a.QQ+"&Site=后台权限认证&Menu=yes")})}})}),i({path:"/admin/index",redirect:e.path})}i()})}),new n.default({el:"#app",router:Ze,store:te,components:{App:l},template:"<App/>"})},PsxY:function(e,t){},UM8r:function(e,t){},Yokd:function(e,t){},Zs2T:function(e,t){},gBpP:function(e,t){},"k3x/":function(e,t){e.exports={FORBIDDEN:403,METHOD_ERROR:405,Unauthorized:401,SUCCESS:200,ERROR:201,QQ:785973567}},keIh:function(e,t){},mr9v:function(e,t){},oj7H:function(e,t){},q04y:function(e,t){},tPKH:function(e,t){},tvR6:function(e,t){},uLRQ:function(e,t){},vvlJ:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.a52ce4e9419c8b638b9f.js.map