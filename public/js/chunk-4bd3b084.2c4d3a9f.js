(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4bd3b084"],{2824:function(e,t,n){"use strict";var a=n("7a23"),o={key:0,class:"pagination"};function r(e,t,n,r,i,c){var u=Object(a["resolveComponent"])("el-form"),s=Object(a["resolveComponent"])("el-pagination"),l=Object(a["resolveComponent"])("el-main"),d=Object(a["resolveComponent"])("el-skeleton"),p=Object(a["resolveDirective"])("water-mark");return Object(a["withDirectives"])((Object(a["openBlock"])(),Object(a["createBlock"])("div",null,[Object(a["createVNode"])(d,{loading:n.loading,rows:5,animated:""},{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(u,{inline:!0,class:"form"},{default:Object(a["withCtx"])((function(){return[Object(a["renderSlot"])(e.$slots,"header")]})),_:3}),Object(a["createVNode"])(l,null,{default:Object(a["withCtx"])((function(){return[Object(a["renderSlot"])(e.$slots,"body"),i.baseLayoutPagination.show_page?(Object(a["openBlock"])(),Object(a["createBlock"])("div",o,[Object(a["createVNode"])(s,{"current-page":i.baseLayoutPagination.page,"page-size":i.baseLayoutPagination.limit,total:i.baseLayoutPagination.total,layout:"total, prev, pager, next",onCurrentChange:c.currentChange},null,8,["current-page","page-size","total","onCurrentChange"])])):Object(a["createCommentVNode"])("",!0)]})),_:3}),Object(a["renderSlot"])(e.$slots,"dialog")]})),_:3},8,["loading"])],512)),[[p,{text:i.username,textColor:"rgba(0, 0, 0, .2)",font:"25px consolas, sans-serif",row:130,col:850}]])}n("99af");var i=n("4f8d"),c=n("6171"),u={name:"BaseLayout",props:{loading:{type:Boolean,default:function(){return!1}},pagination:{type:Object,default:function(){}}},watch:{pagination:function(){this.baseLayoutPagination=this.pagination}},data:function(){return{baseLayoutPagination:this.pagination||{limit:10,page:1,total:0,show_page:!1},username:"".concat(this.$store.state.baseLayout.username,"【").concat((this.Permission||{}).local||i["a"].baseURL,"】").concat((this.Permission||{}).now_time||Object(c["e"])(new Date))}},methods:{currentChange:function(e){this.$parent.currentPageChange(e)}}},s=(n("cb5a5"),n("d959")),l=n.n(s);const d=l()(u,[["render",r]]);t["a"]=d},"40fb":function(e,t,n){},"99af":function(e,t,n){"use strict";var a=n("23e7"),o=n("d039"),r=n("e8b5"),i=n("861d"),c=n("7b0b"),u=n("50c4"),s=n("8418"),l=n("65f0"),d=n("1dde"),p=n("b622"),b=n("2d00"),f=p("isConcatSpreadable"),g=9007199254740991,m="Maximum allowed index exceeded",O=b>=51||!o((function(){var e=[];return e[f]=!1,e.concat()[0]!==e})),h=d("concat"),j=function(e){if(!i(e))return!1;var t=e[f];return void 0!==t?!!t:r(e)},w=!O||!h;a({target:"Array",proto:!0,forced:w},{concat:function(e){var t,n,a,o,r,i=c(this),d=l(i,0),p=0;for(t=-1,a=arguments.length;t<a;t++)if(r=-1===t?i:arguments[t],j(r)){if(o=u(r.length),p+o>g)throw TypeError(m);for(n=0;n<o;n++,p++)n in r&&s(d,p,r[n])}else{if(p>=g)throw TypeError(m);s(d,p++,r)}return d.length=p,d}})},cb5a5:function(e,t,n){"use strict";n("40fb")},fffb:function(e,t,n){"use strict";n.r(t);var a=n("7a23"),o=Object(a["withScopeId"])("data-v-a1be0972"),r=o((function(e,t,n,r,i,c){var u=Object(a["resolveComponent"])("PluginLists"),s=Object(a["resolveComponent"])("BaseLayout");return Object(a["openBlock"])(),Object(a["createBlock"])(s,{loading:i.loading},{body:o((function(){return[Object(a["createVNode"])(u,{pluginList:c.pluginList,onUpdatePlugin:c.updatePlugin},null,8,["pluginList","onUpdatePlugin"])]})),_:1},8,["loading"])})),i=n("1da1"),c=(n("96cf"),n("2824")),u=(n("b0c0"),Object(a["withScopeId"])("data-v-f2b1dc7e")),s=u((function(e,t,n,o,r,i){var c=Object(a["resolveComponent"])("el-table-column"),s=Object(a["resolveComponent"])("el-button"),l=Object(a["resolveComponent"])("el-tooltip"),d=Object(a["resolveComponent"])("el-table");return Object(a["openBlock"])(),Object(a["createBlock"])(d,{data:(n.pluginList||{}).children,border:""},{default:u((function(){return[Object(a["createVNode"])(c,{label:"#ID",align:"center",prop:"id"}),Object(a["createVNode"])(c,{label:"插件名称",align:"center"},{default:u((function(e){return[Object(a["createVNode"])(s,{disabled:2===e.row.status,type:1===e.row.status?"primary":"info",plain:"",style:{width:"140px"},onClick:function(t){return i.toLogin(e.row)},size:"small"},{default:u((function(){return[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.row.name.toUpperCase())+" 授权登录 ",1)]})),_:2},1032,["disabled","type","onClick"])]})),_:1}),Object(a["createVNode"])(c,{label:"插件状态",align:"center"},{default:u((function(e){return[Object(a["createVNode"])(s,{type:["primary","danger"][e.row.status-1],size:"small",plain:""},{default:u((function(){return[Object(a["createTextVNode"])(Object(a["toDisplayString"])(["启用","禁用"][e.row.status-1]),1)]})),_:2},1032,["type"])]})),_:1}),Object(a["createVNode"])(c,{label:"操作",align:"left"},{default:u((function(t){return[Object(a["createVNode"])(l,{placement:"right-start",content:1===t.row.status?"卸载插件后，将禁用".concat(t.row.name.toUpperCase(),"授权登录"):"安装插件后，将启用".concat(t.row.name.toUpperCase(),"授权登录")},{default:u((function(){return[Object(a["createVNode"])(s,{icon:1===t.row.status?"el-icon-delete-solid":"el-icon-circle-plus",size:"small",type:"primary",plain:"",onClick:function(n){return e.$emit("updatePlugin",t.row)}},{default:u((function(){return[Object(a["createTextVNode"])(Object(a["toDisplayString"])(1===t.row.status?"卸载插件":"安装插件"),1)]})),_:2},1032,["icon","onClick"])]})),_:2},1032,["content"])]})),_:1})]})),_:1},8,["data"])})),l={name:"PluginLists",props:{pluginList:{type:Object,default:function(){}}},methods:{toLogin:function(e){1===e.status&&window.open(e.value)}}},d=n("d959"),p=n.n(d);const b=p()(l,[["render",s],["__scopeId","data-v-f2b1dc7e"]]);var f=b,g=n("4f8d"),m={name:"Plugin",components:{PluginLists:f,BaseLayout:c["a"]},data:function(){return{loading:!1}},computed:{pluginList:function(){return this.$store.state.login.oauthConfig}},mounted:function(){var e=this;this.$nextTick(Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getPlugin();case 2:case"end":return t.stop()}}),t)}))))},methods:{getPlugin:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,e.$store.dispatch("login/getOauthConfig",{name:"Oauth",refresh:!0}).then((function(){e.loading=!1}));case 3:case"end":return t.stop()}}),t)})))()},updatePlugin:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.$store.dispatch("UPDATE_ACTIONS",{url:g["a"].config.plugin,model:{status:1===e.status?2:1,id:e.id,pid:e.pid}}).then(Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getPlugin();case 2:case"end":return e.stop()}}),e)}))));case 2:case"end":return n.stop()}}),n)})))()}}};const O=p()(m,[["render",r],["__scopeId","data-v-a1be0972"]]);t["default"]=O}}]);
//# sourceMappingURL=chunk-4bd3b084.2c4d3a9f.js.map