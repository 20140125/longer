(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1c6ebceb"],{"0cb2":function(e,t,r){var n=r("7b0b"),c=Math.floor,a="".replace,o=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,s=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,r,i,u,l){var d=r+e.length,p=i.length,b=s;return void 0!==u&&(u=n(u),b=o),a.call(l,b,(function(n,a){var o;switch(a.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,r);case"'":return t.slice(d);case"<":o=u[a.slice(1,-1)];break;default:var s=+a;if(0===s)return n;if(s>p){var l=c(s/10);return 0===l?n:l<=p?void 0===i[l-1]?a.charAt(1):i[l-1]+a.charAt(1):n}o=i[s-1]}return void 0===o?"":o}))}},"3b14":function(e,t,r){"use strict";r.r(t);r("caad"),r("2532"),r("ac1f"),r("5319"),r("b0c0");var n=r("7a23"),c=Object(n["withScopeId"])("data-v-70c6e9e4");Object(n["pushScopeId"])("data-v-70c6e9e4");var a={key:0,class:"grid"},o=Object(n["createVNode"])("div",{class:"area"},"当前位置",-1),s={class:"grid-item"},i={class:"info"},u=Object(n["createVNode"])("i",{class:"el-icon-location-outline"},null,-1),l=Object(n["createVNode"])("div",{class:"icon"},[Object(n["createVNode"])("i",{class:"el-icon-arrow-right"})],-1),d=Object(n["createVNode"])("div",{class:"area"},"全部地区",-1),p=Object(n["createVNode"])("div",{class:"icon"},[Object(n["createVNode"])("i",{class:"el-icon-arrow-right"})],-1),b={key:1,class:"grid"},f={class:"grid-item settings"},g={key:2,class:"grid"},m={class:"grid-item__tags settings"},O={key:0,class:"grid-item__tags"},v={key:3,class:"grid"},h={class:"info"},j=Object(n["createTextVNode"])("是"),k={key:0,class:"icon"},N=Object(n["createVNode"])("i",{class:"el-icon-circle-check status"},null,-1),V={class:"info"},x=Object(n["createTextVNode"])("否"),C={key:0,class:"icon"},y=Object(n["createVNode"])("i",{class:"el-icon-circle-check status"},null,-1),w={key:4,class:"grid"},$=Object(n["createVNode"])("div",{class:"grid-item"},[Object(n["createVNode"])("div",{class:"login__account"},"轻触头像以切换账号")],-1),B={class:"info"},S={class:"icon"},_=Object(n["createTextVNode"])("当前使用"),T={class:"grid-item"},L={class:"login__account"},I=Object(n["createTextVNode"])(" 添加账号 ");Object(n["popScopeId"])();var P=c((function(e,t,r,P,A,R){var U=Object(n["resolveComponent"])("el-input"),D=Object(n["resolveComponent"])("el-tag"),J=Object(n["resolveComponent"])("el-avatar"),M=Object(n["resolveComponent"])("el-button"),H=Object(n["resolveComponent"])("HomeLayout");return Object(n["openBlock"])(),Object(n["createBlock"])(H,{"back-button":!0,"bottom-bar":!1,"submit-button":"u_name"!==A.props,"header-title":R.headerTitle,saveParams:R.saveParams},{body:c((function(){return[A.notInput.includes(A.props)?(Object(n["openBlock"])(),Object(n["createBlock"])("div",a,[o,Object(n["createVNode"])("div",s,[Object(n["createVNode"])("div",i,[u,Object(n["createTextVNode"])(" "+Object(n["toDisplayString"])(A.local.length>0?R.setLocal(A.local):e.Permission.city.replace("中华人民共和国","")),1)]),l]),d,(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(R.areaLists,(function(e,t){return Object(n["openBlock"])(),Object(n["createBlock"])("div",{class:"grid-item",key:t,onClick:function(t){return R.setUsersCenter(e)}},[Object(n["createVNode"])("div",{class:"info",innerHTML:e.name},null,8,["innerHTML"]),p],8,["onClick"])})),128))])):"desc"===A.props?(Object(n["openBlock"])(),Object(n["createBlock"])("div",b,[Object(n["createVNode"])("div",f,[Object(n["createVNode"])(U,{placeholder:"请输入".concat(R.headerTitle),modelValue:A.params,"onUpdate:modelValue":t[1]||(t[1]=function(e){return A.params=e}),"show-word-limit":""},null,8,["placeholder","modelValue"])])])):"tags"===A.props?(Object(n["openBlock"])(),Object(n["createBlock"])("div",g,[Object(n["createVNode"])("div",m,[(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(A.params,(function(e,t){return Object(n["openBlock"])(),Object(n["createBlock"])(D,{type:"success",effect:"plain",closable:A.params.length>1,onClose:function(e){return R.removePersonTags(t)},key:t},{default:c((function(){return[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e),1)]})),_:2},1032,["closable","onClose"])})),128))]),A.params.length<3?(Object(n["openBlock"])(),Object(n["createBlock"])("div",O,[(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(R.personLabel,(function(e,t){return Object(n["openBlock"])(),Object(n["createBlock"])(D,{type:"info",effect:"plain",onClick:function(t){return R.addPersonTags(e)},key:t},{default:c((function(){return[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e),1)]})),_:2},1032,["onClick"])})),128))])):Object(n["createCommentVNode"])("",!0)])):"notice_status"===A.props?(Object(n["openBlock"])(),Object(n["createBlock"])("div",v,[Object(n["createVNode"])("div",{class:"grid-item settings",onClick:t[2]||(t[2]=function(e){return A.params=1})},[Object(n["createVNode"])("div",h,[Object(n["createVNode"])(D,{effect:"plain",type:"success"},{default:c((function(){return[j]})),_:1})]),1===parseInt(A.params,10)?(Object(n["openBlock"])(),Object(n["createBlock"])("div",k,[N])):Object(n["createCommentVNode"])("",!0)]),Object(n["createVNode"])("div",{class:"grid-item",onClick:t[3]||(t[3]=function(e){return A.params=2})},[Object(n["createVNode"])("div",V,[Object(n["createVNode"])(D,{effect:"plain",type:"success"},{default:c((function(){return[x]})),_:1})]),2===parseInt(A.params,10)?(Object(n["openBlock"])(),Object(n["createBlock"])("div",C,[y])):Object(n["createCommentVNode"])("",!0)])])):"u_name"===A.props?(Object(n["openBlock"])(),Object(n["createBlock"])("div",w,[$,Object(n["createVNode"])("div",{class:"grid-item",onClick:t[4]||(t[4]=function(){return R.loginCurrent&&R.loginCurrent.apply(R,arguments)})},[Object(n["createVNode"])(J,{src:e.Permission.avatar_url,size:60},null,8,["src"]),Object(n["createVNode"])("div",B,Object(n["toDisplayString"])(A.params),1),Object(n["createVNode"])("div",S,[Object(n["createVNode"])(D,{effect:"plain",type:"success"},{default:c((function(){return[_]})),_:1})])]),Object(n["createVNode"])("div",T,[Object(n["createVNode"])("div",L,[Object(n["createVNode"])(M,{size:"medium",type:"primary",plain:"",onClick:R.changeAccount},{default:c((function(){return[I]})),_:1},8,["onClick"])])])])):Object(n["createCommentVNode"])("",!0)]})),_:1},8,["submit-button","header-title","saveParams"])})),A=r("1da1"),R=(r("96cf"),r("a15b"),r("a434"),r("eb00")),U=r("4f8d"),D={name:"UsersConfig",components:{HomeLayout:R["a"]},data:function(){return{notInput:["ip_address","local"],props:this.$route.params.param,params:"",local:[]}},computed:{headerTitle:function(){return this.$store.state.index.moreInformationConfig[this.$route.params.param]},areaLists:function(){return this.$store.state.area.areaLists},userSetting:function(){return JSON.parse(JSON.stringify(this.$store.state.users.userCenter))},personLabel:function(){return this.$store.state.index.configuration.tags}},mounted:function(){var e=this;this.$nextTick(Object(A["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.Permission){t.next=3;break}return t.next=3,e.$router.push({path:"/home/users"});case 3:if(!e.notInput.includes(e.props)){t.next=6;break}return t.next=6,e.getAreaLists(1);case 6:return t.next=8,e.getUserSettings();case 8:if(e.params=JSON.parse(JSON.stringify(e.$store.state.users.userCenter[e.$route.params.param]||"")),"tags"!==e.props){t.next=12;break}return t.next=12,e.getConfiguration();case 12:case"end":return t.stop()}}),t)}))))},methods:{changeAccount:function(){this.$store.commit("UPDATE_MUTATIONS",{errorInfo:{code:"20003",message:"Please Login System"}})},loginCurrent:function(){this.$router.push({path:"/home/users/more"})},getAreaLists:function(e){var t=this;return Object(A["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t.$store.dispatch("area/getAreaLists",{parent_id:e,refresh:!0});case 2:case"end":return r.stop()}}),r)})))()},getUserSettings:function(){var e=arguments,t=this;return Object(A["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.length>0&&void 0!==e[0]&&e[0],r.next=3,t.$store.dispatch("users/getUserCenter",{refresh:n});case 3:case"end":return r.stop()}}),r)})))()},getConfiguration:function(){var e=this;return Object(A["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("index/getConfiguration",{keywords:"PersonalLabel",type:"tags"});case 2:case"end":return t.stop()}}),t)})))()},setUsersCenter:function(e){var t=this;return Object(A["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(!t.local.includes(e.name)&&t.local.push(e.name),!e.hasChildren){r.next=6;break}return r.next=4,t.getAreaLists(e.id);case 4:r.next=8;break;case 6:return r.next=8,t.saveParams();case 8:case"end":return r.stop()}}),r)})))()},setLocal:function(e){return e.join("").replace("中华人民共和国","")},addPersonTags:function(e){!this.params.includes(e)&&this.params.push(e)},removePersonTags:function(e){this.params.length>1&&this.params.splice(e,1)},saveParams:function(){var e=this;return Object(A["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.userSetting[e.props]=e.local.length>0?e.local:e.params,r=e.$loading({lock:!0,spinner:"el-icon-loading",background:"rgba(225, 225, 224, 0.8)"}),t.next=4,e.$store.dispatch("UPDATE_ACTIONS",{url:U["a"].userCenter.update,model:e.userSetting});case 4:return t.next=6,e.getUserSettings(!0);case 6:return t.next=8,e.$router.push({path:"/home/users/more"});case 8:r.close();case 9:case"end":return t.stop()}}),t)})))()}}},J=r("6b0d"),M=r.n(J);const H=M()(D,[["render",P],["__scopeId","data-v-70c6e9e4"]]);t["default"]=H},5319:function(e,t,r){"use strict";var n=r("d784"),c=r("d039"),a=r("825a"),o=r("50c4"),s=r("a691"),i=r("1d80"),u=r("8aa5"),l=r("0cb2"),d=r("14c3"),p=r("b622"),b=p("replace"),f=Math.max,g=Math.min,m=function(e){return void 0===e?e:String(e)},O=function(){return"$0"==="a".replace(/./,"$0")}(),v=function(){return!!/./[b]&&""===/./[b]("a","$0")}(),h=!c((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}));n("replace",(function(e,t,r){var n=v?"$":"$0";return[function(e,r){var n=i(this),c=void 0==e?void 0:e[b];return void 0!==c?c.call(e,n,r):t.call(String(n),e,r)},function(e,c){if("string"===typeof c&&-1===c.indexOf(n)&&-1===c.indexOf("$<")){var i=r(t,this,e,c);if(i.done)return i.value}var p=a(this),b=String(e),O="function"===typeof c;O||(c=String(c));var v=p.global;if(v){var h=p.unicode;p.lastIndex=0}var j=[];while(1){var k=d(p,b);if(null===k)break;if(j.push(k),!v)break;var N=String(k[0]);""===N&&(p.lastIndex=u(b,o(p.lastIndex),h))}for(var V="",x=0,C=0;C<j.length;C++){k=j[C];for(var y=String(k[0]),w=f(g(s(k.index),b.length),0),$=[],B=1;B<k.length;B++)$.push(m(k[B]));var S=k.groups;if(O){var _=[y].concat($,w,b);void 0!==S&&_.push(S);var T=String(c.apply(void 0,_))}else T=l(y,b,w,$,S,c);w>=x&&(V+=b.slice(x,w)+T,x=w+y.length)}return V+b.slice(x)}]}),!h||!O||v)}}]);
//# sourceMappingURL=chunk-1c6ebceb.c2a83abd.js.map