{"version":3,"sources":["webpack:///./src/components/users/user/Dialog.vue?330f","webpack:///./src/components/common/StatusRadio.vue","webpack:///./src/components/common/StatusRadio.vue?4f28","webpack:///./src/pages/users/Users.vue","webpack:///./src/components/users/user/Lists.vue","webpack:///./src/components/users/user/Lists.vue?4ee0","webpack:///./src/components/users/user/Dialog.vue","webpack:///./src/components/users/user/Dialog.vue?4139","webpack:///./src/pages/users/Users.vue?3058"],"names":["icon","attr","model","status","type","circle","plain","size","changeStatus","name","props","url","String","default","statusModel","Object","data","JSON","parse","stringify","this","1","2","watch","methods","$confirm","showClose","confirmButtonText","cancelButtonText","then","payload","id","act","$store","dispatch","setTimeout","$emit","catch","$message","info","__exports__","render","loading","pagination","header","username","clearable","placeholder","searchUsers","body","ref","users-lists","usersLists","updatedUsers","dialog","form","re-form","reForm","sync-visible","syncVisible","users-attr","usersAttr","getUsersLists","label","prop","width","show-tooltip-when-overflow","align","alt","scope","row","src","avatar_url","status-model","URL","Permission","auth","indexOf","components","StatusRadio","users","update","visible","close-on-click-modal","close-on-press-escape","show-close","title","center","localForm","rules","label-position","label-width","class","avatar-image","file-size","img-height","img-width","upload-controls","uploadSuccess","password","show-password","email","phone_number","role_id","filterable","role","index","key","role_name","value","active-value","inactive-value","active-color","inactive-color","submitForm","CommonUpload","SubmitButton","mixins","toggle","required","message","trigger","$nextTick","$refs","urls","save","response","item","lists","UsersDialog","UsersLists","BaseLayout","page","limit","total","show_page","refresh","computed","state","mounted","currentPageChange","roleLists"],"mappings":"kHAAA,W,8MCCE,yBAOY,GANTA,KAAM,EAAAC,KAAI,QAAS,EAAAC,MAAMC,QACzBC,KAAM,EAAAH,KAAI,QAAS,EAAAC,MAAMC,QAC1BE,OAAA,GACAC,MAAA,GACAC,KAAK,SACJ,QAAO,EAAAC,c,iDAKG,G,UAAA,CACbC,KAAM,cACNC,MAAO,CAELC,IAAK,CACHP,KAAMQ,OACNC,QAAS,iBAAM,KAGjBC,YAAa,CACXV,KAAMW,OACNF,QAAS,eAIbG,KAfa,WAgBX,MAAO,CACLd,MAAOe,KAAKC,MAAMD,KAAKE,UAAUC,KAAKN,cACtCb,KAAM,CACJD,KAAM,CAAEqB,EAAG,gBAAiBC,EAAG,iBAC/BlB,KAAM,CAAEiB,EAAG,UAAWC,EAAG,aAI/BC,MAAO,CACLT,YADK,WAEHM,KAAKlB,MAAQe,KAAKC,MAAMD,KAAKE,UAAUC,KAAKN,gBAGhDU,QAAS,CAIDhB,aAJC,WAIc,wJACnB,EAAKiB,SAAS,WAAY,CACxBC,WAAW,EACXC,kBAAmB,KACnBC,iBAAkB,KAClBxB,KAAM,YACLyB,MAAK,WACN,EAAK3B,MAAMC,OAA+B,IAAtB,EAAKD,MAAMC,OAAe,EAAI,EAClD,IAAI2B,EAAU,CAAEnB,IAAK,EAAKA,IAAKT,MAAO,CAAE6B,GAAI,EAAK7B,MAAM6B,GAAI5B,OAAQ,EAAKD,MAAMC,OAAQ6B,IAAK,WAC3F,EAAKC,OAAOC,SAAS,iBAAkBJ,GAASD,MAAK,WAEnDM,YAAW,WACT,EAAKC,MAAM,iBACV,WAEJC,OAAM,WACP,EAAKC,SAASC,KAAK,WAhBF,iD,qBCxCzB,MAAMC,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAE1E,U,wLCAoE,M,iXANjF,yBAqBa,GArBAC,QAAS,EAAAA,QAAUC,WAAY,EAAAA,Y,CAC/BC,OAAM,GACf,iBAEe,CAFf,yBAEe,Q,WADb,iBAAkF,CAAlF,yBAAkF,G,WAA/D,EAAAD,WAAWE,S,qDAAX,EAAAF,WAAWE,SAAQ,IAAEC,UAAA,GAAUC,YAAY,U,iCAEhE,yBAEe,Q,WADb,iBAAyF,CAAzF,yBAAyF,GAA9E/C,KAAK,iBAAiBM,MAAA,GAAMF,KAAK,UAAW,QAAO,EAAA4C,a,YAAa,iBAAE,C,wCAGtEC,KAAI,GACb,iBAAiG,CAAjG,yBAAiG,GAArFC,IAAI,aAAcC,cAAa,EAAAC,WAAa,eAAc,EAAAC,c,6CAE7DC,OAAM,GACf,iBAMc,CANd,yBAMc,GALXC,KAAM,EAAAA,KACNC,UAAS,EAAAC,OACTC,eAAc,EAAAC,YACdC,aAAY,EAAAC,UACZ,gBAAe,EAAAC,e,kRCO4B,Q,qUAzBlD,yBA8BW,GA9BA9C,KAAM,EAAAoC,YAAU,C,WACzB,iBAAuE,CAAvE,yBAAuE,GAAtDW,MAAM,MAAMC,KAAK,KAAKC,MAAM,UAC7C,yBAAgH,GAA9FC,8BAA4B,EAAMH,MAAM,MAAMC,KAAK,WAAWC,MAAM,UACtF,yBAIkB,GAJDE,MAAM,SAASJ,MAAM,M,CACzBlD,QAAO,GAChB,SADuB,GACvB,MADuB,CACvB,yBAA6E,GAAjEuD,IAAKC,EAAMC,IAAIzB,SAAW0B,IAAKF,EAAMC,IAAIE,Y,gCAGzD,yBAA8F,GAA5EN,8BAA4B,EAAMH,MAAM,KAAKC,KAAK,UACpE,yBAAsG,GAApFE,8BAA4B,EAAMH,MAAM,MAAMC,KAAK,iBACrE,yBAIkB,GAJDG,MAAM,SAASJ,MAAM,OAAOE,MAAM,S,CACtCpD,QAAO,GAChB,SADuB,GACvB,MADuB,CACvB,yBAAgE,GAAlD4D,eAAcJ,EAAMC,IAAM3D,IAAK,EAAA+D,K,yCAGjD,yBAAiF,GAAhEP,MAAM,SAASJ,MAAM,OAAOC,KAAK,eAClD,yBAAiF,GAAhEG,MAAM,SAASJ,MAAM,OAAOC,KAAK,eAClD,yBAYkB,GAZDG,MAAM,SAASJ,MAAM,KAAKE,MAAM,S,CACpCpD,QAAO,GAChB,SADuB,GACvB,MADuB,CAEf,EAAA8D,WAAWC,KAAKC,QAAQ,EAAAH,MAAG,G,yBADnC,yBAQY,G,MANV1E,KAAK,eACLM,MAAA,GACAC,KAAK,OACLH,KAAK,UACJ,QAAK,mBAAE,EAAAgC,MAAK,eAAiBiC,EAAMC,O,YAAM,iBAE5C,C,+HAUO,GACb7D,KAAM,aACNqE,WAAY,CAAEC,cAAA,MACdrE,MAAO,CAAC,cACRM,KAJa,WAKX,MAAO,CACL0D,IAAK,OAAKM,MAAMC,U,qBCvCtB,MAAMzC,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAAS,GAAQ,CAAC,YAAY,qBAE1E,Q,GCNRT,GAAG,S,udAAR,yBAyDM,MAzDN,EAyDM,CAxDJ,yBAuDY,G,WAtDD,EAAAmD,Q,qDAAA,EAAAA,QAAO,IACfC,wBAAsB,EACtBC,yBAAuB,EACvBC,cAAY,EACZC,MAAa,YAAN,EAAA7B,OAAM,gBACd8B,OAAA,I,+BACA,iBA+CU,CA/CV,yBA+CU,GA/CArC,IAAK,EAAAO,OAASvD,MAAO,EAAAsF,UAAYC,MAAO,EAAAA,MAAOC,iBAAe,OAAOC,cAAY,S,+BACzF,iBAEe,CAFf,yBAEe,GAFD5B,MAAM,OAAOC,KAAK,Y,+BAC9B,iBAAuD,CAAvD,yBAAuD,G,WAA/B,EAAAwB,UAAU3C,S,qDAAV,EAAA2C,UAAU3C,SAAQ,I,eAAhC,W,iCAEZ,yBASe,GATD+C,MAAM,aAAa7B,MAAM,QAAQC,KAAK,c,+BAClD,iBAOe,CAPf,yBAOe,GANZ6B,eAAY,UAAc,EAAAL,UAAU3C,SAAQ,WAAc,EAAA2C,UAAUhB,WAAU,UAC9EsB,YAAW,IACXC,aAAY,EACZC,YAAW,EACXC,kBAAiB,sDACjBC,cAAe,EAAAA,e,mDAGpB,yBAEe,GAFDnC,MAAM,QAAQC,KAAK,Y,+BAC/B,iBAA2G,CAA3G,yBAA2G,G,WAAnF,EAAAwB,UAAUW,S,qDAAV,EAAAX,UAAUW,SAAQ,I,eAAhC,UAAkCpD,YAAY,UAAUqD,gBAAA,GAAchG,KAAK,Y,iCAEvF,yBAEe,GAFD2D,MAAM,QAAQC,KAAK,S,+BAC/B,iBAA0E,CAA1E,yBAA0E,G,WAAlD,EAAAwB,UAAUa,M,qDAAV,EAAAb,UAAUa,MAAK,I,eAA7B,UAA+BtD,YAAY,W,iCAEvD,yBAEe,GAFDgB,MAAM,OAAOC,KAAK,gB,+BAC9B,iBAAkF,CAAlF,yBAAkF,G,WAAxD,EAAAwB,UAAUc,a,qDAAV,EAAAd,UAAUc,aAAY,I,eAAtC,YAAwCvD,YAAY,U,iCAEhE,yBASe,GATDgB,MAAM,QAAQC,KAAK,W,+BAC/B,iBAOY,CAPZ,yBAOY,G,WAPe,EAAAwB,UAAUe,Q,qDAAV,EAAAf,UAAUe,QAAO,I,eAAjC,YAAmCC,WAAA,GAAWzD,YAAY,W,+BAEjE,iBAA8C,E,2BADhD,yBAKY,2CAJa,EAAAc,UAAS,uBAAxB4C,EAAKC,G,gCADf,yBAKY,GAHTC,IAAKD,EACL3C,MAAO0C,EAAKG,UACZC,MAAOJ,EAAK1E,I,wEAInB,yBAQe,GARD6D,MAAM,cAAc7B,MAAM,S,+BACtC,iBAMY,CANZ,yBAMY,G,WALM,EAAAyB,UAAUrF,O,qDAAV,EAAAqF,UAAUrF,OAAM,I,eAAhC,YACC2G,eAAc,EACdC,iBAAgB,EACjBC,eAAa,UACbC,iBAAe,W,iCAGnB,yBAIe,GAHZ1D,KAAM,EAAA2D,WACNzD,OAAQ,EAAAA,OACR,cAAW,+BAAE,EAAArB,MAAK,yD,qIAad,GACb3B,KAAM,cACNqE,WAAY,CAAEqC,eAAA,KAAcC,aAAA,QAC5BC,OAAQ,CAACC,EAAA,MACT5G,MAAO,CAAC,OAAQ,SAAU,aAC1BM,KALa,WAMX,MAAO,CACLwE,UAAWpE,KAAKmC,KAChB2D,WAAY,GACZzB,MAAO,CACL5C,SAAU,CAAC,CAAE0E,UAAU,EAAMC,QAAS,UAAWC,QAAS,SAC1DjD,WAAY,CAAC,CAAE+C,UAAU,EAAMC,QAAS,UAAWC,QAAS,WAC5DpB,MAAO,CAAC,CAAEkB,UAAU,EAAMC,QAAS,UAAWC,QAAS,OAAQrH,KAAM,UACrE+F,SAAU,CAAC,CAAEoB,UAAU,EAAMC,QAAS,UAAWC,QAAS,SAC1DnB,aAAc,CAAC,CAAEiB,UAAU,EAAMC,QAAS,SAAUC,QAAS,SAC7DlB,QAAS,CAAC,CAAEgB,UAAU,EAAMC,QAAS,UAAWC,QAAS,cAI/DlG,MAAO,CACLgC,KADK,WACE,WACLnC,KAAKoE,UAAYpE,KAAKmC,KACtBnC,KAAKsG,WAAU,WACbvF,YAAW,WACT,EAAK+E,WAAa,CAChBhH,MAAO,EAAKsF,UACZmC,MAAO,EAAKA,MACZhH,IAAqB,YAAhB,EAAK8C,OAAuBmE,EAAA,KAAK5C,MAAM6C,KAAOD,EAAA,KAAK5C,MAAMC,UAE/D,UAITzD,QAAS,CAKP0E,cALO,SAKO4B,GACZ1G,KAAKoE,UAAUhB,cAAgBsD,GAAY,IAAIC,MAAQ,IAAIC,OAAS,IAAIzD,KAAO,M,UCnGrF,MAAM,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAAS,KAErD,QJqBA,GACb9D,KAAM,QACNqE,WAAY,CAAEmD,YAAA,EAAaC,WAAA,EAAYC,aAAA,MACvCnH,KAHa,WAIX,MAAO,CACL0B,SAAS,EACTC,WAAY,CAAEyF,KAAM,EAAGC,MAAO,GAAIC,MAAO,EAAGC,WAAW,EAAMC,SAAS,EAAO3F,SAAU,IACvFc,aAAa,EACbF,OAAQ,UACRF,KAAM,GACNM,UAAW,KAGf4E,SAAU,CACRrF,WADQ,WAEN,OAAOhC,KAAKa,OAAOyG,MAAM1D,MAAM5B,aAGnCuF,QAlBa,WAkBH,WACRvH,KAAKsG,UAAL,wCAAe,8GACP,EAAK5D,cAAc,EAAKnB,YADjB,6CAIjBnB,QAAS,CAKDwB,YALC,WAKa,+JAClB,EAAKL,WAAWyF,KAAO,EACvB,EAAKzF,WAAW6F,SAAU,EAFR,SAGZ,EAAK1E,cAAc,EAAKnB,YAHZ,8CAUdmB,cAfC,SAeanB,GAAY,+JAC9B,EAAKD,SAAU,EACf,EAAKiB,aAAc,EAFW,SAGxB,EAAK1B,OAAOC,SAAS,sBAAuBS,GAAYd,MAAK,WACjE,EAAKa,SAAU,EACf,EAAKC,WAAW2F,MAAQ,EAAKrG,OAAOyG,MAAM1D,MAAMsD,SALpB,8CAY1BM,kBA3BC,SA2BiBR,GAAM,+JAC5B,EAAKzF,WAAWyF,KAAOA,EADK,SAEtB,EAAKtE,cAAc,EAAKnB,YAFF,8CASxBU,aApCC,SAoCYE,GAAM,wJACvB,EAAKtB,OAAOC,SAAS,oBAAqB,CAAEkG,KAAM,EAAGC,MAAO,GAAIG,SAAS,IAAS3G,MAAK,WACrF,EAAK0B,KAAOtC,KAAKC,MAAMD,KAAKE,UAAUoC,IACtC,EAAKE,OAAS,UACd,EAAKE,aAAc,EACnB,EAAKE,UAAY,CAAEgF,UAAW,EAAK5G,OAAOyG,MAAMjC,KAAKoC,cALhC,gDKpF7B,MAAM,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASpG,GAAQ,CAAC,YAAY,qBAE1E,gB","file":"js/chunk-3e6574ed.16ab62f4.js","sourcesContent":["export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Dialog.vue?vue&type=style&index=0&id=c3561240&lang=less\"","<template>\n  <el-button\n    :icon=\"attr['icon'][model.status]\"\n    :type=\"attr['type'][model.status]\"\n    circle\n    plain\n    size=\"medium\"\n    @click=\"changeStatus\">\n  </el-button>\n</template>\n\n<script>\nexport default {\n  name: 'StatusRadio',\n  props: {\n    /* 更新地址 */\n    url: {\n      type: String,\n      default: () => ''\n    },\n    /* 待更新的记录 */\n    statusModel: {\n      type: Object,\n      default: () => {\n      }\n    }\n  },\n  data() {\n    return {\n      model: JSON.parse(JSON.stringify(this.statusModel)),\n      attr: {\n        icon: { 1: 'el-icon-check', 2: 'el-icon-close' },\n        type: { 1: 'success', 2: 'danger' }\n      }\n    };\n  },\n  watch: {\n    statusModel() {\n      this.model = JSON.parse(JSON.stringify(this.statusModel));\n    }\n  },\n  methods: {\n    /**\n     * todo:状态修改\n     */\n    async changeStatus() {\n      this.$confirm('确认修改当前状态', {\n        showClose: false,\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'success'\n      }).then(() => {\n        this.model.status = this.model.status === 1 ? 2 : 1;\n        let payload = { url: this.url, model: { id: this.model.id, status: this.model.status, act: 'status' } };\n        this.$store.dispatch('UPDATE_ACTIONS', payload).then(() => {\n          /* 更新成功 */\n          setTimeout(() => {\n            this.$emit('closeDialog');\n          }, 500);\n        });\n      }).catch(() => {\n        this.$message.info('取消修改');\n      });\n    }\n  }\n};\n</script>\n\n<style scoped>\n\n</style>\n","import { render } from \"./StatusRadio.vue?vue&type=template&id=722c76f4&scoped=true\"\nimport script from \"./StatusRadio.vue?vue&type=script&lang=js\"\nexport * from \"./StatusRadio.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Applications/XAMPP/xamppfiles/htdocs/vue-app/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-722c76f4\"]])\n\nexport default __exports__","<template>\n  <BaseLayout :loading=\"loading\" :pagination=\"pagination\">\n    <template #header>\n      <el-form-item>\n        <el-input v-model=\"pagination.username\" clearable placeholder=\"请输入用户名\"></el-input>\n      </el-form-item>\n      <el-form-item>\n        <el-button icon=\"el-icon-search\" plain type=\"primary\" @click=\"searchUsers\">检索</el-button>\n      </el-form-item>\n    </template>\n    <template #body>\n      <UsersLists ref=\"usersLists\" :users-lists=\"usersLists\" @updatedUsers=\"updatedUsers\"></UsersLists>\n    </template>\n    <template #dialog>\n      <UsersDialog\n        :form=\"form\"\n        :re-form=\"reForm\"\n        :sync-visible=\"syncVisible\"\n        :users-attr=\"usersAttr\"\n        @getUsersLists=\"getUsersLists\">\n      </UsersDialog>\n    </template>\n  </BaseLayout>\n</template>\n\n<script>\nimport BaseLayout from '../../components/BaseLayout';\nimport UsersLists from '../../components/users/user/Lists';\nimport UsersDialog from '../../components/users/user/Dialog';\n\nexport default {\n  name: 'Users',\n  components: { UsersDialog, UsersLists, BaseLayout },\n  data() {\n    return {\n      loading: true,\n      pagination: { page: 1, limit: 15, total: 0, show_page: true, refresh: false, username: '' },\n      syncVisible: false,\n      reForm: 'created',\n      form: {},\n      usersAttr: {}\n    };\n  },\n  computed: {\n    usersLists() {\n      return this.$store.state.users.usersLists;\n    }\n  },\n  mounted() {\n    this.$nextTick(async () => {\n      await this.getUsersLists(this.pagination);\n    });\n  },\n  methods: {\n    /**\n     * todo:用户搜索\n     * @return {Promise<boolean>}\n     */\n    async searchUsers() {\n      this.pagination.page = 1;\n      this.pagination.refresh = true;\n      await this.getUsersLists(this.pagination);\n    },\n    /**\n     * todo:获取管理员列表\n     * @param pagination\n     * @return {Promise<void>}\n     */\n    async getUsersLists(pagination) {\n      this.loading = true;\n      this.syncVisible = false;\n      await this.$store.dispatch('users/getUsersLists', pagination).then(() => {\n        this.loading = false;\n        this.pagination.total = this.$store.state.users.total;\n      });\n    },\n    /**\n     * todo:页面转换\n     * @param page\n     */\n    async currentPageChange(page) {\n      this.pagination.page = page;\n      await this.getUsersLists(this.pagination);\n    },\n    /**\n     * todo:修改管理员\n     * @param form\n     * @return {Promise<void>}\n     */\n    async updatedUsers(form) {\n      this.$store.dispatch('role/getRoleLists', { page: 1, limit: 20, refresh: false }).then(() => {\n        this.form = JSON.parse(JSON.stringify(form));\n        this.reForm = 'updated';\n        this.syncVisible = true;\n        this.usersAttr = { roleLists: this.$store.state.role.roleLists };\n      });\n    }\n  }\n};\n</script>\n\n<style scoped>\n\n</style>\n","<template>\n  <el-table :data=\"usersLists\">\n    <el-table-column label=\"#ID\" prop=\"id\" width=\"100px\"></el-table-column>\n    <el-table-column :show-tooltip-when-overflow=\"true\" label=\"用户名\" prop=\"username\" width=\"150px\"></el-table-column>\n    <el-table-column align=\"center\" label=\"头像\">\n      <template #default=\"scope\">\n        <el-avatar :alt=\"scope.row.username\" :src=\"scope.row.avatar_url\"></el-avatar>\n      </template>\n    </el-table-column>\n    <el-table-column :show-tooltip-when-overflow=\"true\" label=\"邮箱\" prop=\"email\"></el-table-column>\n    <el-table-column :show-tooltip-when-overflow=\"true\" label=\"手机号\" prop=\"phone_number\"></el-table-column>\n    <el-table-column align=\"center\" label=\"允许登录\" width=\"100px\">\n      <template #default=\"scope\">\n        <StatusRadio :status-model=\"scope.row\" :url=\"URL\"></StatusRadio>\n      </template>\n    </el-table-column>\n    <el-table-column align=\"center\" label=\"添加时间\" prop=\"created_at\"></el-table-column>\n    <el-table-column align=\"center\" label=\"修改时间\" prop=\"updated_at\"></el-table-column>\n    <el-table-column align=\"center\" label=\"操作\" width=\"100px\">\n      <template #default=\"scope\">\n        <el-button\n          v-if=\"Permission.auth.indexOf(URL) > -1\"\n          icon=\"el-icon-edit\"\n          plain\n          size=\"mini\"\n          type=\"primary\"\n          @click=\"$emit('updatedUsers', scope.row)\">\n          修改\n        </el-button>\n      </template>\n    </el-table-column>\n  </el-table>\n</template>\n\n<script>\nimport StatusRadio from '../../common/StatusRadio';\nimport Urls from '../../../api/urls';\n\nexport default {\n  name: 'UsersLists',\n  components: { StatusRadio },\n  props: ['usersLists'],\n  data() {\n    return {\n      URL: Urls.users.update\n    };\n  }\n};\n</script>\n\n<style scoped>\n\n</style>\n","import { render } from \"./Lists.vue?vue&type=template&id=4fc4a761&scoped=true\"\nimport script from \"./Lists.vue?vue&type=script&lang=js\"\nexport * from \"./Lists.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Applications/XAMPP/xamppfiles/htdocs/vue-app/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-4fc4a761\"]])\n\nexport default __exports__","<template>\n  <div id=\"users\">\n    <el-dialog\n      v-model=\"visible\"\n      :close-on-click-modal=\"false\"\n      :close-on-press-escape=\"false\"\n      :show-close=\"false\"\n      :title=\"reForm === 'created' ? '添加管理员' : '修改管理员'\"\n      center>\n      <el-form :ref=\"reForm\" :model=\"localForm\" :rules=\"rules\" label-position=\"left\" label-width=\"100px\">\n        <el-form-item label=\"用户名：\" prop=\"username\">\n          <el-input v-model.trim=\"localForm.username\"></el-input>\n        </el-form-item>\n        <el-form-item class=\"avatar-url\" label=\"用户头像：\" prop=\"avatar_url\">\n          <CommonUpload\n            :avatar-image=\"{ username: localForm.username, avatar_url: localForm.avatar_url, size: 100 }\"\n            :file-size=\"100\"\n            :img-height=\"0\"\n            :img-width=\"0\"\n            :upload-controls=\"{ button_type: 'avatar', show_file_list: false, show_tips: false }\"\n            :uploadSuccess=\"uploadSuccess\">\n          </CommonUpload>\n        </el-form-item>\n        <el-form-item label=\"登录密码：\" prop=\"password\">\n          <el-input v-model.trim=\"localForm.password\" placeholder=\"请输入登录密码\" show-password type=\"password\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"邮箱账号：\" prop=\"email\">\n          <el-input v-model.trim=\"localForm.email\" placeholder=\"请输入邮箱账号\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"手机号：\" prop=\"phone_number\">\n          <el-input v-model.number=\"localForm.phone_number\" placeholder=\"请输入手机号\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"用户角色：\" prop=\"role_id\">\n          <el-select v-model.number=\"localForm.role_id\" filterable placeholder=\"请选择用户角色\">\n            <el-option\n              v-for=\"(role,index) in usersAttr['roleLists']\"\n              :key=\"index\"\n              :label=\"role.role_name\"\n              :value=\"role.id\">\n            </el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item class=\"is-required\" label=\"允许登录：\">\n          <el-switch\n            v-model.number=\"localForm.status\"\n            :active-value=\"1\"\n            :inactive-value=\"2\"\n            active-color=\"#13ce66\"\n            inactive-color=\"#ff4949\">\n          </el-switch>\n        </el-form-item>\n        <SubmitButton\n          :form=\"submitForm\"\n          :reForm=\"reForm\"\n          @closeDialog=\"$emit('getUsersLists', { page: 1, limit: 15, refresh: true, total: 0 })\">\n        </SubmitButton>\n      </el-form>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport SubmitButton from '../../common/SubmitForm';\nimport CommonUpload from '../../common/CommonUpload';\nimport { toggle } from '../../mixins/toggle';\nimport urls from '../../../api/urls';\n\nexport default {\n  name: 'UsersDialog',\n  components: { CommonUpload, SubmitButton },\n  mixins: [toggle],\n  props: ['form', 'reForm', 'usersAttr'],\n  data() {\n    return {\n      localForm: this.form,\n      submitForm: {},\n      rules: {\n        username: [{ required: true, message: '请输入用户昵称', trigger: 'blur' }],\n        avatar_url: [{ required: true, message: '请上传用户头像', trigger: 'change' }],\n        email: [{ required: true, message: '请输入邮箱账号', trigger: 'blur', type: 'email' }],\n        password: [{ required: true, message: '请输入登录密码', trigger: 'blur' }],\n        phone_number: [{ required: true, message: '请输入手机号', trigger: 'blur' }],\n        role_id: [{ required: true, message: '请选择用户角色', trigger: 'change' }]\n      }\n    };\n  },\n  watch: {\n    form() {\n      this.localForm = this.form;\n      this.$nextTick(() => {\n        setTimeout(() => {\n          this.submitForm = {\n            model: this.localForm,\n            $refs: this.$refs,\n            url: this.reForm === 'created' ? urls.users.save : urls.users.update\n          };\n        }, 1000);\n      });\n    }\n  },\n  methods: {\n    /**\n     * todo:图片上传成功\n     * @param response\n     */\n    uploadSuccess(response) {\n      this.localForm.avatar_url = (((response || {}).item || {}).lists || {}).src || '';\n    }\n  }\n};\n</script>\n\n<style lang=\"less\">\n#users {\n  .avatar-url {\n    display: flex;\n    align-items: center;\n    position: relative;\n\n    .el-form-item__content {\n      margin-left: 0 !important;\n    }\n  }\n}\n</style>\n","import { render } from \"./Dialog.vue?vue&type=template&id=c3561240\"\nimport script from \"./Dialog.vue?vue&type=script&lang=js\"\nexport * from \"./Dialog.vue?vue&type=script&lang=js\"\n\nimport \"./Dialog.vue?vue&type=style&index=0&id=c3561240&lang=less\"\n\nimport exportComponent from \"/Applications/XAMPP/xamppfiles/htdocs/vue-app/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Users.vue?vue&type=template&id=5982c27c&scoped=true\"\nimport script from \"./Users.vue?vue&type=script&lang=js\"\nexport * from \"./Users.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Applications/XAMPP/xamppfiles/htdocs/vue-app/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-5982c27c\"]])\n\nexport default __exports__"],"sourceRoot":""}