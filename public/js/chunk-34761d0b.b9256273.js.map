{"version":3,"sources":["webpack:///./src/components/users/user/Dialog.vue?6829","webpack:///./src/components/common/StatusRadio.vue","webpack:///./src/components/common/StatusRadio.vue?5e82","webpack:///./src/pages/users/Users.vue","webpack:///./src/components/users/user/Lists.vue","webpack:///./src/components/users/user/Lists.vue?2c5f","webpack:///./src/components/users/user/Dialog.vue","webpack:///./src/components/users/user/Dialog.vue?8002","webpack:///./src/pages/users/Users.vue?6f7b","webpack:///./src/components/mixins/toggle.js"],"names":["icon","attr","model","status","circle","type","changeStatus","size","name","props","url","String","default","statusModel","Object","data","JSON","parse","stringify","this","1","2","watch","methods","$confirm","showClose","confirmButtonText","cancelButtonText","then","payload","id","act","$store","dispatch","setTimeout","$emit","catch","$message","info","render","__scopeId","loading","pagination","header","body","users-lists","usersLists","updatedUsers","ref","dialog","sync-visible","syncVisible","users-attr","usersAttr","re-form","reForm","form","getUsersLists","label","prop","width","show-tooltip-when-overflow","align","src","scope","row","avatar_url","alt","username","URL","status-model","plain","components","StatusRadio","users","update","visible","title","show-close","close-on-click-modal","close-on-press-escape","center","localForm","label-position","label-width","rules","class","avatar-image","file-size","img-width","img-height","upload-controls","uploadSuccess","password","show-password","placeholder","email","phone_number","role_id","filterable","role","index","key","role_name","value","active-color","inactive-color","active-value","inactive-value","submitForm","CommonUpload","SubmitButton","mixins","toggle","required","message","trigger","$nextTick","$refs","save","response","item","lists","UsersDialog","UsersLists","BaseLayout","page","limit","total","show_page","refresh","computed","state","mounted","currentPageChange","roleLists"],"mappings":"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","file":"js/chunk-34761d0b.b9256273.js","sourcesContent":["export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Dialog.vue?vue&type=style&index=0&id=7c85a478&lang=less\"","<template>\r\n    <el-button :icon=\"attr['icon'][model.status]\" circle :type=\"attr['type'][model.status]\" @click=\"changeStatus\" size=\"medium\"></el-button>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: 'StatusRadio',\r\n    props: {\r\n        /* 更新地址 */\r\n        url: {\r\n            type: String,\r\n            default: () => ''\r\n        },\r\n        /* 待更新的记录 */\r\n        statusModel: {\r\n            type: Object,\r\n            default: () => {}\r\n        }\r\n    },\r\n    data () {\r\n        return {\r\n            model: JSON.parse(JSON.stringify(this.statusModel)),\r\n            attr: {\r\n                icon: { 1: 'el-icon-check', 2: 'el-icon-close' },\r\n                type: { 1: 'success', 2: 'danger' }\r\n            }\r\n        }\r\n    },\r\n    watch: {\r\n        statusModel() {\r\n            this.model = JSON.parse(JSON.stringify(this.statusModel))\r\n        }\r\n    },\r\n    methods: {\r\n        /**\r\n         * todo:状态修改\r\n         */\r\n        async changeStatus() {\r\n            this.$confirm(`确认修改当前状态`, { showClose: false, confirmButtonText: '确定', cancelButtonText: '取消', type: 'success' }).then(() => {\r\n                this.model.status = this.model.status === 1 ? 2 : 1\r\n                let payload = { url: this.url, model: { id: this.model.id, status: this.model.status, act: 'status' } }\r\n                this.$store.dispatch('UPDATE_ACTIONS', payload).then(() => {\r\n                    /* 更新成功 */\r\n                    setTimeout(() => { this.$emit('closeDialog') }, 500)\r\n                })\r\n            }).catch(() => {\r\n                this.$message.info('取消修改')\r\n            })\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","import { render } from \"./StatusRadio.vue?vue&type=template&id=6a728d62&scoped=true\"\nimport script from \"./StatusRadio.vue?vue&type=script&lang=js\"\nexport * from \"./StatusRadio.vue?vue&type=script&lang=js\"\nscript.render = render\nscript.__scopeId = \"data-v-6a728d62\"\n\nexport default script","<template>\r\n    <BaseLayout :loading=\"loading\" :pagination=\"pagination\">\r\n        <template #header></template>\r\n        <template #body>\r\n            <UsersLists :users-lists=\"usersLists\" @updatedUsers=\"updatedUsers\" ref=\"usersLists\"></UsersLists>\r\n        </template>\r\n        <template #dialog>\r\n            <UsersDialog :sync-visible=\"syncVisible\" :users-attr=\"usersAttr\" :re-form=\"reForm\" :form=\"form\" @getUsersLists=\"getUsersLists\"></UsersDialog>\r\n        </template>\r\n    </BaseLayout>\r\n</template>\r\n\r\n<script>\r\nimport BaseLayout from '@/components/BaseLayout'\r\nimport UsersLists from '@/components/users/user/Lists'\r\nimport UsersDialog from '@/components/users/user/Dialog'\r\nexport default {\r\n    name: 'Users',\r\n    components: { UsersDialog, UsersLists, BaseLayout },\r\n    data() {\r\n        return {\r\n            loading: true,\r\n            pagination: { page: 1, limit: 15, total: 0, show_page: true, refresh: false },\r\n            syncVisible: false,\r\n            reForm: 'created',\r\n            form: {},\r\n            usersAttr: {},\r\n        }\r\n    },\r\n    computed: {\r\n        usersLists() {\r\n            return this.$store.state.users.usersLists\r\n        }\r\n    },\r\n    mounted() {\r\n        this.$nextTick(async () => {\r\n            await this.getUsersLists(this.pagination)\r\n        })\r\n    },\r\n    methods: {\r\n        /**\r\n         * todo:获取管理员列表\r\n         * @param pagination\r\n         * @return {Promise<void>}\r\n         */\r\n        async getUsersLists(pagination) {\r\n            this.loading = true\r\n            this.syncVisible = false\r\n            await this.$store.dispatch('users/getUsersLists', pagination).then(() => {\r\n                this.loading = false\r\n                this.pagination.total = this.$store.state.users.total\r\n            })\r\n        },\r\n        /**\r\n         * todo:页面转换\r\n         * @param page\r\n         */\r\n        async currentPageChange(page) {\r\n            this.pagination.page = page\r\n            await this.getUsersLists(this.pagination)\r\n        },\r\n        /**\r\n         * todo:修改管理员\r\n         * @param form\r\n         * @return {Promise<void>}\r\n         */\r\n        async updatedUsers(form) {\r\n            this.$store.dispatch('role/getRoleLists', { page: 1, limit: 20, refresh: false }).then(() => {\r\n                this.form = JSON.parse(JSON.stringify(form))\r\n                this.reForm = 'updated'\r\n                this.syncVisible = true\r\n                this.usersAttr = { roleLists: this.$store.state.role.roleLists }\r\n            })\r\n        },\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","<template>\r\n    <el-table :data=\"usersLists\">\r\n        <el-table-column label=\"#ID\" prop=\"id\" width=\"100px\"></el-table-column>\r\n        <el-table-column label=\"用户名\" prop=\"username\" width=\"150px\" :show-tooltip-when-overflow=\"true\"></el-table-column>\r\n        <el-table-column label=\"头像\" align=\"center\">\r\n            <template #default=\"scope\">\r\n                <el-avatar :src=\"scope.row.avatar_url\" :alt=\"scope.row.username\"></el-avatar>\r\n            </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"邮箱\" prop=\"email\" :show-tooltip-when-overflow=\"true\"></el-table-column>\r\n        <el-table-column label=\"手机号\" prop=\"phone_number\" :show-tooltip-when-overflow=\"true\"></el-table-column>\r\n        <el-table-column label=\"允许登录\" align=\"center\">\r\n            <template #default=\"scope\">\r\n                <StatusRadio :url=\"URL\" :status-model=\"scope.row\"></StatusRadio>\r\n            </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"添加时间\" prop=\"created_at\" align=\"center\"></el-table-column>\r\n        <el-table-column label=\"修改时间\" prop=\"updated_at\" align=\"center\"></el-table-column>\r\n        <el-table-column label=\"操作\" align=\"right\">\r\n            <template #default=\"scope\">\r\n               <el-button plain size=\"mini\" icon=\"el-icon-edit\" type=\"primary\" @click=\"$emit('updatedUsers', scope.row)\">修改</el-button>\r\n            </template>\r\n        </el-table-column>\r\n    </el-table>\r\n</template>\r\n\r\n<script>\r\nimport URLS from '@/api/urls'\r\nimport StatusRadio from '@/components/common/StatusRadio'\r\nexport default {\r\n    name: 'UsersLists',\r\n    components: { StatusRadio },\r\n    props: ['usersLists'],\r\n    data() {\r\n        return {\r\n            URL: URLS.users.update,\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","import { render } from \"./Lists.vue?vue&type=template&id=01273256&scoped=true\"\nimport script from \"./Lists.vue?vue&type=script&lang=js\"\nexport * from \"./Lists.vue?vue&type=script&lang=js\"\nscript.render = render\nscript.__scopeId = \"data-v-01273256\"\n\nexport default script","<template>\r\n    <div id=\"users\">\r\n        <el-dialog v-model=\"visible\" :title=\"reForm === 'created' ? '添加管理员' : '修改管理员'\" :show-close=\"false\" :close-on-click-modal=\"false\" :close-on-press-escape=\"false\" center>\r\n            <el-form :model=\"localForm\" :ref=\"reForm\" label-position=\"left\" label-width=\"100px\" :rules=\"rules\">\r\n                <el-form-item label=\"用户名：\" prop=\"username\">\r\n                    <el-input v-model.trim=\"localForm.username\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"用户头像：\" prop=\"avatar_url\" class=\"avatar-url\">\r\n                    <CommonUpload :avatar-image=\"{ username: localForm.username, avatar_url: localForm.avatar_url, size: 100 }\"\r\n                                  :file-size=\"100\"\r\n                                  :img-width=\"0\"\r\n                                  :img-height=\"0\"\r\n                                  :upload-controls=\"{ button_type: 'avatar', show_file_list: false, show_tips: false }\"\r\n                                  :uploadSuccess=\"uploadSuccess\">\r\n                    </CommonUpload>\r\n                </el-form-item>\r\n                <el-form-item label=\"登录密码：\" prop=\"password\">\r\n                    <el-input v-model.trim=\"localForm.password\" show-password type=\"password\" placeholder=\"请输入登录密码\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"邮箱账号：\" prop=\"email\">\r\n                    <el-input v-model=\"localForm.email\" type=\"email\" placeholder=\"请输入邮箱账号\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"手机号：\" prop=\"phone_number\">\r\n                    <el-input v-model.number=\"localForm.phone_number\" placeholder=\"请输入手机号\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"用户角色：\" prop=\"role_id\">\r\n                    <el-select v-model.number=\"localForm.role_id\" filterable placeholder=\"请选择用户角色\">\r\n                        <el-option v-for=\"(role,index) in usersAttr['roleLists']\" :key=\"index\" :label=\"role.role_name\" :value=\"role.id\"></el-option>\r\n                    </el-select>\r\n                </el-form-item>\r\n                <el-form-item label=\"允许登录：\" class=\"is-required\">\r\n                    <el-switch v-model.number=\"localForm.status\" active-color=\"#13ce66\" inactive-color=\"#ff4949\" :active-value=\"1\" :inactive-value=\"2\"></el-switch>\r\n                </el-form-item>\r\n                <SubmitButton :form=\"submitForm\" :reForm=\"reForm\" @closeDialog=\"$emit('getUsersLists', { page: 1, limit: 15, refresh: true, total: 0 })\"></SubmitButton>\r\n            </el-form>\r\n        </el-dialog>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport SubmitButton from '@/components/common/SubmitForm'\r\nimport URLS from '@/api/urls'\r\nimport CommonUpload from '@/components/common/CommonUpload'\r\nimport { toggle } from '@/components/mixins/toggle'\r\nexport default {\r\n    name: 'UsersDialog',\r\n    components: { CommonUpload, SubmitButton },\r\n    mixins: [toggle],\r\n    props: ['form', 'reForm', 'usersAttr'],\r\n    data() {\r\n        return {\r\n            localForm: this.form,\r\n            submitForm: {},\r\n            rules: {\r\n                username: [{ required: true, message: '请输入用户昵称', trigger: 'blur' }],\r\n                avatar_url: [{ required: true, message: '请上传用户头像', trigger: 'change' }],\r\n                email: [{ required: true, message: '请输入邮箱账号', trigger: 'blur' }],\r\n                password: [{ required: true, message: '请输入登录密码', trigger: 'blur' }],\r\n                phone_number: [{ required: true, message: '请输入手机号', trigger: 'blur' }],\r\n                role_id: [{ required: true, message: '请选择用户角色', trigger: 'change' }]\r\n            }\r\n        }\r\n    },\r\n    watch: {\r\n        form() {\r\n            this.localForm = this.form\r\n            this.$nextTick(() => {\r\n                setTimeout(() => {\r\n                    this.submitForm = { model: this.localForm, $refs: this.$refs, url: this.reForm === 'created' ? URLS.users.save : URLS.users.update }\r\n                }, 1000)\r\n            })\r\n        }\r\n    },\r\n    methods: {\r\n        /**\r\n         * todo:图片上传成功\r\n         * @param response\r\n         */\r\n        uploadSuccess(response) {\r\n            this.localForm.avatar_url = (((response || {}).item || {}).lists || {}).src || ''\r\n        },\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\">\r\n#users {\r\n    .avatar-url {\r\n        display: flex;\r\n        align-items: center;\r\n        position: relative;\r\n        .el-form-item__content {\r\n            margin-left: 0 !important;\r\n        }\r\n    }\r\n}\r\n</style>\r\n","import { render } from \"./Dialog.vue?vue&type=template&id=7c85a478\"\nimport script from \"./Dialog.vue?vue&type=script&lang=js\"\nexport * from \"./Dialog.vue?vue&type=script&lang=js\"\n\nimport \"./Dialog.vue?vue&type=style&index=0&id=7c85a478&lang=less\"\nscript.render = render\n\nexport default script","import { render } from \"./Users.vue?vue&type=template&id=0a683aad&scoped=true\"\nimport script from \"./Users.vue?vue&type=script&lang=js\"\nexport * from \"./Users.vue?vue&type=script&lang=js\"\nscript.render = render\nscript.__scopeId = \"data-v-0a683aad\"\n\nexport default script","export const toggle = {\r\n    props: ['syncVisible'],\r\n    data () {\r\n       return {\r\n           visible: this.syncVisible,\r\n       }\r\n    },\r\n    watch: {\r\n        syncVisible() {\r\n            this.visible = this.syncVisible\r\n        }\r\n    }\r\n}\r\n"],"sourceRoot":""}