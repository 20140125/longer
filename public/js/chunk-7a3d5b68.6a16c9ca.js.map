{"version":3,"sources":["webpack:///./src/components/BaseLayout.vue","webpack:///./src/components/BaseLayout.vue?aada","webpack:///./src/components/BaseLayout.vue?13f3","webpack:///./src/pages/system/Area.vue","webpack:///./src/components/system/area/Lists.vue","webpack:///./src/components/system/area/Lists.vue?dc75","webpack:///./src/pages/system/Area.vue?52f2"],"names":["class","loading","rows","animated","inline","baseLayoutPagination","show_page","current-page","page","page-size","limit","total","layout","currentChange","username","name","props","type","Boolean","default","pagination","Object","watch","this","data","$store","state","baseLayout","Permission","local","baseURL","now_time","Date","methods","$parent","currentPageChange","__exports__","render","header","body","areaLists","getAreaWeather","loadMORE","searchAreaLists","dialog","form","sync-visible","syncVisible","getAreaLists","load","tree-props","lazy","row-key","label","prop","align","search","placeholder","$emit","icon","plain","size","scope","row","tree","treeNode","resolve","components","AreaDialog","AreaLists","BaseLayout","mounted","$nextTick","parent_id","dispatch","refresh","then","area","id","childrenLists","forEach","item","parseInt","indexOf","push"],"mappings":"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","file":"js/chunk-7a3d5b68.6a16c9ca.js","sourcesContent":["<template>\n  <div\n    v-water-mark=\"{ text: username, textColor: 'rgba(0, 0, 0, .2)', font: '25px consolas, sans-serif', row: 130, col: 850 }\">\n    <el-skeleton :loading=\"loading\" :rows=\"5\" animated>\n      <el-form :inline=\"true\" class=\"form\">\n        <slot name=\"header\"></slot>\n      </el-form>\n      <!--主题信息-->\n      <el-main>\n        <slot name=\"body\"></slot>\n        <div v-if=\"baseLayoutPagination.show_page\" class=\"pagination\">\n          <el-pagination\n            :current-page=\"baseLayoutPagination.page\"\n            :page-size=\"baseLayoutPagination.limit\"\n            :total=\"baseLayoutPagination.total\"\n            layout=\"total, prev, pager, next\"\n            @current-change=\"currentChange\">\n          </el-pagination>\n        </div>\n      </el-main>\n      <!--弹框信息-->\n      <slot name=\"dialog\"></slot>\n    </el-skeleton>\n  </div>\n</template>\n\n<script>\nimport URLS from '../api/urls';\nimport { setTime } from '@/utils/func';\n\nexport default {\n  name: 'BaseLayout',\n  props: {\n    /* loading 加载 */\n    loading: {\n      type: Boolean,\n      default: () => false\n    },\n    /* 数据分页 */\n    pagination: {\n      type: Object,\n      default: () => {\n      }\n    }\n  },\n  watch: {\n    pagination: function () {\n      this.baseLayoutPagination = this.pagination;\n    }\n  },\n  data() {\n    return {\n      baseLayoutPagination: this.pagination || { limit: 10, page: 1, total: 0, show_page: false },\n      username: `${this.$store.state.baseLayout.username}【${(this.Permission || {}).local || URLS.baseURL}】${(this.Permission || {}).now_time || setTime(new Date())}`\n    };\n  },\n  methods: {\n    /**\n     * todo:页码切换\n     * @param page\n     * @private\n     */\n    currentChange: function (page) {\n      this.$parent.currentPageChange(page);\n    }\n  }\n};\n</script>\n\n<style lang=\"less\">\n.form {\n  margin: 10px 0 -30px 20px !important;\n}\n\n.pagination {\n  margin-top: 20px\n}\n</style>\n","import { render } from \"./BaseLayout.vue?vue&type=template&id=797f325c\"\nimport script from \"./BaseLayout.vue?vue&type=script&lang=js\"\nexport * from \"./BaseLayout.vue?vue&type=script&lang=js\"\n\nimport \"./BaseLayout.vue?vue&type=style&index=0&id=797f325c&lang=less\"\n\nimport exportComponent from \"D:\\\\phpstudy_pro\\\\WWW\\\\vue-app\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./BaseLayout.vue?vue&type=style&index=0&id=797f325c&lang=less\"","<template>\n  <BaseLayout :loading=\"loading\">\n    <template #header></template>\n    <template #body>\n      <AreaLists\n        :areaLists=\"areaLists\"\n        @getAreaWeather=\"getAreaWeather\"\n        @loadMORE=\"loadMORE\"\n        @searchAreaLists=\"searchAreaLists\">\n      </AreaLists>\n    </template>\n    <template #dialog>\n      <AreaDialog :form=\"form\" :sync-visible=\"syncVisible\" @getAreaLists=\"getAreaLists\"></AreaDialog>\n    </template>\n  </BaseLayout>\n</template>\n\n<script>\nimport BaseLayout from '../../components/BaseLayout';\nimport AreaLists from '../../components/system/area/Lists';\nimport AreaDialog from '../../components/system/area/Dialog';\n\nexport default {\n  name: 'Area',\n  components: { AreaDialog, AreaLists, BaseLayout },\n  data() {\n    return {\n      loading: true,\n      syncVisible: false,\n      areaLists: [],\n      form: {}\n    };\n  },\n  mounted() {\n    this.$nextTick(async () => {\n      await this.getAreaLists();\n    });\n  },\n  methods: {\n    /**\n     * todo:获取城市列表\n     * @param parent_id\n     */\n    async getAreaLists(parent_id = 1) {\n      this.loading = true;\n      this.syncVisible = false;\n      await this.$store.dispatch('area/getAreaLists', { parent_id: parent_id, refresh: false }).then(() => {\n        this.areaLists = this.$store.state.area.areaLists;\n        this.loading = false;\n      });\n    },\n    /**\n     * todo:加载更多\n     * @param tree\n     * @param treeNode\n     * @param resolve\n     * @return {Promise<void>}\n     */\n    async loadMORE(tree, treeNode, resolve) {\n      await this.$store.dispatch('area/getChildrenLists', { parent_id: tree.id }).then(() => {\n        resolve(this.$store.state.area.childrenLists);\n        this.loading = false;\n      });\n    },\n\n    /**\n     * todo:搜索天气信息\n     * @param search\n     */\n    searchAreaLists(search) {\n      this.areaLists = [];\n      this.$store.state.area.areaLists.forEach(item => {\n        if (item.id === parseInt(search, 10) || item.name.indexOf(search) > -1) {\n          this.areaLists.push(item);\n        }\n      });\n    },\n    /**\n     * todo:查看天气详情\n     * @param form\n     */\n    getAreaWeather(form) {\n      this.form = { ...form };\n      this.syncVisible = true;\n    }\n  }\n};\n</script>\n\n<style scoped>\n\n</style>\n","<template>\r\n  <el-table\r\n    :data=\"areaLists\"\r\n    :load=\"loadMORE\"\r\n    :tree-props=\"{children: '__child', hasChildren: 'hasChildren'}\"\r\n    lazy\r\n    row-key=\"id\">\r\n    <el-table-column label=\"城市名称\" prop=\"name\"></el-table-column>\r\n    <el-table-column align=\"center\" label=\"添加时间\" prop=\"created_at\"></el-table-column>\r\n    <el-table-column align=\"center\" label=\"更新时间\" prop=\"updated_at\"></el-table-column>\r\n    <el-table-column align=\"right\">\r\n      <template #header>\r\n        <el-input v-model=\"search\" placeholder=\"输入关键词查询\" @keyup=\"$emit('searchAreaLists', search)\"></el-input>\r\n      </template>\r\n      <template #default=\"scope\">\r\n        <el-button icon=\"el-icon-search\" plain size=\"mini\" type=\"primary\" @click=\"$emit('getAreaWeather', scope.row)\">\r\n          查看天气\r\n        </el-button>\r\n      </template>\r\n    </el-table-column>\r\n  </el-table>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'AreaLists',\r\n  props: ['areaLists'],\r\n  data() {\r\n    return {\r\n      search: ''\r\n    };\r\n  },\r\n  methods: {\r\n    /**\r\n     * todo:加载更多数据\r\n     * @param tree\r\n     * @param treeNode\r\n     * @param resolve\r\n     */\r\n    loadMORE(tree, treeNode, resolve) {\r\n      this.$emit('loadMORE', tree, treeNode, resolve);\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","import { render } from \"./Lists.vue?vue&type=template&id=116803b2&scoped=true\"\nimport script from \"./Lists.vue?vue&type=script&lang=js\"\nexport * from \"./Lists.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\phpstudy_pro\\\\WWW\\\\vue-app\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-116803b2\"]])\n\nexport default __exports__","import { render } from \"./Area.vue?vue&type=template&id=0ec7e525&scoped=true\"\nimport script from \"./Area.vue?vue&type=script&lang=js\"\nexport * from \"./Area.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\phpstudy_pro\\\\WWW\\\\vue-app\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-0ec7e525\"]])\n\nexport default __exports__"],"sourceRoot":""}