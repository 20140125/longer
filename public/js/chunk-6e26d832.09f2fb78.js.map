{"version":3,"sources":["webpack:///./src/components/common/StatusRadio.vue","webpack:///./src/components/common/StatusRadio.vue?4f28","webpack:///./src/pages/users/Users.vue","webpack:///./src/components/users/user/Lists.vue","webpack:///./src/components/users/user/Lists.vue?4ee0","webpack:///./src/components/users/user/Dialog.vue","webpack:///./src/components/users/user/Dialog.vue?4139","webpack:///./src/pages/users/Users.vue?3058","webpack:///./src/components/users/user/Dialog.vue?1dc0"],"names":["icon","attr","model","status","circle","plain","type","changeStatus","size","name","props","url","String","default","statusModel","Object","data","JSON","parse","stringify","this","1","2","watch","methods","$confirm","showClose","confirmButtonText","cancelButtonText","then","payload","id","act","$store","dispatch","setTimeout","$emit","catch","$message","info","__exports__","render","loading","pagination","header","placeholder","username","clearable","searchUsers","body","users-lists","usersLists","updatedUsers","ref","dialog","sync-visible","syncVisible","users-attr","usersAttr","re-form","reForm","form","getUsersLists","label","prop","width","show-tooltip-when-overflow","align","src","scope","row","avatar_url","alt","URL","status-model","Permission","auth","indexOf","components","StatusRadio","users","update","visible","title","show-close","close-on-click-modal","close-on-press-escape","center","localForm","label-position","label-width","rules","class","avatar-image","file-size","img-width","img-height","upload-controls","uploadSuccess","password","show-password","email","phone_number","role_id","filterable","role","index","key","role_name","value","active-color","inactive-color","active-value","inactive-value","submitForm","CommonUpload","SubmitButton","mixins","toggle","required","message","trigger","$nextTick","$refs","urls","save","response","item","lists","UsersDialog","UsersLists","BaseLayout","page","limit","total","show_page","refresh","computed","state","mounted","currentPageChange","roleLists"],"mappings":"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","file":"js/chunk-6e26d832.09f2fb78.js","sourcesContent":["<template>\n  <el-button\n    :icon=\"attr['icon'][model.status]\"\n    circle\n    plain\n    :type=\"attr['type'][model.status]\"\n    @click=\"changeStatus\"\n    size=\"medium\">\n  </el-button>\n</template>\n\n<script>\nexport default {\n  name: 'StatusRadio',\n  props: {\n    /* 更新地址 */\n    url: {\n      type: String,\n      default: () => ''\n    },\n    /* 待更新的记录 */\n    statusModel: {\n      type: Object,\n      default: () => {\n      }\n    }\n  },\n  data() {\n    return {\n      model: JSON.parse(JSON.stringify(this.statusModel)),\n      attr: {\n        icon: { 1: 'el-icon-check', 2: 'el-icon-close' },\n        type: { 1: 'success', 2: 'danger' }\n      }\n    };\n  },\n  watch: {\n    statusModel() {\n      this.model = JSON.parse(JSON.stringify(this.statusModel));\n    }\n  },\n  methods: {\n    /**\n     * todo:状态修改\n     */\n    async changeStatus() {\n      this.$confirm('确认修改当前状态', {\n        showClose: false,\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'success'\n      }).then(() => {\n        this.model.status = this.model.status === 1 ? 2 : 1;\n        let payload = { url: this.url, model: { id: this.model.id, status: this.model.status, act: 'status' } };\n        this.$store.dispatch('UPDATE_ACTIONS', payload).then(() => {\n          /* 更新成功 */\n          setTimeout(() => {\n            this.$emit('closeDialog');\n          }, 500);\n        });\n      }).catch(() => {\n        this.$message.info('取消修改');\n      });\n    }\n  }\n};\n</script>\n\n<style scoped>\n\n</style>\n","import { render } from \"./StatusRadio.vue?vue&type=template&id=098dc5a8&scoped=true\"\nimport script from \"./StatusRadio.vue?vue&type=script&lang=js\"\nexport * from \"./StatusRadio.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\phpstudy_pro\\\\WWW\\\\vue-app\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-098dc5a8\"]])\n\nexport default __exports__","<template>\n  <BaseLayout :loading=\"loading\" :pagination=\"pagination\">\n    <template #header>\n      <el-form-item>\n        <el-input placeholder=\"请输入用户名\" v-model=\"pagination.username\" clearable></el-input>\n      </el-form-item>\n      <el-form-item>\n        <el-button icon=\"el-icon-search\" @click=\"searchUsers\" plain type=\"primary\">检索</el-button>\n      </el-form-item>\n    </template>\n    <template #body>\n      <UsersLists :users-lists=\"usersLists\" @updatedUsers=\"updatedUsers\" ref=\"usersLists\"></UsersLists>\n    </template>\n    <template #dialog>\n      <UsersDialog\n        :sync-visible=\"syncVisible\"\n        :users-attr=\"usersAttr\"\n        :re-form=\"reForm\"\n        :form=\"form\"\n        @getUsersLists=\"getUsersLists\">\n      </UsersDialog>\n    </template>\n  </BaseLayout>\n</template>\n\n<script>\nimport BaseLayout from '../../components/BaseLayout';\nimport UsersLists from '../../components/users/user/Lists';\nimport UsersDialog from '../../components/users/user/Dialog';\n\nexport default {\n  name: 'Users',\n  components: { UsersDialog, UsersLists, BaseLayout },\n  data() {\n    return {\n      loading: true,\n      pagination: { page: 1, limit: 15, total: 0, show_page: true, refresh: false, username: '' },\n      syncVisible: false,\n      reForm: 'created',\n      form: {},\n      usersAttr: {}\n    };\n  },\n  computed: {\n    usersLists() {\n      return this.$store.state.users.usersLists;\n    }\n  },\n  mounted() {\n    this.$nextTick(async () => {\n      await this.getUsersLists(this.pagination);\n    });\n  },\n  methods: {\n    /**\n     * todo:用户搜索\n     * @return {Promise<boolean>}\n     */\n    async searchUsers() {\n      this.pagination.page = 1;\n      this.pagination.refresh = true;\n      await this.getUsersLists(this.pagination);\n    },\n    /**\n     * todo:获取管理员列表\n     * @param pagination\n     * @return {Promise<void>}\n     */\n    async getUsersLists(pagination) {\n      this.loading = true;\n      this.syncVisible = false;\n      await this.$store.dispatch('users/getUsersLists', pagination).then(() => {\n        this.loading = false;\n        this.pagination.total = this.$store.state.users.total;\n      });\n    },\n    /**\n     * todo:页面转换\n     * @param page\n     */\n    async currentPageChange(page) {\n      this.pagination.page = page;\n      await this.getUsersLists(this.pagination);\n    },\n    /**\n     * todo:修改管理员\n     * @param form\n     * @return {Promise<void>}\n     */\n    async updatedUsers(form) {\n      this.$store.dispatch('role/getRoleLists', { page: 1, limit: 20, refresh: false }).then(() => {\n        this.form = JSON.parse(JSON.stringify(form));\n        this.reForm = 'updated';\n        this.syncVisible = true;\n        this.usersAttr = { roleLists: this.$store.state.role.roleLists };\n      });\n    }\n  }\n};\n</script>\n\n<style scoped>\n\n</style>\n","<template>\n  <el-table :data=\"usersLists\">\n    <el-table-column label=\"#ID\" prop=\"id\" width=\"100px\"></el-table-column>\n    <el-table-column label=\"用户名\" prop=\"username\" width=\"150px\" :show-tooltip-when-overflow=\"true\"></el-table-column>\n    <el-table-column label=\"头像\" align=\"center\">\n      <template #default=\"scope\">\n        <el-avatar :src=\"scope.row.avatar_url\" :alt=\"scope.row.username\"></el-avatar>\n      </template>\n    </el-table-column>\n    <el-table-column label=\"邮箱\" prop=\"email\" :show-tooltip-when-overflow=\"true\"></el-table-column>\n    <el-table-column label=\"手机号\" prop=\"phone_number\" :show-tooltip-when-overflow=\"true\"></el-table-column>\n    <el-table-column label=\"允许登录\" align=\"center\" width=\"100px\">\n      <template #default=\"scope\">\n        <StatusRadio :url=\"URL\" :status-model=\"scope.row\"></StatusRadio>\n      </template>\n    </el-table-column>\n    <el-table-column label=\"添加时间\" prop=\"created_at\" align=\"center\"></el-table-column>\n    <el-table-column label=\"修改时间\" prop=\"updated_at\" align=\"center\"></el-table-column>\n    <el-table-column label=\"操作\" align=\"center\" width=\"100px\">\n      <template #default=\"scope\">\n        <el-button\n          v-if=\"Permission.auth.indexOf(URL) > -1\"\n          plain\n          size=\"mini\"\n          icon=\"el-icon-edit\"\n          type=\"primary\"\n          @click=\"$emit('updatedUsers', scope.row)\">\n          修改\n        </el-button>\n      </template>\n    </el-table-column>\n  </el-table>\n</template>\n\n<script>\nimport StatusRadio from '../../common/StatusRadio';\nimport Urls from '../../../api/urls';\n\nexport default {\n  name: 'UsersLists',\n  components: { StatusRadio },\n  props: ['usersLists'],\n  data() {\n    return {\n      URL: Urls.users.update\n    };\n  }\n};\n</script>\n\n<style scoped>\n\n</style>\n","import { render } from \"./Lists.vue?vue&type=template&id=6179b20e&scoped=true\"\nimport script from \"./Lists.vue?vue&type=script&lang=js\"\nexport * from \"./Lists.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\phpstudy_pro\\\\WWW\\\\vue-app\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-6179b20e\"]])\n\nexport default __exports__","<template>\n  <div id=\"users\">\n    <el-dialog\n      v-model=\"visible\"\n      :title=\"reForm === 'created' ? '添加管理员' : '修改管理员'\"\n      :show-close=\"false\"\n      :close-on-click-modal=\"false\"\n      :close-on-press-escape=\"false\"\n      center>\n      <el-form :model=\"localForm\" :ref=\"reForm\" label-position=\"left\" label-width=\"100px\" :rules=\"rules\">\n        <el-form-item label=\"用户名：\" prop=\"username\">\n          <el-input v-model.trim=\"localForm.username\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"用户头像：\" prop=\"avatar_url\" class=\"avatar-url\">\n          <CommonUpload\n            :avatar-image=\"{ username: localForm.username, avatar_url: localForm.avatar_url, size: 100 }\"\n            :file-size=\"100\"\n            :img-width=\"0\"\n            :img-height=\"0\"\n            :upload-controls=\"{ button_type: 'avatar', show_file_list: false, show_tips: false }\"\n            :uploadSuccess=\"uploadSuccess\">\n          </CommonUpload>\n        </el-form-item>\n        <el-form-item label=\"登录密码：\" prop=\"password\">\n          <el-input v-model.trim=\"localForm.password\" show-password type=\"password\" placeholder=\"请输入登录密码\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"邮箱账号：\" prop=\"email\">\n          <el-input v-model.trim=\"localForm.email\" placeholder=\"请输入邮箱账号\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"手机号：\" prop=\"phone_number\">\n          <el-input v-model.number=\"localForm.phone_number\" placeholder=\"请输入手机号\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"用户角色：\" prop=\"role_id\">\n          <el-select v-model.number=\"localForm.role_id\" filterable placeholder=\"请选择用户角色\">\n            <el-option\n              v-for=\"(role,index) in usersAttr['roleLists']\"\n              :key=\"index\"\n              :label=\"role.role_name\"\n              :value=\"role.id\">\n            </el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"允许登录：\" class=\"is-required\">\n          <el-switch\n            v-model.number=\"localForm.status\"\n            active-color=\"#13ce66\"\n            inactive-color=\"#ff4949\"\n            :active-value=\"1\"\n            :inactive-value=\"2\">\n          </el-switch>\n        </el-form-item>\n        <SubmitButton\n          :form=\"submitForm\"\n          :reForm=\"reForm\"\n          @closeDialog=\"$emit('getUsersLists', { page: 1, limit: 15, refresh: true, total: 0 })\">\n        </SubmitButton>\n      </el-form>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport SubmitButton from '../../common/SubmitForm';\nimport CommonUpload from '../../common/CommonUpload';\nimport { toggle } from '../../mixins/toggle';\nimport urls from '../../../api/urls';\n\nexport default {\n  name: 'UsersDialog',\n  components: { CommonUpload, SubmitButton },\n  mixins: [toggle],\n  props: ['form', 'reForm', 'usersAttr'],\n  data() {\n    return {\n      localForm: this.form,\n      submitForm: {},\n      rules: {\n        username: [{ required: true, message: '请输入用户昵称', trigger: 'blur' }],\n        avatar_url: [{ required: true, message: '请上传用户头像', trigger: 'change' }],\n        email: [{ required: true, message: '请输入邮箱账号', trigger: 'blur', type: 'email' }],\n        password: [{ required: true, message: '请输入登录密码', trigger: 'blur' }],\n        phone_number: [{ required: true, message: '请输入手机号', trigger: 'blur' }],\n        role_id: [{ required: true, message: '请选择用户角色', trigger: 'change' }]\n      }\n    };\n  },\n  watch: {\n    form() {\n      this.localForm = this.form;\n      this.$nextTick(() => {\n        setTimeout(() => {\n          this.submitForm = {\n            model: this.localForm,\n            $refs: this.$refs,\n            url: this.reForm === 'created' ? urls.users.save : urls.users.update\n          };\n        }, 1000);\n      });\n    }\n  },\n  methods: {\n    /**\n     * todo:图片上传成功\n     * @param response\n     */\n    uploadSuccess(response) {\n      this.localForm.avatar_url = (((response || {}).item || {}).lists || {}).src || '';\n    }\n  }\n};\n</script>\n\n<style lang=\"less\">\n#users {\n  .avatar-url {\n    display: flex;\n    align-items: center;\n    position: relative;\n\n    .el-form-item__content {\n      margin-left: 0 !important;\n    }\n  }\n}\n</style>\n","import { render } from \"./Dialog.vue?vue&type=template&id=e0f63220\"\nimport script from \"./Dialog.vue?vue&type=script&lang=js\"\nexport * from \"./Dialog.vue?vue&type=script&lang=js\"\n\nimport \"./Dialog.vue?vue&type=style&index=0&id=e0f63220&lang=less\"\n\nimport exportComponent from \"D:\\\\phpstudy_pro\\\\WWW\\\\vue-app\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Users.vue?vue&type=template&id=1440663a&scoped=true\"\nimport script from \"./Users.vue?vue&type=script&lang=js\"\nexport * from \"./Users.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\phpstudy_pro\\\\WWW\\\\vue-app\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-1440663a\"]])\n\nexport default __exports__","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Dialog.vue?vue&type=style&index=0&id=e0f63220&lang=less\""],"sourceRoot":""}