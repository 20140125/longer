{"version":3,"sources":["webpack:///./src/pages/home/Message.vue","webpack:///./src/pages/home/Message.vue?7061","webpack:///./node_modules/core-js/internals/get-substitution.js","webpack:///./node_modules/core-js/modules/es.string.trim.js","webpack:///./node_modules/core-js/modules/es.regexp.constructor.js","webpack:///./node_modules/core-js/modules/es.string.replace.js","webpack:///./node_modules/core-js/internals/string-trim-forced.js"],"names":["class","ref","header-title","receiver","client_name","connect-web-socket","body","style","cssStyle","box","content","selfMessage","item","index","key","from_client_name","Permission","username","size","src","client_img","replaceContent","contentEditable","inputMessage","type","sendMessage","name","components","HomeLayout","data","uploadData","token","this","$store","state","baseLayout","file_type","round_name","computed","lists","messageLists","forEach","to_client_id","uuid","from_client_id","push","commit","JSON","parse","stringify","userLists","mounted","$nextTick","$router","path","created","scrollHeight","document","documentElement","methods","$refs","message","innerHTML","trim","sayJSON","to_client_name","avatar_url","replace","room_id","time","Date","homeLayout","setTimeout","RegExp","__exports__","render","toObject","floor","Math","SUBSTITUTION_SYMBOLS","SUBSTITUTION_SYMBOLS_NO_NAMED","module","exports","matched","str","position","captures","namedCaptures","replacement","tailPos","length","m","symbols","undefined","call","match","ch","capture","charAt","slice","n","f","$","$trim","forcedStringTrimMethod","target","proto","forced","DESCRIPTORS","global","isForced","inheritIfRequired","createNonEnumerableProperty","defineProperty","getOwnPropertyNames","isRegExp","getFlags","stickyHelpers","redefine","fails","has","enforceInternalState","enforce","setSpecies","wellKnownSymbol","UNSUPPORTED_DOT_ALL","UNSUPPORTED_NCG","MATCH","NativeRegExp","RegExpPrototype","prototype","IS_NCG","re1","re2","CORRECT_NEW","UNSUPPORTED_Y","BASE_FORCED","handleDotAll","string","chr","result","brackets","handleNCG","named","names","ncg","groupid","groupname","test","SyntaxError","RegExpWrapper","pattern","flags","rawPattern","rawFlags","dotAll","sticky","handled","thisIsRegExp","patternIsRegExp","flagsAreUndefined","groups","constructor","source","String","indexOf","raw","error","proxy","configurable","get","set","it","keys","fixRegExpWellKnownSymbolLogic","anObject","toLength","toInteger","requireObjectCoercible","advanceStringIndex","getSubstitution","regExpExec","REPLACE","max","min","maybeToString","REPLACE_KEEPS_$0","REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE","REPLACE_SUPPORTS_NAMED_GROUPS","re","exec","a","_","nativeReplace","maybeCallNative","UNSAFE_SUBSTITUTE","searchValue","replaceValue","O","replacer","res","done","value","rx","S","functionalReplace","fullUnicode","unicode","lastIndex","results","matchStr","accumulatedResult","nextSourcePosition","i","j","replacerArgs","concat","apply","whitespaces","non","METHOD_NAME"],"mappings":"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","file":"js/chunk-4cf1189e.5f1f7af4.js","sourcesContent":["<template>\n  <HomeLayout ref=\"homeLayout\" :header-title=\"receiver.client_name\" :connect-web-socket=\"true\">\n    <template #body>\n      <div :style=\"cssStyle.box\" class=\"message-box\">\n        <div :style=\"cssStyle.content\" class=\"message-content\">\n          <div v-for=\"(item, index) in selfMessage\" :key=\"index\">\n            <div\n              :class=\"`${item.from_client_name === Permission.username ? 'self-state' : ''}`\"\n              class=\"user-info__message\">\n              <el-avatar\n                :class=\"`${item.from_client_name === Permission.username ? 'self-state' : ''}`\"\n                :size=\"40\"\n                :src=\"item.client_img\">\n              </el-avatar>\n              <div\n                :class=\"`${item.from_client_name === Permission.username ? 'self-state' : ''}`\"\n                class=\"content\"\n                v-html=\"replaceContent(item.content)\">\n              </div>\n            </div>\n          </div>\n        </div>\n        <!--发送消息-->\n        <div class=\"message-input__item\">\n          <div ref=\"message\" class=\"input-content\" contentEditable=\"true\" @keydown=\"inputMessage\"></div>\n          <el-button type=\"primary\" size=\"medium\" @click=\"sendMessage\">发送</el-button>\n        </div>\n      </div>\n    </template>\n  </HomeLayout>\n</template>\n\n<script>\nimport HomeLayout from '@/components/HomeLayout';\nimport { scrollToBottom, setTime } from '@/utils/func';\n\nexport default {\n  name: 'Message',\n  components: { HomeLayout },\n  data() {\n    return {\n      uploadData: {\n        token: this.$store.state.baseLayout.token,\n        file_type: 'text',\n        round_name: true\n      },\n      cssStyle: { box: '', content: '' }\n    };\n  },\n  computed: {\n    /* 自己的聊天记录 */\n    selfMessage() {\n      const lists = [];\n      this.messageLists.forEach((item) => {\n        if ((item.to_client_id === this.receiver.uuid || item.from_client_id === this.receiver.uuid) && this.Permission.uuid !== this.receiver.uuid) {\n          lists.push(item);\n        }\n      });\n      this.$store.commit('index/UPDATE_MUTATIONS', { selfMessage: lists });\n      return lists;\n    },\n    /* 消息总列表 */\n    messageLists() {\n      return JSON.parse(JSON.stringify(this.$store.state.index.messageLists));\n    },\n    /* 接收者 */\n    receiver() {\n      return this.$store.state.index.receiver;\n    },\n    /* 用户列表 */\n    userLists() {\n      return this.$store.state.index.userLists;\n    }\n  },\n  mounted() {\n    this.$nextTick(async () => {\n      if (!this.Permission) {\n        await this.$router.push({ path: '/' });\n      }\n    });\n  },\n  created() {\n    let scrollHeight = document.documentElement.scrollHeight || document.body.scrollHeight;\n    this.cssStyle.box = `height: ${scrollHeight - 120}px`;\n    this.cssStyle.content = `height: ${scrollHeight - 200}px`;\n  },\n  methods: {\n    /**\n     * todo:发送消息\n     * @returns {boolean}\n     */\n    sendMessage() {\n      if (this.$refs.message.innerHTML.trim() === '') {\n        return false;\n      }\n      let sayJSON = {\n        type: 'say',\n        to_client_id: this.receiver.uuid,\n        to_client_name: this.receiver.client_name,\n        from_client_name: this.Permission.username,\n        from_client_id: this.Permission.uuid,\n        client_img: this.Permission.avatar_url,\n        content: this.$refs.message.innerHTML.trim().replace('<div><br></div>', ''),\n        room_id: this.receiver.room_id,\n        uuid: this.receiver.uuid,\n        time: setTime(Date.parse(new Date()))\n      };\n      this.$refs.homeLayout.sendMessage(JSON.stringify(sayJSON));\n      this.messageLists.push(sayJSON);\n      this.$store.commit('index/UPDATE_MUTATIONS', { messageLists: this.messageLists });\n      setTimeout(() => {\n        scrollToBottom('.message-content');\n      }, 100);\n      this.$refs.message.innerHTML = '';\n    },\n    /**\n     * todo:字符串替换\n     * @param content\n     * @returns {*}\n     */\n    replaceContent(content) {\n      return content.replace(new RegExp(/&lt;/g), '<').replace(new RegExp(/&gt;/g), '>').replace(new RegExp(/&quot;/g), '\"');\n    }\n  }\n};\n</script>\n\n<style scoped>\n\n</style>\n","import { render } from \"./Message.vue?vue&type=template&id=3730163c&scoped=true\"\nimport script from \"./Message.vue?vue&type=script&lang=js\"\nexport * from \"./Message.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/fanglong/Documents/vue-app/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-3730163c\"]])\n\nexport default __exports__","var toObject = require('../internals/to-object');\n\nvar floor = Math.floor;\nvar replace = ''.replace;\nvar SUBSTITUTION_SYMBOLS = /\\$([$&'`]|\\d{1,2}|<[^>]*>)/g;\nvar SUBSTITUTION_SYMBOLS_NO_NAMED = /\\$([$&'`]|\\d{1,2})/g;\n\n// `GetSubstitution` abstract operation\n// https://tc39.es/ecma262/#sec-getsubstitution\nmodule.exports = function (matched, str, position, captures, namedCaptures, replacement) {\n  var tailPos = position + matched.length;\n  var m = captures.length;\n  var symbols = SUBSTITUTION_SYMBOLS_NO_NAMED;\n  if (namedCaptures !== undefined) {\n    namedCaptures = toObject(namedCaptures);\n    symbols = SUBSTITUTION_SYMBOLS;\n  }\n  return replace.call(replacement, symbols, function (match, ch) {\n    var capture;\n    switch (ch.charAt(0)) {\n      case '$': return '$';\n      case '&': return matched;\n      case '`': return str.slice(0, position);\n      case \"'\": return str.slice(tailPos);\n      case '<':\n        capture = namedCaptures[ch.slice(1, -1)];\n        break;\n      default: // \\d\\d?\n        var n = +ch;\n        if (n === 0) return match;\n        if (n > m) {\n          var f = floor(n / 10);\n          if (f === 0) return match;\n          if (f <= m) return captures[f - 1] === undefined ? ch.charAt(1) : captures[f - 1] + ch.charAt(1);\n          return match;\n        }\n        capture = captures[n - 1];\n    }\n    return capture === undefined ? '' : capture;\n  });\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar $trim = require('../internals/string-trim').trim;\nvar forcedStringTrimMethod = require('../internals/string-trim-forced');\n\n// `String.prototype.trim` method\n// https://tc39.es/ecma262/#sec-string.prototype.trim\n$({ target: 'String', proto: true, forced: forcedStringTrimMethod('trim') }, {\n  trim: function trim() {\n    return $trim(this);\n  }\n});\n","var DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar isForced = require('../internals/is-forced');\nvar inheritIfRequired = require('../internals/inherit-if-required');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar defineProperty = require('../internals/object-define-property').f;\nvar getOwnPropertyNames = require('../internals/object-get-own-property-names').f;\nvar isRegExp = require('../internals/is-regexp');\nvar getFlags = require('../internals/regexp-flags');\nvar stickyHelpers = require('../internals/regexp-sticky-helpers');\nvar redefine = require('../internals/redefine');\nvar fails = require('../internals/fails');\nvar has = require('../internals/has');\nvar enforceInternalState = require('../internals/internal-state').enforce;\nvar setSpecies = require('../internals/set-species');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar UNSUPPORTED_DOT_ALL = require('../internals/regexp-unsupported-dot-all');\nvar UNSUPPORTED_NCG = require('../internals/regexp-unsupported-ncg');\n\nvar MATCH = wellKnownSymbol('match');\nvar NativeRegExp = global.RegExp;\nvar RegExpPrototype = NativeRegExp.prototype;\n// TODO: Use only propper RegExpIdentifierName\nvar IS_NCG = /^\\?<[^\\s\\d!#%&*+<=>@^][^\\s!#%&*+<=>@^]*>/;\nvar re1 = /a/g;\nvar re2 = /a/g;\n\n// \"new\" should create a new object, old webkit bug\nvar CORRECT_NEW = new NativeRegExp(re1) !== re1;\n\nvar UNSUPPORTED_Y = stickyHelpers.UNSUPPORTED_Y;\n\nvar BASE_FORCED = DESCRIPTORS &&\n  (!CORRECT_NEW || UNSUPPORTED_Y || UNSUPPORTED_DOT_ALL || UNSUPPORTED_NCG || fails(function () {\n    re2[MATCH] = false;\n    // RegExp constructor can alter flags and IsRegExp works correct with @@match\n    return NativeRegExp(re1) != re1 || NativeRegExp(re2) == re2 || NativeRegExp(re1, 'i') != '/a/i';\n  }));\n\nvar handleDotAll = function (string) {\n  var length = string.length;\n  var index = 0;\n  var result = '';\n  var brackets = false;\n  var chr;\n  for (; index <= length; index++) {\n    chr = string.charAt(index);\n    if (chr === '\\\\') {\n      result += chr + string.charAt(++index);\n      continue;\n    }\n    if (!brackets && chr === '.') {\n      result += '[\\\\s\\\\S]';\n    } else {\n      if (chr === '[') {\n        brackets = true;\n      } else if (chr === ']') {\n        brackets = false;\n      } result += chr;\n    }\n  } return result;\n};\n\nvar handleNCG = function (string) {\n  var length = string.length;\n  var index = 0;\n  var result = '';\n  var named = [];\n  var names = {};\n  var brackets = false;\n  var ncg = false;\n  var groupid = 0;\n  var groupname = '';\n  var chr;\n  for (; index <= length; index++) {\n    chr = string.charAt(index);\n    if (chr === '\\\\') {\n      chr = chr + string.charAt(++index);\n    } else if (chr === ']') {\n      brackets = false;\n    } else if (!brackets) switch (true) {\n      case chr === '[':\n        brackets = true;\n        break;\n      case chr === '(':\n        if (IS_NCG.test(string.slice(index + 1))) {\n          index += 2;\n          ncg = true;\n        }\n        result += chr;\n        groupid++;\n        continue;\n      case chr === '>' && ncg:\n        if (groupname === '' || has(names, groupname)) {\n          throw new SyntaxError('Invalid capture group name');\n        }\n        names[groupname] = true;\n        named.push([groupname, groupid]);\n        ncg = false;\n        groupname = '';\n        continue;\n    }\n    if (ncg) groupname += chr;\n    else result += chr;\n  } return [result, named];\n};\n\n// `RegExp` constructor\n// https://tc39.es/ecma262/#sec-regexp-constructor\nif (isForced('RegExp', BASE_FORCED)) {\n  var RegExpWrapper = function RegExp(pattern, flags) {\n    var thisIsRegExp = this instanceof RegExpWrapper;\n    var patternIsRegExp = isRegExp(pattern);\n    var flagsAreUndefined = flags === undefined;\n    var groups = [];\n    var rawPattern, rawFlags, dotAll, sticky, handled, result, state;\n\n    if (!thisIsRegExp && patternIsRegExp && pattern.constructor === RegExpWrapper && flagsAreUndefined) {\n      return pattern;\n    }\n\n    if (CORRECT_NEW) {\n      if (patternIsRegExp && !flagsAreUndefined) pattern = pattern.source;\n    } else if (pattern instanceof RegExpWrapper) {\n      if (flagsAreUndefined) flags = getFlags.call(pattern);\n      pattern = pattern.source;\n    }\n\n    pattern = pattern === undefined ? '' : String(pattern);\n    flags = flags === undefined ? '' : String(flags);\n    rawPattern = pattern;\n\n    if (UNSUPPORTED_DOT_ALL && 'dotAll' in re1) {\n      dotAll = !!flags && flags.indexOf('s') > -1;\n      if (dotAll) flags = flags.replace(/s/g, '');\n    }\n\n    rawFlags = flags;\n\n    if (UNSUPPORTED_Y && 'sticky' in re1) {\n      sticky = !!flags && flags.indexOf('y') > -1;\n      if (sticky) flags = flags.replace(/y/g, '');\n    }\n\n    if (UNSUPPORTED_NCG) {\n      handled = handleNCG(pattern);\n      pattern = handled[0];\n      groups = handled[1];\n    }\n\n    result = inheritIfRequired(\n      CORRECT_NEW ? new NativeRegExp(pattern, flags) : NativeRegExp(pattern, flags),\n      thisIsRegExp ? this : RegExpPrototype,\n      RegExpWrapper\n    );\n\n    if (dotAll || sticky || groups.length) {\n      state = enforceInternalState(result);\n      if (dotAll) {\n        state.dotAll = true;\n        state.raw = RegExpWrapper(handleDotAll(pattern), rawFlags);\n      }\n      if (sticky) state.sticky = true;\n      if (groups.length) state.groups = groups;\n    }\n\n    if (pattern !== rawPattern) try {\n      // fails in old engines, but we have no alternatives for unsupported regex syntax\n      createNonEnumerableProperty(result, 'source', rawPattern === '' ? '(?:)' : rawPattern);\n    } catch (error) { /* empty */ }\n\n    return result;\n  };\n\n  var proxy = function (key) {\n    key in RegExpWrapper || defineProperty(RegExpWrapper, key, {\n      configurable: true,\n      get: function () { return NativeRegExp[key]; },\n      set: function (it) { NativeRegExp[key] = it; }\n    });\n  };\n\n  for (var keys = getOwnPropertyNames(NativeRegExp), index = 0; keys.length > index;) {\n    proxy(keys[index++]);\n  }\n\n  RegExpPrototype.constructor = RegExpWrapper;\n  RegExpWrapper.prototype = RegExpPrototype;\n  redefine(global, 'RegExp', RegExpWrapper);\n}\n\n// https://tc39.es/ecma262/#sec-get-regexp-@@species\nsetSpecies('RegExp');\n","'use strict';\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar fails = require('../internals/fails');\nvar anObject = require('../internals/an-object');\nvar toLength = require('../internals/to-length');\nvar toInteger = require('../internals/to-integer');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar advanceStringIndex = require('../internals/advance-string-index');\nvar getSubstitution = require('../internals/get-substitution');\nvar regExpExec = require('../internals/regexp-exec-abstract');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar REPLACE = wellKnownSymbol('replace');\nvar max = Math.max;\nvar min = Math.min;\n\nvar maybeToString = function (it) {\n  return it === undefined ? it : String(it);\n};\n\n// IE <= 11 replaces $0 with the whole match, as if it was $&\n// https://stackoverflow.com/questions/6024666/getting-ie-to-replace-a-regex-with-the-literal-string-0\nvar REPLACE_KEEPS_$0 = (function () {\n  // eslint-disable-next-line regexp/prefer-escape-replacement-dollar-char -- required for testing\n  return 'a'.replace(/./, '$0') === '$0';\n})();\n\n// Safari <= 13.0.3(?) substitutes nth capture where n>m with an empty string\nvar REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE = (function () {\n  if (/./[REPLACE]) {\n    return /./[REPLACE]('a', '$0') === '';\n  }\n  return false;\n})();\n\nvar REPLACE_SUPPORTS_NAMED_GROUPS = !fails(function () {\n  var re = /./;\n  re.exec = function () {\n    var result = [];\n    result.groups = { a: '7' };\n    return result;\n  };\n  return ''.replace(re, '$<a>') !== '7';\n});\n\n// @@replace logic\nfixRegExpWellKnownSymbolLogic('replace', function (_, nativeReplace, maybeCallNative) {\n  var UNSAFE_SUBSTITUTE = REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE ? '$' : '$0';\n\n  return [\n    // `String.prototype.replace` method\n    // https://tc39.es/ecma262/#sec-string.prototype.replace\n    function replace(searchValue, replaceValue) {\n      var O = requireObjectCoercible(this);\n      var replacer = searchValue == undefined ? undefined : searchValue[REPLACE];\n      return replacer !== undefined\n        ? replacer.call(searchValue, O, replaceValue)\n        : nativeReplace.call(String(O), searchValue, replaceValue);\n    },\n    // `RegExp.prototype[@@replace]` method\n    // https://tc39.es/ecma262/#sec-regexp.prototype-@@replace\n    function (string, replaceValue) {\n      if (\n        typeof replaceValue === 'string' &&\n        replaceValue.indexOf(UNSAFE_SUBSTITUTE) === -1 &&\n        replaceValue.indexOf('$<') === -1\n      ) {\n        var res = maybeCallNative(nativeReplace, this, string, replaceValue);\n        if (res.done) return res.value;\n      }\n\n      var rx = anObject(this);\n      var S = String(string);\n\n      var functionalReplace = typeof replaceValue === 'function';\n      if (!functionalReplace) replaceValue = String(replaceValue);\n\n      var global = rx.global;\n      if (global) {\n        var fullUnicode = rx.unicode;\n        rx.lastIndex = 0;\n      }\n      var results = [];\n      while (true) {\n        var result = regExpExec(rx, S);\n        if (result === null) break;\n\n        results.push(result);\n        if (!global) break;\n\n        var matchStr = String(result[0]);\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n      }\n\n      var accumulatedResult = '';\n      var nextSourcePosition = 0;\n      for (var i = 0; i < results.length; i++) {\n        result = results[i];\n\n        var matched = String(result[0]);\n        var position = max(min(toInteger(result.index), S.length), 0);\n        var captures = [];\n        // NOTE: This is equivalent to\n        //   captures = result.slice(1).map(maybeToString)\n        // but for some reason `nativeSlice.call(result, 1, result.length)` (called in\n        // the slice polyfill when slicing native arrays) \"doesn't work\" in safari 9 and\n        // causes a crash (https://pastebin.com/N21QzeQA) when trying to debug it.\n        for (var j = 1; j < result.length; j++) captures.push(maybeToString(result[j]));\n        var namedCaptures = result.groups;\n        if (functionalReplace) {\n          var replacerArgs = [matched].concat(captures, position, S);\n          if (namedCaptures !== undefined) replacerArgs.push(namedCaptures);\n          var replacement = String(replaceValue.apply(undefined, replacerArgs));\n        } else {\n          replacement = getSubstitution(matched, S, position, captures, namedCaptures, replaceValue);\n        }\n        if (position >= nextSourcePosition) {\n          accumulatedResult += S.slice(nextSourcePosition, position) + replacement;\n          nextSourcePosition = position + matched.length;\n        }\n      }\n      return accumulatedResult + S.slice(nextSourcePosition);\n    }\n  ];\n}, !REPLACE_SUPPORTS_NAMED_GROUPS || !REPLACE_KEEPS_$0 || REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE);\n","var fails = require('../internals/fails');\nvar whitespaces = require('../internals/whitespaces');\n\nvar non = '\\u200B\\u0085\\u180E';\n\n// check that a method works with the correct list\n// of whitespaces and has a correct name\nmodule.exports = function (METHOD_NAME) {\n  return fails(function () {\n    return !!whitespaces[METHOD_NAME]() || non[METHOD_NAME]() != non || whitespaces[METHOD_NAME].name !== METHOD_NAME;\n  });\n};\n"],"sourceRoot":""}